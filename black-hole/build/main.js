(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/5+L":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RayTracingPhotonGenerator=e.RayTracingPhotonVelocityGenerator=e.RayTracer=void 0;var o=i("4kaQ"),r=i("Womt"),n=i("Uj6v"),s=i("wBSO"),a=i("L5Ia"),c=i("anZJ"),h=function(){function t(t,e,i,o,n,s){void 0===e&&(e=new r.Vector3),void 0===i&&(i=new r.Vector3(0,0,1)),void 0===o&&(o=Math.PI/4),void 0===n&&(n=100),void 0===s&&(s=299792458),this.DIST_TO_PLATE=1,this.ASPECT_RATIO=1,this.hole=e,this.createPlate(o,n),this.scene=t,this.image=new r.DataTexture(this.plate.getImage(),this.plate.resolution.x,this.plate.resolution.y,r.RGBAFormat),this.photo=new r.MeshBasicMaterial,this.photo.map=this.image,this.mesh=new r.Mesh(new r.PlaneGeometry(10,10),this.photo),this.mesh.position.copy(this.hole),this.rotation=(new r.Quaternion).setFromUnitVectors(new r.Vector3(0,0,1),i.normalize()),this.createGenerator(s),this.emitter=new c.VariableRayEmitter(this.getResolution(),this,this.generator)}return t.prototype.objectWasHit=function(t,e){this.emitter.objectWasHit(t,e)},t.prototype.getWidth=function(){return this.plate.width},t.prototype.getHeight=function(){return this.plate.height},t.prototype.getRotation=function(){return this.rotation},t.prototype.getDistanceToCanvas=function(){return this.DIST_TO_PLATE},t.prototype.getPosition=function(){return this.hole.clone()},t.prototype.setCustomizer=function(t){this.customizer=t},t.prototype.createGenerator=function(t){this.generator=new u(this.scene,t)},t.prototype.createPlate=function(t,e){var i=2*this.DIST_TO_PLATE*Math.tan(t),n=this.ASPECT_RATIO*i,s=this.ASPECT_RATIO*e,a=new o.PhotographicPlate(i,n,e,s,new r.Vector3(0,0,this.DIST_TO_PLATE),new r.Vector3(0,0,-1));this.plate=a},t.prototype.getPhoto=function(){return this.mesh},t.prototype.getResolution=function(){return this.plate.resolution},t.prototype.update=function(){this.customizer&&this.customizer.update(),this.image.needsUpdate=!0},t.prototype.emitPhotons=function(t){var e=this;t||(t=this.emitter),t.emit().forEach((function(t){e.postEmit(t)}))},t.prototype.emitFrom=function(t,e){var i=this.emitter.emitFrom(t,e);this.postEmit(i)},t.prototype.emitFromRandomPixel=function(){var t=Math.floor(Math.random()*this.plate.resolution.x),e=Math.floor(Math.random()*this.plate.resolution.x);this.emitFrom(t,e)},t.prototype.postEmit=function(t){this.customizer&&null!=t&&this.customizer.postEmit(t)},t.prototype.setPixel=function(t,e,i,o){this.plate.setPixel(t,e,i)},t}();e.RayTracer=h;var p=function(){function t(t){void 0===t&&(t=299792458),this.c=299792458,this.c=t}return t.prototype.parameter=function(t){this.dir=t.normalize()},t.prototype.generate=function(){var t=this.dir.clone();return t.multiplyScalar(this.c),t},t}();e.RayTracingPhotonVelocityGenerator=p;var u=function(){function t(t,e){void 0===e&&(e=299792458),this.x=0,this.y=0,this.generator=new n.PhotonGenerator,this.velocity_generator=new p(e),this.generator.setVelocityGenerator(this.velocity_generator),this.generator.setPositionGenerator(new s.FixedPositionGenerator(new r.Vector3)),this.scene=t}return t.prototype.parameter=function(t,e,i){this.x=t,this.y=e,this.velocity_generator.parameter(i)},t.prototype.generate=function(){var t=this.generator.generate(),e=new a.PixelRay(this.scene,new r.Vector2(this.x,this.y));return e.copy(t),e},t}();e.RayTracingPhotonGenerator=u},"/7QA":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(new(i("lelv").BlackHoleStarter)).animate()},"4kaQ":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PhotographicPlate=e.Photograph=void 0;var o=i("Womt"),r=i("fyR2"),n=function(){function t(t){this.plate=t,this.image=new o.DataTexture(this.plate.getImage(),t.resolution.x,t.resolution.y,o.RGBAFormat),this.photo=new o.MeshBasicMaterial,this.photo.map=this.image,this.mesh=new o.Mesh(new o.PlaneGeometry(10,10),this.photo)}return t.prototype.getPhoto=function(){return this.mesh},t.prototype.update=function(t,e){this.plate.expose(t,e),this.image.needsUpdate=!0},t}();e.Photograph=n;var s=function(){function t(t,e,i,r,n,s){void 0===t&&(t=1),void 0===e&&(e=1),void 0===i&&(i=100),void 0===r&&(r=100),void 0===n&&(n=new o.Vector3),void 0===s&&(s=new o.Vector3(0,0,1)),this.width=t,this.height=e,this.position=n,this.normal=s.normalize(),this.resolution=new o.Vector2(i,r),this.data=new Uint8Array(4*i*r)}return t.prototype.getImage=function(){return this.data},t.prototype.expose=function(t,e){var i=this,n=(new o.Quaternion).setFromUnitVectors(this.normal,new o.Vector3(0,0,1)),s=[16,0,0,0];t.forEach((function(t){if(t.getType()==r.SpaceParticle.PHOTON){var a=t.getPosition(),c=(new o.Vector3).addVectors(t.getPosition(),t.getVelocity().multiplyScalar(e)),h=i.intersectsWithPlate(a,c);if(h.x!=Number.POSITIVE_INFINITY){var p=h.sub(i.position);p.applyQuaternion(n),p.x=i.width/2+p.x*i.resolution.x/i.width,p.y=i.height/2+p.y*i.resolution.y/i.height,p.x=4*Math.round(p.x),p.y=4*Math.round(p.y);var u=p.y*i.resolution.x+p.x;s.forEach((function(t,e){i.data[u+e]=Math.min(i.data[u+e]+t,255)}))}}}))},t.prototype.setPixel=function(t,e,i){var o=this;t=4*Math.floor(t);var r=(e=4*Math.floor(e))*this.resolution.x+t;i.forEach((function(t,e){o.data[r+e]=Math.min(o.data[r+e]+t,255)}))},t.prototype.intersectsWithPlate=function(t,e){var i=new o.Vector3(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),r=(new o.Vector3).subVectors(e,t),n=(new o.Vector3).subVectors(t,this.position).dot(this.normal),s=(new o.Vector3).subVectors(e,this.position).dot(this.normal);if(n*s>0)return i;if(0==n)return t;if(0==s)return e;var a=Math.abs(n)/(Math.abs(n)+Math.abs(s));i=t.add(r.multiplyScalar(a));var c=(new o.Vector3).subVectors(i,this.position);return(Math.abs(c.x)>this.width||Math.abs(c.y)>this.height)&&i.set(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),i},t}();e.PhotographicPlate=s},"4xLO":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TimeProfile=void 0;var o=function(){function t(t,e){void 0===t&&(t="Method"),void 0===e&&(e=1),this.updateCount=0,this.updateEvery=e,this.name=t}return t.prototype.start=function(){this.startTime=(new Date).getTime()},t.prototype.stop=function(){var t=(new Date).getTime(),e=t-this.startTime;return this.startTime=t,this.updateCount++,this.updateCount>this.updateEvery&&(this.updateCount=0,this.print(),this.interval=0),this.interval+=e,this.interval},t.prototype.print=function(){console.log("%s took %s ms",this.name,this.interval)},t}();e.TimeProfile=o},"5OmT":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RayTracingCollisionManager=void 0;var o=i("Womt"),r=i("bJLd"),n=function(){function t(t){this.raytracer=t,this.bg=new s(this.raytracer.getResolution().x,this.raytracer.getResolution().y,1)}return t.prototype.setRays=function(t){this.rays=t},t.prototype.setObstacles=function(t){this.obstacles=t,this.octree=new r.Octree(this.obstacles,new o.Vector3(-50,-50,-50),new o.Vector3(50,50,50),4,10)},t.prototype.updateParticleInOctree=function(t){},t.prototype.onCollision=function(t,e){var i=[200,0,0,0];i=this.dopplerShiftColor(i,t.getVelocity(),e.getVelocity()),this.raytracer.setPixel(e.getOriginPixel().x,e.getOriginPixel().y,i,new o.Vector3),this.raytracer.objectWasHit(e.getOriginPixel().x,e.getOriginPixel().y)},t.prototype.dopplerShiftColor=function(t,e,i){var o=i.clone().normalize(),r=e.dot(o),n=o.multiplyScalar(e.dot(o)).length()/i.length();return r>0?t[0]=Math.min(t[0]+Math.ceil(128*n),255):t[2]=Math.min(t[2]+Math.ceil(128*n),255),t},t.prototype.update=function(t){var e=this;this.rays.forEach((function(i){var r=i.getPosition(),n=i.getPosition().addScaledVector(i.getVelocity(),t);if(r.z<-45){var s=e.raytracer.getResolution().x/2+Math.floor(r.x/100*e.raytracer.getResolution().x),a=e.raytracer.getResolution().y/2+Math.floor(r.y/100*e.raytracer.getResolution().y);if(Math.random()<1&&e.bg.shouldFill(s,a)){i.onDeath();var c=[255,255,255,0];e.raytracer.setPixel(i.getOriginPixel().x,i.getOriginPixel().y,c,new o.Vector3)}}else{var h=e.octree.findRay(r,n);if(h)h.getObjects().forEach((function(t){if(t.intersectsWithRay(r,n,i.getRadius())){i.onDeath();e.onCollision(t,i)}}))}}))},t}();e.RayTracingCollisionManager=n;var s=function(){function t(t,e,i){this.pixels=new Array(t*e),this.dimensions=new o.Vector2(t,e),this.assign(i*(t*e))}return t.prototype.assign=function(t){for(var e=0;e<this.dimensions.x;e++)for(var i=0;i<this.dimensions.y;i++)if(e%16==0||i%16==0){var o=i*this.dimensions.x+e;this.pixels[o]=1}},t.prototype.shouldFill=function(t,e){var i=e*this.dimensions.x+t;return 1==this.pixels[i]},t}()},BNAQ:function(t,e,i){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.EllipticalParticleGenerator=void 0;var n=i("KD8D"),s=i("P8No"),a=i("bYUt"),c=i("t9Jl"),h=function(t){function e(e,i,o,r,n,a,h){var p=t.call(this)||this;return p.velocity_generator=new s.TangentialVelocityGenerator,p.position_generator=new c.EllipticalPositionGenerator(e,i,o,r,n,a),p.center=o,p.axis=a,p.mag=h,p}return r(e,t),e.prototype.setWidth=function(t){this.position_generator.setWidth(t)},e.prototype.generate=function(){var t=this.mass_min+Math.random()*(this.mass_max-this.mass_min),e=new a.Particle(t),i=this.position_generator.generate();this.velocity_generator.parameters(this.center,i,this.axis);var o=this.velocity_generator.generate();return o.multiplyScalar(this.mag),e.setVelocity(o.x,o.y,o.z),e.setPosition(i.x,i.y,i.z),e.setLifespan(this.lifespan),e},e}(n.ParticleGenerator);e.EllipticalParticleGenerator=h},DFd6:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleParticle=void 0;var o=i("Womt"),r=i("bYUt"),n=function(){function t(t,e,i,n,s){void 0===i&&(i="#ff0000"),void 0===n&&(n=1),void 0===s&&(s=1),this.name=e,this.geometry=new o.SphereBufferGeometry(1),this.material=new o.MeshBasicMaterial({color:i}),this.mesh=new o.Mesh(this.geometry,this.material),this.mesh.scale.set(n,n,n),this.particle=new r.Particle(s,n),this.color=i,this.scene=t,this.scene.add(this.mesh)}return t.prototype.intersectsWithBox=function(t,e){return this.particle.intersectsWithBox(t,e)},t.prototype.setRadius=function(t){return this.mesh.scale.set(t,t,t),this.particle.setRadius(t)},t.prototype.intersectsWithRay=function(t,e,i){return this.particle.intersectsWithRay(t,e,i)},t.prototype.isAlive=function(){return this.particle.isAlive()},t.prototype.copy=function(t){this.particle.copy(t),this.mesh.scale.set(this.particle.getRadius(),this.particle.getRadius(),this.particle.getRadius())},t.prototype.setType=function(t){return this.particle.setType(t)},t.prototype.getType=function(){return this.particle.getType()},t.prototype.update=function(){},t.prototype.getLifespan=function(){return this.particle.getLifespan()},t.prototype.setLifespan=function(t){return this.particle.setLifespan(t)},t.prototype.getAge=function(){return this.particle.getAge()},t.prototype.setAge=function(t){return this.particle.setAge(t)},t.prototype.position=function(t){return void 0!==t&&this.mesh.position.copy(t),this.mesh.position.clone()},t.prototype.setMass=function(t){this.particle.setMass(t)},t.prototype.getMass=function(){return this.particle.getMass()},t.prototype.getVelocity=function(){return this.particle.getVelocity()},t.prototype.getPosition=function(){return this.position()},t.prototype.setPosition=function(t,e,i){var r=this.position(new o.Vector3(t,e,i));return this.particle.setPosition(t,e,i),r},t.prototype.setVelocity=function(t,e,i){return this.particle.setVelocity(t,e,i)},t.prototype.getRadius=function(){return this.particle.getRadius()},t.prototype.destroy=function(){this.geometry.dispose(),this.material.dispose()},t.prototype.addLightSource=function(t){var e=new o.PointLight(t);this.mesh.add(e)},t.prototype.onDeath=function(){this.scene.remove(this.mesh),this.destroy(),this.particle.onDeath()},t}();e.VisibleParticle=n},KD8D:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParticleGenerator=void 0;var o=i("Womt"),r=i("wBSO"),n=i("PeOb"),s=i("bYUt"),a=function(){function t(){this.position=new o.Vector3,this.lifespan=0,this.position_generator=new r.FixedPositionGenerator(this.position),this.velocity_generator=new n.RandomVelocityGenerator}return t.prototype.setVelocityGenerator=function(t){this.velocity_generator=t},t.prototype.setPositionGenerator=function(t){this.position_generator=t},t.prototype.generate=function(){var t=this.mass_min+Math.random()*(this.mass_max-this.mass_min),e=new s.Particle(t),i=this.velocity_generator.generate(),o=this.position_generator.generate();return e.setVelocity(i.x,i.y,i.z),e.setPosition(o.x,o.y,o.z),e.setLifespan(this.lifespan),e},t.prototype.setPosition=function(t){this.position.copy(t)},t.prototype.getPosition=function(){return this.position.clone()},t.prototype.setParameters=function(t,e,i){this.mass_max=e,this.mass_min=t,this.lifespan=i},t}();e.ParticleGenerator=a},L5Ia:function(t,e,i){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.PixelRay=void 0;var n=i("bYUt"),s=i("Womt"),a=function(t){function e(e,i){void 0===i&&(i=new s.Vector2);var o=t.call(this,0)||this;return o.origin=i,o}return r(e,t),e.prototype.getOriginPixel=function(){return this.origin},e.prototype.setOriginPixel=function(t,e){this.origin.set(t,e)},e}(n.Particle);e.PixelRay=a},P8No:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TangentialVelocityGenerator=void 0;var o=i("Womt"),r=function(){function t(){}return t.prototype.parameters=function(t,e,i){this.position=e,this.center=t,this.axis=i.normalize()},t.prototype.generate=function(){var t=(new o.Vector3).subVectors(this.position,this.center).normalize();return(new o.Vector3).crossVectors(t,this.axis)},t}();e.TangentialVelocityGenerator=r},PXhL:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PhotonVelocityGenerator=void 0;var o=i("Womt"),r=function(){function t(){this.c=299792458}return t.prototype.parameter=function(t){this.c=t},t.prototype.generate=function(){var t=new o.Vector3(2*Math.random()-1,2*Math.random()-1,2*Math.random()-1);return t.multiplyScalar(this.c),t},t}();e.PhotonVelocityGenerator=r},PeOb:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomVelocityGenerator=void 0;var o=i("Womt"),r=function(){function t(){}return t.prototype.generate=function(){return new o.Vector3(2*Math.random()-1,2*Math.random()-1,2*Math.random()-1)},t}();e.RandomVelocityGenerator=r},Uj6v:function(t,e,i){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.PhotonGenerator=void 0;var n=i("KD8D"),s=i("PXhL"),a=i("fyR2"),c=i("Womt"),h=function(t){function e(){var e=t.call(this)||this;return e.speedOfLight=299792458,e.velocity_generator=new s.PhotonVelocityGenerator,e.mass_max=0,e.mass_min=0,e.lifespan=0,e}return r(e,t),e.prototype.generate=function(){var e=t.prototype.generate.call(this);return e.setType(a.SpaceParticle.PHOTON),e.setRadius(.1),e},e.prototype.setSpeedOfLight=function(t){this.speedOfLight=t;var e=new s.PhotonVelocityGenerator;this.velocity_generator=e,e.parameter(t)},e.prototype.randomVelocity=function(){var t=new c.Vector3(Math.random(),Math.random(),Math.random());return t.normalize(),t.multiplyScalar(this.speedOfLight),t},e}(n.ParticleGenerator);e.PhotonGenerator=h},W87h:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GravityForce=void 0;var o=i("Womt"),r=function(){function t(t){this.G=t||1}return t.prototype.vec_length_squared=function(t){return t.x*t.x+t.y*t.y+t.z*t.z},t.prototype.apply=function(t,e){var i=t.getPosition().sub(e.getPosition()),r=1/this.vec_length_squared(i),n=new o.Vector3,s=new o.Vector3;if(r>0){var a=i.normalize();n=a.clone().multiplyScalar(-this.G*e.getMass()*r),s=a.clone().multiplyScalar(this.G*t.getMass()*r)}return[n,s]},t.calculate=function(t,e,i){return this.GRAVITATION_CONSTANT*t*i*i/(e*e*e)},Object.defineProperty(t.prototype,"G",{get:function(){return this._G},set:function(t){this._G=t},enumerable:!1,configurable:!0}),t.GRAVITATION_CONSTANT=66743e-15,t}();e.GravityForce=r},XZJ1:function(t,e,i){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.BlackHoleParticleSystem=void 0;var n=i("ltrx"),s=i("fyR2"),a=i("Womt"),c=i("Ysi0"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eventHorizon=Number.POSITIVE_INFINITY,e.eventHorizon2=Number.POSITIVE_INFINITY,e.myprofiler=new c.TimeProfiler,e}return r(e,t),e.prototype.setEventHorizon=function(t){this.eventHorizon=t},e.prototype.calculateDerivative=function(t){var e=this;return this.particles.forEach((function(e,i){var o=e.getVelocity();t.set(i,[o.x,o.y,o.z,0,0,0])})),this.forces.forEach((function(i){for(var o=1;o<e.particles.length;o++)if(e.particles[o].getType()==s.SpaceParticle.PHOTON){var r=i.apply(e.particles[o],e.particles[0]);t.add(o,[0,0,0,r[0].x,r[0].y,r[0].z]),t.add(0,[0,0,0,r[1].x,r[1].y,r[1].z])}}),this),t},e.prototype.updateAllParticles=function(){var t=this;this.particles.forEach((function(e,i){if(t.particles[i].getType()==s.SpaceParticle.PHOTON){var o=t.derivative.get(i),r=e.getPosition(),n=e.getVelocity();e.setPosition(r.x+o[0],r.y+o[1],r.z+o[2]),e.setVelocity(n.x+o[3],n.y+o[4],n.z+o[5])}}),this)},e.prototype.updateHook=function(){for(var t=this.particles.length-1;t>0;t--){var e=this.particles[0];(new a.Vector3).subVectors(e.getPosition(),this.particles[t].getPosition()).length()<this.eventHorizon&&(this.particles[t].onDeath(),this.removeParticle(t))}},e}(n.ParticleSystem);e.BlackHoleParticleSystem=h},Ysi0:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TimeProfiler=void 0;var o=i("4xLO"),r=function(){function t(){this.timeProfiles=new Map}return t.prototype.start=function(t,e){if(void 0===e&&(e=1),this.timeProfiles.has(t))this.timeProfiles.get(t).start();else{var i=new o.TimeProfile(t,e);this.timeProfiles.set(t,i),i.start()}},t.prototype.stop=function(t,e){if(void 0===e&&(e=1),this.timeProfiles.has(t))this.timeProfiles.get(t).stop();else{var i=new o.TimeProfile(t,e);this.timeProfiles.set(t,i),i.stop()}},t}();e.TimeProfiler=r},anZJ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VariableRayEmitter=void 0;var o=i("Womt"),r=function(){function t(t,e,i){this.N_REGION_LEN=16,this.MAX_EMISSIONS_FROM_PIXEL=1,this.resolution=t,this.pixelMap=new Array(t.x*t.y),this.rayEmittedCount=new Array(t.x*t.y);for(var r=0;r<this.rayEmittedCount.length;r++)this.rayEmittedCount[r]=0;this.regions=new Array,this.raytracer=e,this.generator=i,this.divideAndRassignPixels(new o.Vector2(0,0),new o.Vector2(t.x,t.y))}return t.prototype.emit=function(){for(var t=this.regions.length/2,e=new Array,i=0;i<t;i++){var o=this.regions[2*i],r=this.regions[2*i+1],n=this.emitFromRegion(o,r);e.push(n)}return e},t.prototype.test=function(){this.divideAndRassignPixels(new o.Vector2(0,0),new o.Vector2(64,64)),console.log("The pixel map",this.pixelMap),console.log("Regions",this.regions)},t.prototype.divideAndRassignPixels=function(t,e){var i=this.regions.length,o=e.x-t.x,r=e.y-t.y;if(!(o<=1||r<=1)){this.divide(t,o,r);for(var n=0;n<this.N_REGION_LEN*this.N_REGION_LEN;n++)for(var s=this.regions[i+2*n],a=this.regions[i+2*n+1],c=Math.floor(a.x),h=Math.floor(s.x);h<c;h++)for(var p=Math.floor(a.y),u=Math.floor(s.y);u<p;u++){var l=u*this.resolution.x+h;this.pixelMap[l]=i+2*n}}},t.prototype.divide=function(t,e,i){for(var r=this.N_REGION_LEN*this.N_REGION_LEN,n=0;n<r;n++){var s=n%this.N_REGION_LEN,a=Math.floor(n/this.N_REGION_LEN),c=new o.Vector2(e*(s/this.N_REGION_LEN),i*(a/this.N_REGION_LEN)),h=new o.Vector2(e*((s+1)/this.N_REGION_LEN),i*((a+1)/this.N_REGION_LEN));c.add(t),h.add(t),this.regions.push(c),this.regions.push(h)}},t.prototype.emitFrom=function(t,e){var i=this.getRegion(t,e);return this.emitFromRegion(i[0],i[1])},t.prototype.incrementPixelCount=function(t,e){var i=e*this.resolution.x+t;this.rayEmittedCount[i]++},t.prototype.hasExceededRayCount=function(t,e){var i=e*this.resolution.x+t,o=this.MAX_EMISSIONS_FROM_PIXEL;return this.rayEmittedCount[i]>o},t.prototype.emitFromRegion=function(t,e){var i=Math.floor(t.x+Math.random()*(e.x-t.x)),o=Math.floor(t.y+Math.random()*(e.y-t.y));return this.emitFromPixel(i,o)},t.prototype.emitFromPixel=function(t,e){if(this.hasExceededRayCount(t,e))return null;Math.random();Math.random();var i=(t+0)/this.resolution.x*this.raytracer.getWidth()-this.raytracer.getWidth()/2,r=(e+0)/this.resolution.y*this.raytracer.getHeight()-this.raytracer.getHeight()/2,n=this.raytracer.getDistanceToCanvas(),s=new o.Vector3(i,r,n);s.applyQuaternion(this.raytracer.getRotation()),this.generator.parameter(t,e,s);var a=this.generator.generate();return a.setPosition(this.raytracer.getPosition().x,this.raytracer.getPosition().y,this.raytracer.getPosition().z),this.incrementPixelCount(t,e),a},t.prototype.getRegionIndex=function(t,e){var i=e*this.resolution.x+t;return this.pixelMap[i]},t.prototype.getRegion=function(t,e){var i=this.getRegionIndex(t,e);return[this.regions[i],this.regions[i+1]]},t.prototype.objectWasHit=function(t,e){var i=this.getRegion(t,e),o=this.regions.length;this.divideAndRassignPixels(i[0],i[1]);for(var r=o;r<this.regions.length;r+=2){var n=this.emitFromRegion(this.regions[r],this.regions[r+1]);this.raytracer.postEmit(n)}},t}();e.VariableRayEmitter=r},bJLd:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Octree=void 0;var o=i("Womt"),r=function(){function t(t,e,i,o,r,n){void 0===o&&(o=0),void 0===r&&(r=Number.POSITIVE_INFINITY),void 0===n&&(n=0),this.MAX_OBJECTS_IN_NODE=3,this.minDiagLength=0,this.maxDepth=Number.POSITIVE_INFINITY,this.depth=0,this.node=new Array,this.setMinDiagLength(o),this.create(t,e,i),this.corners=new Array(2),this.corners[0]=e,this.corners[1]=i,this.maxDepth=r,this.depth=n}return t.prototype.setMinDiagLength=function(t){this.minDiagLength=t},t.prototype.create=function(e,i,r){this.objects=e;var n=[r.x-i.x,r.y-i.y,r.z-i.z],s=n[0]*n[0]+n[1]*n[1]+n[2]*n[2];if(s/=4,!(e.length<=this.MAX_OBJECTS_IN_NODE||this.minDiagLength>=s||this.depth>=this.maxDepth)){var a=new Array,c=(new o.Vector3).addVectors(i,r).multiplyScalar(.5);a.push(i),a.push(c),n.forEach((function(t,e){for(var i=a.length,o=0;o<i;o++){var r=a[o].clone(),n=r.toArray();n[e]=n[e]+t/2,r.fromArray(n),a.push(r)}}));for(var h=function(i){var o=new Array;e.forEach((function(t){t.intersectsWithBox(a[2*i],a[2*i+1])&&o.push(t)})),o.length>0&&o.length<e.length&&p.node.push(new t(o,a[2*i],a[2*i+1],p.minDiagLength,p.maxDepth,p.depth+1))},p=this,u=0;u<8;u++)h(u)}},t.prototype.find=function(t){if(this.contains(t)){for(var e=0;e<this.node.length;e++){var i=this.node[e].find(t);if(null!==i)return i}return this}return null},t.prototype.findRay=function(t,e){if(this.contains(t)&&this.contains(e)){if(0==this.node.length)return this;for(var i=0;i<this.node.length;i++){var o=this.node[i].findRay(t,e);if(null!==o)return o}}return null},t.prototype.contains=function(t){return!(t.x>Math.max(this.corners[0].x,this.corners[1].x))&&(!(t.y>Math.max(this.corners[0].y,this.corners[1].y))&&(!(t.z>Math.max(this.corners[0].z,this.corners[1].z))&&(!(t.x<Math.min(this.corners[0].x,this.corners[1].x))&&(!(t.y<Math.min(this.corners[0].y,this.corners[1].y))&&!(t.z<Math.min(this.corners[0].z,this.corners[1].z))))))},t.prototype.getObjects=function(){return this.objects},t}();e.Octree=r},bQUK:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScaledUnits=void 0;var o=function(){function t(t,e,i){void 0===t&&(t=1),void 0===e&&(e=1),void 0===i&&(i=1),this._metres=t,this._kilograms=e,this._seconds=i}return t.prototype.setMetresScale=function(t,e){void 0===e&&(e=1),this._metres=t/e},t.prototype.setKgsScale=function(t,e){void 0===e&&(e=1),this._kilograms=t/e},t.prototype.setTimeScale=function(t,e){void 0===e&&(e=1),this._seconds=t/e},Object.defineProperty(t.prototype,"metres",{get:function(){return this._metres},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"kgs",{get:function(){return this._kilograms},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seconds",{get:function(){return this._seconds},enumerable:!1,configurable:!0}),t.prototype.getScaledDistance=function(t){return t/this._metres},t.prototype.getScaledMass=function(t){return t/this._kilograms},t.prototype.getScaledTime=function(t){return t/this._seconds},t.prototype.getUnscaledTime=function(t){return t*this._seconds},t.prototype.getScaledVelocity=function(t){return t*this.seconds/this.metres},t.prototype.getUnscaledVelocity=function(t){return t*this._metres/this._seconds},t}();e.ScaledUnits=o},bYUt:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Particle=void 0;var o=i("Womt"),r=function(){function t(t,e,i,r){void 0===t&&(t=1),void 0===e&&(e=1),void 0===i&&(i=0),void 0===r&&(r=1),this.velocity=new o.Vector3,this.position=new o.Vector3,this.mass=t,this.radius=e,this.lifeSpan=i,this.age=0,this.type=r,this.alive=!0}return t.prototype.intersectsWithBox=function(t,e){var i=this.getPosition();return!(i.x>Math.max(t.x,e.x)+this.getRadius())&&(!(i.y>Math.max(t.y,e.y)+this.getRadius())&&(!(i.z>Math.max(t.z,e.z)+this.getRadius())&&(!(i.x<Math.min(t.x,e.x)-this.getRadius())&&(!(i.y<Math.min(t.y,e.y)-this.getRadius())&&!(i.z<Math.min(t.z,e.z)-this.getRadius())))))},t.prototype.setRadius=function(t){return this.radius=t,this.radius},t.prototype.isAlive=function(){return this.alive},t.prototype.intersectsWithRay=function(t,e,i){var r=(new o.Vector3).subVectors(e,t).normalize(),n=this.getPosition().sub(t),s=this.getPosition().sub(e),a=n.dot(r),c=s.dot(r);if(a*c>0){var h=Math.min(Math.abs(a),Math.abs(c)),p=Math.max(Math.abs(a),Math.abs(c));if((h=h-this.radius-i)*p>0)return!1}return n.sub(r.multiplyScalar(a)).length()<=this.getRadius()+i},t.prototype.copy=function(t){this.velocity=t.getVelocity(),this.position=t.getPosition(),this.age=t.getAge(),this.mass=t.getMass(),this.radius=t.getRadius(),this.lifeSpan=t.getLifespan(),this.type=t.getType()},t.prototype.getType=function(){return this.type},t.prototype.setType=function(t){return this.type=t,t},t.prototype.update=function(){},t.prototype.setLifespan=function(t){return this.lifeSpan=t,this.lifeSpan},t.prototype.setAge=function(t){return this.age=t,this.age},t.prototype.getLifespan=function(){return this.lifeSpan},t.prototype.getAge=function(){return this.age},t.prototype.getMass=function(){return this.mass},t.prototype.setMass=function(t){this.mass=t},t.prototype.getVelocity=function(){return this.velocity.clone()},t.prototype.getPosition=function(){return this.position.clone()},t.prototype.setPosition=function(t,e,i){return this.position.set(t,e,i)},t.prototype.setVelocity=function(t,e,i){return this.velocity.set(t,e,i)},t.prototype.getRadius=function(){return this.radius},t.prototype.onDeath=function(){this.alive=!1},t}();e.Particle=r},fyR2:function(t,e,i){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.SpaceParticleGenerator=e.SpaceParticle=void 0;var n=i("Womt"),s=i("KD8D"),a=i("Uj6v"),c=i("DFd6"),h=function(){function t(t,e,i,o){this.particle=new c.VisibleParticle(t,"p","#ff0000",.21,e);var r=new a.PhotonGenerator;r.setSpeedOfLight(o.getScaledVelocity(r.speedOfLight)),this.generator=r,this.ps=i}return t.prototype.intersectsWithBox=function(t,e){return this.particle.intersectsWithBox(t,e)},t.prototype.setRadius=function(t){return this.particle.setRadius(t)},t.prototype.intersectsWithRay=function(t,e,i){return this.particle.intersectsWithRay(t,e,i)},t.prototype.isAlive=function(){return this.particle.isAlive()},t.prototype.copy=function(t){this.particle.copy(t)},t.prototype.setType=function(t){return this.particle.setType(t)},t.prototype.getType=function(){return this.particle.getType()},t.prototype.update=function(){},t.prototype.getMass=function(){return this.particle.getMass()},t.prototype.setMass=function(t){this.particle.setMass(t)},t.prototype.getVelocity=function(){return this.particle.getVelocity()},t.prototype.getPosition=function(){return this.particle.getPosition()},t.prototype.setVelocity=function(t,e,i){return this.particle.setVelocity(t,e,i)},t.prototype.getRadius=function(){return this.particle.getRadius()},t.prototype.getLifespan=function(){return this.particle.getLifespan()},t.prototype.setLifespan=function(t){return this.particle.setLifespan(t)},t.prototype.getAge=function(){return this.particle.getAge()},t.prototype.setAge=function(t){return this.particle.setAge(t)},t.prototype.onDeath=function(){this.particle.onDeath()},t.prototype.setPosition=function(t,e,i){return this.generator.setPosition(new n.Vector3(t,e,i)),this.particle.setPosition(t,e,i)},t.PHOTON=1010,t}();e.SpaceParticle=h;var p=function(t){function e(e,i,o,r){var n=t.call(this)||this;return n.scene=e,n.ps=i,n.units=o,n.generator=r,n}return r(e,t),e.prototype.setGenerator=function(t){this.generator=t},e.prototype.generate=function(){var e;e=this.generator?this.generator.generate():t.prototype.generate.call(this);var i=new h(this.scene,e.getMass(),this.ps,this.units),o=e.getPosition().add(this.position);return i.setVelocity(e.getVelocity().x,e.getVelocity().y,e.getVelocity().z),i.setPosition(o.x,o.y,o.z),i.setLifespan(e.getLifespan()),i.setType(e.getType()),i.setRadius(2),i},e}(s.ParticleGenerator);e.SpaceParticleGenerator=p},kEKz:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlackHoleSystem=void 0;var o=i("XZJ1"),r=i("fyR2"),n=i("Womt"),s=i("bQUK"),a=i("DFd6"),c=i("W87h"),h=i("bYUt"),p=i("BNAQ"),u=i("/5+L"),l=i("u0N3"),y=i("bJLd"),f=i("4xLO"),d=function(){function t(t){this.MIN_ACCRETION_DISK_VEL=199792458,this.MAX_ACCRETION_DISK_VEL=299792458,this.BLACK_HOLE_MASS=43e5,this.RESOLUTION=512,this.totalTime=0,this.count=0,this.timeBefore=0,this.ps=new o.BlackHoleParticleSystem,this.psprofiler=new f.TimeProfile("Particle System",1e3),this.tracerprofiler=new f.TimeProfile("Raytracer",1e3)}return t.prototype.initializeSystem=function(t){this.units=new s.ScaledUnits(1496e6,1.989e30,1),console.log(this.units.getScaledVelocity(this.MIN_ACCRETION_DISK_VEL)),this.blackHole=new a.VisibleParticle(t,"blackHole","#ffffff",1,this.BLACK_HOLE_MASS);var e=new c.GravityForce(c.GravityForce.calculate(this.units.kgs,this.units.metres,this.units.seconds));this.ps.addForce(e),this.ps.addParticle(this.blackHole),this.initializeParticleGenerator(t),this.ps.setEventHorizon(this.getSchwarzchildRadius()),this.ps.setBounds(new n.Vector3(-50,-50,-50),new n.Vector3(50,50,200)),this.raytracer=new u.RayTracer(t,new n.Vector3(0,0,100),new n.Vector3(0,0,-1),Math.PI/8,this.RESOLUTION,this.units.getScaledVelocity(299792458)),this.obstacles=new Array,this.emitParticles(),this.customizer=new l.ParticleSystemCustomizer(this.ps,this.raytracer,this.obstacles,0),this.raytracer.setCustomizer(this.customizer),this.raytracer.emitPhotons(),t.add(this.raytracer.getPhoto())},t.prototype.testOctree=function(){var t=new h.Particle;t.setPosition(-10,-10,-10),this.obstacles.push(t),(t=new h.Particle).setPosition(10,10,10),this.obstacles.push(t),(t=new h.Particle).setPosition(-10,-10,10),this.obstacles.push(t),(t=new h.Particle).setPosition(-10,10,10),this.obstacles.push(t);new y.Octree(this.obstacles,new n.Vector3(-20,-20,-20),new n.Vector3(20,20,20)).find(t.getPosition())},t.prototype.getSchwarzchildRadius=function(t){void 0===t&&(t=this.BLACK_HOLE_MASS);var e=this.units.getScaledVelocity(299792458),i=2*new c.GravityForce(c.GravityForce.calculate(this.units.kgs,this.units.metres,this.units.seconds)).G*this.BLACK_HOLE_MASS/(e*e);return console.log("The Schwarzchild Radius is ",i),i},t.prototype.initializeParticleGenerator=function(t){var e=this.getSchwarzchildRadius(),i=new p.EllipticalParticleGenerator(1.5*e,1.5*e,this.blackHole.getPosition(),new n.Vector3(1,0,0),new n.Vector3(0,0,1),new n.Vector3(0,-1,0),this.units.getScaledVelocity(this.MIN_ACCRETION_DISK_VEL));i.setParameters(1e-4,15e-5,0),i.setWidth(3*e);var o=new r.SpaceParticleGenerator(t,this.ps,this.units,i);this.particleGenerator=o,this.particleGenerator.setPosition(new n.Vector3(0,0,0)),this.blackHole.addLightSource("#ffffff")},t.prototype.update=function(t){this.totalTime;for(var e=0;e<100;e++)this.ps.update(t),this.customizer.setTimeStep(t),this.raytracer.update(),this.totalTime+=t},t.prototype.emitParticles=function(){for(var t=0;t<0;){var e=this.particleGenerator.generate();this.ps.addParticle(e),this.obstacles.push(e),t++}},t.prototype.scaleVelocity=function(t){var e=this.units.getScaledVelocity(t.getVelocity().length()),i=t.getVelocity().normalize().multiplyScalar(e);console.log(i),t.setVelocity(i.x,i.y,i.z)},t}();e.BlackHoleSystem=d},lelv:function(t,e,i){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.BlackHoleStarter=void 0;var n=i("zq37"),s=i("kEKz"),a=i("kgy+"),c=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.postInitHook=function(){this.system=new s.BlackHoleSystem(this.scene),this.system.initializeSystem(this.scene),this.controls=new a.TrackballControls(this.camera,this.renderer.domElement)},e.prototype.animateHook=function(){this.time_step=.06,this.system.update(this.time_step),this.controls.update()},e}(n.Boilerplate);e.BlackHoleStarter=c},ltrx:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParticleSystem=e.ParticleDerivative=void 0;var o=i("Ysi0"),r=function(){function t(){this.derivative=new Array}return t.prototype.length=function(){return this.derivative.length},t.prototype.addParticle=function(){this.derivative.push(new Array(0,0,0,0,0,0))},t.prototype.add=function(t,e){for(var i=0;i<e.length;i++)this.derivative[t][i]+=e[i]},t.prototype.remove=function(t){this.derivative.splice(t,1)},t.prototype.clear=function(){for(var t=0;t<this.derivative.length;t++)for(var e=0;e<this.derivative[t].length;e++)this.derivative[t][e]=0},t.prototype.set=function(t,e){for(var i=0;i<e.length;i++)this.derivative[t][i]=e[i]},t.prototype.scale=function(t){for(var e=0;e<this.derivative.length;e++)for(var i=0;i<this.derivative[e].length;i++)this.derivative[e][i]*=t},t.prototype.get=function(t){return this.derivative[t]},t.prototype.print=function(){this.derivative.forEach((function(t,e){console.log("Particle "+e),console.log("Velocity ",t[0],t[1],t[2]),console.log("Acceleration ",t[3],t[4],t[5])}),this)},t.prototype.printCount=function(){console.log(this.derivative.length)},t.prototype.destroy=function(){this.derivative.forEach((function(t){[]})),this.derivative=[]},t.prototype.clone=function(e){if(e)return this.cacheClone(e);var i=new t;return this.derivative.forEach((function(t,e){i.addParticle(),i.add(e,t)})),i},t.prototype.cacheClone=function(t){return this.derivative.forEach((function(e,i){t.add(i,e)})),t},t}();e.ParticleDerivative=r;var n=function(){function t(){this.particles=new Array,this.derivative=new r,this.forces=new Array,this.profiler=new o.TimeProfiler,this.createCaches()}return t.prototype.createCaches=function(){this.derivativeCaches=new Array(4);for(var t=0;t<4;t++)this.derivativeCaches[t]=new r},t.prototype.addParticle=function(t){var e=this;this.particles.push(t),this.derivative.addParticle(),this.derivativeCaches.forEach((function(t){e.derivative.length()>t.length()&&t.addParticle()}))},t.prototype.removeParticle=function(t){this.particles.splice(t,1),this.derivative.remove(t)},t.prototype.printCOunt=function(){console.log("Particle Count %s Derivative count %s",this.particles.length,this.derivative.length())},t.prototype.addForce=function(t){this.forces.push(t)},t.prototype.update=function(t){this.updateMidPoint(t),this.updateHook(),this.postUpdate(),this.updateParticleLives(t),this.boundsCheck()},t.prototype.updateHook=function(){},t.prototype.postUpdate=function(){for(var t=this.particles.length,e=0;e<t;e++){var i=t-e-1,o=this.particles[i];o.update(),o.isAlive()||this.removeParticle(i)}},t.prototype.setBounds=function(t,e){this.minBounds=t,this.maxBounds=e},t.prototype.updateParticleLives=function(t){for(var e=this.particles.length-1;e>=0;e--){var i=this.particles[e];i.setAge(i.getAge()+t),i.getLifespan()>0&&i.getAge()>i.getLifespan()&&(i.onDeath(),this.removeParticle(e))}},t.prototype.boundsCheck=function(){if(this.minBounds&&this.maxBounds)for(var t=this.particles.length-1;t>=0;t--){var e=this.particles[t];(e.getPosition().x>this.maxBounds.x||e.getPosition().y>this.maxBounds.y||e.getPosition().x<this.minBounds.x||e.getPosition().y<this.minBounds.y||e.getPosition().z<this.minBounds.z||e.getPosition().z>this.maxBounds.z)&&(e.onDeath(),this.removeParticle(t))}},t.prototype.storeState=function(){var t=new Array;return this.particles.forEach((function(e,i){var o=e.getPosition(),r=e.getVelocity();t.push(new Array(o.x,o.y,o.z,r.x,r.y,r.z))}),this),t},t.prototype.restoreState=function(t){this.particles.forEach((function(e,i){e.setPosition(t[i][0],t[i][1],t[i][2]),e.setVelocity(t[i][3],t[i][4],t[i][5])}),this)},t.prototype.updateMidPoint=function(t){var e=this.storeState();this.derivative=this.calculateDerivative(this.derivative),this.derivative.scale(t/2),this.updateAllParticles(),this.derivative=this.calculateDerivative(this.derivative),this.derivative.scale(t),this.restoreState(e),this.updateAllParticles()},t.prototype.updateRK4=function(t){var e=this.derivative,i=this.storeState();this.derivativeCaches[0]=this.calculateDerivative(this.derivativeCaches[0]),this.derivativeCaches[0].scale(t/2);var o=this.derivativeCaches[0];this.derivative=o,this.updateAllParticles(),this.derivativeCaches[1]=this.calculateDerivative(this.derivativeCaches[1]),this.derivativeCaches[1].scale(t/2);var r=this.derivativeCaches[1];this.derivative=r,this.restoreState(i),this.updateAllParticles(),this.derivativeCaches[2]=this.calculateDerivative(this.derivativeCaches[2]),this.derivativeCaches[2].scale(t);var n=this.derivativeCaches[2];this.derivative=n,this.restoreState(i),this.updateAllParticles(),this.derivativeCaches[3]=this.calculateDerivative(this.derivativeCaches[3]),this.derivativeCaches[3].scale(t);var s=this.derivativeCaches[3];this.derivative=s,this.restoreState(i),o.scale(1/3),this.derivative=o,this.updateAllParticles(),r.scale(2/3),this.derivative=r,this.updateAllParticles(),n.scale(1/3),this.derivative=n,this.updateAllParticles(),s.scale(1/6),this.derivative=s,this.updateAllParticles(),this.derivative=e},t.prototype.calculateDerivative=function(t){var e=this;return t.clear(),this.particles.forEach((function(e,i){t.add(i,[e.getVelocity().x,e.getVelocity().y,e.getVelocity().z,0,0,0])})),this.forces.forEach((function(i){for(var o=1;o<e.particles.length;o++)for(var r=0;r<o;r++){var n=i.apply(e.particles[o],e.particles[r]);t.add(o,[0,0,0,n[0].x,n[0].y,n[0].z]),t.add(r,[0,0,0,n[1].x,n[1].y,n[1].z])}}),this),t},t.prototype.updateAllParticles=function(){var t=this;this.particles.forEach((function(e,i){var o=t.derivative.get(i),r=e.getPosition(),n=e.getVelocity();e.setPosition(r.x+o[0],r.y+o[1],r.z+o[2]),e.setVelocity(n.x+o[3],n.y+o[4],n.z+o[5])}),this)},t.prototype.print=function(){console.log("----Particle System-----"),this.particles.forEach((function(t,e){console.log("--------------------------");var i=t.getPosition(),o=t.getVelocity();console.log("Particle "+e),console.log("Mass ",t.getMass()),console.log("Position ",i.x,i.y,i.z),console.log("Velocity ",o.x,o.y,o.z)}),this),console.log("------------X-----------")},t.prototype.printDerivative=function(){this.derivative.print()},t.prototype.destroy=function(){this.particles=[],this.forces=[],this.derivative.destroy()},t}();e.ParticleSystem=n},t9Jl:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EllipticalPositionGenerator=void 0;var o=i("Womt"),r=function(){function t(t,e,i,r,n,s){this.transformMatrix=new o.Matrix4,this.transformMatrixInv=new o.Matrix4,this.width=0,this.A=t,this.B=e,void 0!==r&&void 0!==n&&void 0!==s&&(this.transformMatrix.makeBasis(r,n,s),this.transformMatrix.transpose()),i&&(i.applyMatrix4(this.transformMatrixInv.getInverse(this.transformMatrix)),this.transformMatrix.setPosition(i)),this.transformMatrixInv.getInverse(this.transformMatrix)}return t.prototype.setWidth=function(t){this.width=t},t.prototype.generate=function(){new o.Vector3;var t=2*Math.PI*Math.random(),e=new o.Vector3((this.A+this.width*Math.random())*Math.cos(t),(this.width*Math.random()+this.B)*Math.sin(t));return e.applyMatrix4(this.transformMatrixInv),e},t}();e.EllipticalPositionGenerator=r},u0N3:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParticleSystemCustomizer=void 0;var o=i("5OmT"),r=function(){function t(t,e,i,r){this.rays=new Array,this.particleSystem=t,this.collisionManager=new o.RayTracingCollisionManager(e),this.collisionManager.setRays(this.rays),this.time_step=r,this.collisionManager.setObstacles(i),this.raytracer=e}return t.prototype.postEmit=function(t){null!=t&&(this.particleSystem.addParticle(t),this.rays.push(t))},t.prototype.setTimeStep=function(t){this.time_step=t},t.prototype.update=function(){for(var t=this.rays.length-1;t>=0;t--){var e=this.rays[t];e.isAlive()||(this.rays.splice(t,1),this.raytracer.emitFrom(e.getOriginPixel().x,e.getOriginPixel().y))}this.collisionManager.update(this.time_step)},t}();e.ParticleSystemCustomizer=r},wBSO:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FixedPositionGenerator=void 0;var o=function(){function t(t){this.pos=t}return t.prototype.generate=function(){return this.pos},t}();e.FixedPositionGenerator=o},zq37:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Boilerplate=void 0;var o=i("Womt"),r=function(){function t(){this.mouse={x:0,y:0};var t=document.createElement("div");this.raycaster=new o.Raycaster,document.body.appendChild(t),this.renderer=new o.WebGLRenderer;var e=window.innerWidth,i=window.innerHeight;this.renderer.setSize(e,i),t.appendChild(this.renderer.domElement),console.log(window.devicePixelRatio),this.aspectRatio=window.innerWidth/window.innerHeight,this.camera=new o.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,2e4),this.camera.position.set(0,0,200),this.camera.lookAt(0,0,0),this.scene=new o.Scene,this.scene.background=new o.Color("#000000"),console.log(window.innerWidth,window.innerHeight),window.addEventListener("resize",this.onWindowResize.bind(this),!1),this.postInitHook()}return t.prototype.postInitHook=function(){},t.prototype.onWindowResize=function(){var t=window.innerWidth,e=window.innerHeight;this.camera.aspect=t/e,this.camera.updateProjectionMatrix(),this.aspectRatio=t/e,document.body.style.maxWidth=t+"px",document.body.style.maxHeight=e+"px",this.renderer.setSize(t,e)},t.prototype.animate=function(){this.animateHook(),requestAnimationFrame(this.animate.bind(this)),this.render(),this.t+=1},t.prototype.animateHook=function(){},t.prototype.render=function(){this.renderer.render(this.scene,this.camera)},t}();e.Boilerplate=r}},[["/7QA",1,2]]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmF5dHJhY2luZy9waW4taG9sZS1jYW1lcmEuLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcmF5dHJhY2luZy9waG90b2dyYXBoLnRzIiwid2VicGFjazovLy8uL3NyYy9ib2lsZXJwbGF0ZS90aW1lLXByb2ZpbGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JheXRyYWNpbmcvY29sbGlzaW9uLW1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhcnRpY2xlLXN5c3RlbS9nZW5lcmF0b3IvZWxsaXB0aWNhbC1wYXJ0aWNsZS1nZW5lcmF0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhcnRpY2xlLXN5c3RlbS9wYXJ0aWNsZS92aXNpYmxlLXBhcnRpY2xlLnRzIiwid2VicGFjazovLy8uL3NyYy9wYXJ0aWNsZS1zeXN0ZW0vZ2VuZXJhdG9yL3BhcnRpY2xlLWdlbmVyYXRvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcmF5dHJhY2luZy9waXhlbC1yYXkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhcnRpY2xlLXN5c3RlbS9nZW5lcmF0b3IvdmVsb2NpdHktZ2VuZXJhdG9ycy90YW5nZW50aWFsLXZlbG9jaXR5LWdlbmVyYXRvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFydGljbGUtc3lzdGVtL2dlbmVyYXRvci92ZWxvY2l0eS1nZW5lcmF0b3JzL3Bob3Rvbi12ZWxvY2l0eS1nZW5lcmF0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhcnRpY2xlLXN5c3RlbS9nZW5lcmF0b3IvdmVsb2NpdHktZ2VuZXJhdG9ycy9yYW5kb20tdmVsb2NpdHktZ2VuZXJhdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9wYXJ0aWNsZS1zeXN0ZW0vZ2VuZXJhdG9yL3Bob3Rvbi1nZW5lcmF0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhcnRpY2xlLXN5c3RlbS9mb3JjZXMvZ3Jhdml0eS1mb3JjZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxhY2staG9sZS1wYXJ0aWNsZS1zeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JvaWxlcnBsYXRlL3RpbWUtcHJvZmlsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JheXRyYWNpbmcvdmFyaWFibGUtcmF5LWVtaXR0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JheXRyYWNpbmcvY29sbGlzaW9ucy9vY3RyZWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjYWxlZC11bml0cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFydGljbGUtc3lzdGVtL3BhcnRpY2xlL3BhcnRpY2xlLnRzIiwid2VicGFjazovLy8uL3NyYy9zcGFjZS1wYXJ0aWNsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxhY2staG9sZS1zeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JsYWNrLWhvbGUtc3RhcnRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFydGljbGUtc3lzdGVtL3BhcnRpY2xlLXN5c3RlbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFydGljbGUtc3lzdGVtL2dlbmVyYXRvci9wb3NpdGlvbi1nZW5lcmF0b3JzL2VsbGlwdGljYWwtcG9zaXRpb24tZ2VuZXJhdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9yYXl0cmFjaW5nL3BhcnRpY2xlLXN5c3RlbS1yYXl0cmFjZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhcnRpY2xlLXN5c3RlbS9nZW5lcmF0b3IvcG9zaXRpb24tZ2VuZXJhdG9ycy9maXhlZC1wb3NpdGlvbi1nZW5lcmF0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JvaWxlcnBsYXRlL2JvaWxlcnBsYXRlLnRzIl0sIm5hbWVzIjpbInNjZW5lIiwiaG9sZSIsImxvb2tBdCIsImZvdiIsInJlc29sdXRpb25YIiwiYyIsIlZlY3RvcjMiLCJNYXRoIiwiUEkiLCJESVNUX1RPX1BMQVRFIiwiQVNQRUNUX1JBVElPIiwidGhpcyIsImNyZWF0ZVBsYXRlIiwiaW1hZ2UiLCJEYXRhVGV4dHVyZSIsInBsYXRlIiwiZ2V0SW1hZ2UiLCJyZXNvbHV0aW9uIiwieCIsInkiLCJSR0JBRm9ybWF0IiwicGhvdG8iLCJNZXNoQmFzaWNNYXRlcmlhbCIsIm1hcCIsIm1lc2giLCJNZXNoIiwiUGxhbmVHZW9tZXRyeSIsInBvc2l0aW9uIiwiY29weSIsInJvdGF0aW9uIiwiUXVhdGVybmlvbiIsInNldEZyb21Vbml0VmVjdG9ycyIsIm5vcm1hbGl6ZSIsImNyZWF0ZUdlbmVyYXRvciIsImVtaXR0ZXIiLCJWYXJpYWJsZVJheUVtaXR0ZXIiLCJnZXRSZXNvbHV0aW9uIiwiZ2VuZXJhdG9yIiwib2JqZWN0V2FzSGl0IiwiZ2V0V2lkdGgiLCJ3aWR0aCIsImdldEhlaWdodCIsImhlaWdodCIsImdldFJvdGF0aW9uIiwiZ2V0RGlzdGFuY2VUb0NhbnZhcyIsImdldFBvc2l0aW9uIiwiY2xvbmUiLCJzZXRDdXN0b21pemVyIiwiY3VzdG9taXplIiwiY3VzdG9taXplciIsIlJheVRyYWNpbmdQaG90b25HZW5lcmF0b3IiLCJyZXNfeCIsInRhbiIsInJlc195IiwiUGhvdG9ncmFwaGljUGxhdGUiLCJnZXRQaG90byIsInVwZGF0ZSIsIm5lZWRzVXBkYXRlIiwiZW1pdFBob3RvbnMiLCJlbWl0IiwiZm9yRWFjaCIsInJheSIsInBvc3RFbWl0IiwiZW1pdEZyb20iLCJpIiwiaiIsImVtaXRGcm9tUmFuZG9tUGl4ZWwiLCJmbG9vciIsInJhbmRvbSIsInNldFBpeGVsIiwiY29sb3IiLCJSYXlUcmFjZXIiLCJwYXJhbWV0ZXIiLCJkaXIiLCJnZW5lcmF0ZSIsInZlbCIsIm11bHRpcGx5U2NhbGFyIiwiUmF5VHJhY2luZ1Bob3RvblZlbG9jaXR5R2VuZXJhdG9yIiwiUGhvdG9uR2VuZXJhdG9yIiwidmVsb2NpdHlfZ2VuZXJhdG9yIiwic2V0VmVsb2NpdHlHZW5lcmF0b3IiLCJzZXRQb3NpdGlvbkdlbmVyYXRvciIsIkZpeGVkUG9zaXRpb25HZW5lcmF0b3IiLCJiYXNlUGFydGljbGUiLCJwYXJ0aWNsZSIsIlBpeGVsUmF5IiwiVmVjdG9yMiIsIkJsYWNrSG9sZVN0YXJ0ZXIiLCJhbmltYXRlIiwicGFydGljbGVzIiwiZGVsdGFUIiwiZXhwb3NlIiwiUGhvdG9ncmFwaCIsInJlc29sdXRpb25ZIiwibm9ybWFsIiwiZGF0YSIsIlVpbnQ4QXJyYXkiLCJxdWFydGVybmlvbiIsInAiLCJnZXRUeXBlIiwiU3BhY2VQYXJ0aWNsZSIsIlBIT1RPTiIsImZyb20iLCJ0byIsImFkZFZlY3RvcnMiLCJnZXRWZWxvY2l0eSIsImludGVyc2VjdGlvbiIsImludGVyc2VjdHNXaXRoUGxhdGUiLCJOdW1iZXIiLCJQT1NJVElWRV9JTkZJTklUWSIsInJlbGF0aXZlQ29vcmRpbmF0ZXMiLCJzdWIiLCJhcHBseVF1YXRlcm5pb24iLCJyb3VuZCIsIm1pbiIsImluZGV4IiwibGluZSIsInN1YlZlY3RvcnMiLCJkb3QxIiwiZG90IiwiZG90MiIsInJhdGlvIiwiYWJzIiwiYWRkIiwiZGltZW5zaW9ucyIsInNldCIsIm5hbWUiLCJ1cGRhdGVFdmVyeSIsInVwZGF0ZUNvdW50Iiwic3RhcnQiLCJzdGFydFRpbWUiLCJEYXRlIiwiZ2V0VGltZSIsInN0b3AiLCJuZXdUaW1lIiwiaW50ZXJ2YWwiLCJwcmludCIsImNvbnNvbGUiLCJsb2ciLCJUaW1lUHJvZmlsZSIsInJheXRyYWNlciIsImJnIiwiQmFja2dyb3VuZEltYWdlIiwic2V0UmF5cyIsInJheXMiLCJzZXRPYnN0YWNsZXMiLCJvYnN0YWNsZXMiLCJvY3RyZWUiLCJPY3RyZWUiLCJ1cGRhdGVQYXJ0aWNsZUluT2N0cmVlIiwib25Db2xsaXNpb24iLCJkb3BwbGVyU2hpZnRDb2xvciIsImdldE9yaWdpblBpeGVsIiwidmVsX3BhcnRpY2xlIiwidmVsX3JheSIsImxlbmd0aCIsImNlaWwiLCJ0aW1lX3N0ZXAiLCJyIiwiYWRkU2NhbGVkVmVjdG9yIiwieiIsInNob3VsZEZpbGwiLCJvbkRlYXRoIiwibm9kZSIsImZpbmRSYXkiLCJnZXRPYmplY3RzIiwibyIsImludGVyc2VjdHNXaXRoUmF5IiwiZ2V0UmFkaXVzIiwiUmF5VHJhY2luZ0NvbGxpc2lvbk1hbmFnZXIiLCJmaWxsIiwicGl4ZWxzIiwiQXJyYXkiLCJhc3NpZ24iLCJhIiwiYiIsImNlbnRlciIsIlRhbmdlbnRpYWxWZWxvY2l0eUdlbmVyYXRvciIsInBvc2l0aW9uX2dlbmVyYXRvciIsIkVsbGlwdGljYWxQb3NpdGlvbkdlbmVyYXRvciIsImF4aXMiLCJtYWciLCJzZXRXaWR0aCIsIm1hc3MiLCJtYXNzX21pbiIsIm1hc3NfbWF4IiwiUGFydGljbGUiLCJwb3MiLCJwYXJhbWV0ZXJzIiwic2V0VmVsb2NpdHkiLCJzZXRQb3NpdGlvbiIsInNldExpZmVzcGFuIiwibGlmZXNwYW4iLCJQYXJ0aWNsZUdlbmVyYXRvciIsIkVsbGlwdGljYWxQYXJ0aWNsZUdlbmVyYXRvciIsInJhZGl1cyIsImdlb21ldHJ5IiwiU3BoZXJlQnVmZmVyR2VvbWV0cnkiLCJtYXRlcmlhbCIsInNjYWxlIiwiaW50ZXJzZWN0c1dpdGhCb3giLCJzZXRSYWRpdXMiLCJpc0FsaXZlIiwic2V0VHlwZSIsInR5cGUiLCJnZXRMaWZlc3BhbiIsImwiLCJnZXRBZ2UiLCJzZXRBZ2UiLCJ2IiwidW5kZWZpbmVkIiwic2V0TWFzcyIsIm0iLCJnZXRNYXNzIiwiZGVzdHJveSIsImRpc3Bvc2UiLCJhZGRMaWdodFNvdXJjZSIsImxpZ2h0IiwiUG9pbnRMaWdodCIsInJlbW92ZSIsIlZpc2libGVQYXJ0aWNsZSIsIlJhbmRvbVZlbG9jaXR5R2VuZXJhdG9yIiwic2V0UGFyYW1ldGVycyIsIm9yaWdpbiIsInNldE9yaWdpblBpeGVsIiwiY3Jvc3NWZWN0b3JzIiwiUGhvdG9uVmVsb2NpdHlHZW5lcmF0b3IiLCJzcGVlZE9mTGlnaHQiLCJzZXRTcGVlZE9mTGlnaHQiLCJzIiwicmFuZG9tVmVsb2NpdHkiLCJHIiwidmVjX2xlbmd0aF9zcXVhcmVkIiwidmVjIiwiYXBwbHkiLCJwMSIsInAyIiwicl92ZWMiLCJmMSIsImYyIiwidW5pdF9yIiwiY2FsY3VsYXRlIiwia2ciLCJHUkFWSVRBVElPTl9DT05TVEFOVCIsIl9HIiwiZyIsIkdyYXZpdHlGb3JjZSIsImV2ZW50SG9yaXpvbiIsImV2ZW50SG9yaXpvbjIiLCJteXByb2ZpbGVyIiwiVGltZVByb2ZpbGVyIiwic2V0RXZlbnRIb3Jpem9uIiwic2Nod2FyemNoaWxkUmFkaXVzIiwiY2FsY3VsYXRlRGVyaXZhdGl2ZSIsImRlcml2YXRpdmUiLCJmb3JjZXMiLCJmb3JjZSIsInVwZGF0ZUFsbFBhcnRpY2xlcyIsImQiLCJnZXQiLCJ1cGRhdGVIb29rIiwicmVtb3ZlUGFydGljbGUiLCJQYXJ0aWNsZVN5c3RlbSIsIkJsYWNrSG9sZVBhcnRpY2xlU3lzdGVtIiwidGltZVByb2ZpbGVzIiwiTWFwIiwiaGFzIiwicHJvZmlsZSIsIk5fUkVHSU9OX0xFTiIsIk1BWF9FTUlTU0lPTlNfRlJPTV9QSVhFTCIsInBpeGVsTWFwIiwicmF5RW1pdHRlZENvdW50IiwicmVnaW9ucyIsImRpdmlkZUFuZFJhc3NpZ25QaXhlbHMiLCJsZW4iLCJtYXgiLCJlbWl0RnJvbVJlZ2lvbiIsInB1c2giLCJ0ZXN0IiwiZGl2aWRlIiwicmVnaW9uX21pbiIsInJlZ2lvbl9tYXgiLCJtYXhfeCIsInUiLCJtYXhfeSIsIm9mZnNldCIsIk5fUkVHSU9OUyIsImdldFJlZ2lvbiIsImluY3JlbWVudFBpeGVsQ291bnQiLCJoYXNFeGNlZWRlZFJheUNvdW50IiwibGltaXQiLCJlbWl0RnJvbVBpeGVsIiwiZ2V0UmVnaW9uSW5kZXgiLCJvYmplY3RzIiwiY29ybmVyMSIsImNvcm5lcjIiLCJtaW5EaWFnTGVuZ3RoIiwibWF4X2RlcHRoIiwiZGVwdGgiLCJNQVhfT0JKRUNUU19JTl9OT0RFIiwibWF4RGVwdGgiLCJzZXRNaW5EaWFnTGVuZ3RoIiwiY3JlYXRlIiwiY29ybmVycyIsImRpYWdMZW5ndGgiLCJtaWQiLCJpZHgiLCJhcnIiLCJ0b0FycmF5IiwiZnJvbUFycmF5Iiwic3Vib2JqZWN0cyIsImZpbmQiLCJwb2ludCIsImNvbnRhaW5zIiwic2VhcmNoIiwibWV0cmVzIiwia2dzIiwic2Vjb25kcyIsIl9tZXRyZXMiLCJfa2lsb2dyYW1zIiwiX3NlY29uZHMiLCJzZXRNZXRyZXNTY2FsZSIsInZhbCIsInNldEtnc1NjYWxlIiwic2V0VGltZVNjYWxlIiwiZ2V0U2NhbGVkRGlzdGFuY2UiLCJnZXRTY2FsZWRNYXNzIiwiZ2V0U2NhbGVkVGltZSIsImdldFVuc2NhbGVkVGltZSIsImdldFNjYWxlZFZlbG9jaXR5IiwiZ2V0VW5zY2FsZWRWZWxvY2l0eSIsIlNjYWxlZFVuaXRzIiwidmVsb2NpdHkiLCJsaWZlU3BhbiIsImFnZSIsImFsaXZlIiwiQUIiLCJBTyIsIkJPIiwiQU9Qcm9qQUIiLCJCT1Byb2pBQiIsImxlc3NlclByb2plY3Rpb24iLCJiaWdnZXJQcm9qZWN0aW9uIiwicHMiLCJ1bml0cyIsInBob3RvbkdlbmVyYXRvciIsInNldEdlbmVyYXRvciIsInNwYWNlX3BhcnRpY2xlIiwiU3BhY2VQYXJ0aWNsZUdlbmVyYXRvciIsIk1JTl9BQ0NSRVRJT05fRElTS19WRUwiLCJNQVhfQUNDUkVUSU9OX0RJU0tfVkVMIiwiQkxBQ0tfSE9MRV9NQVNTIiwiUkVTT0xVVElPTiIsInRvdGFsVGltZSIsImNvdW50IiwidGltZUJlZm9yZSIsInBzcHJvZmlsZXIiLCJ0cmFjZXJwcm9maWxlciIsImluaXRpYWxpemVTeXN0ZW0iLCJibGFja0hvbGUiLCJncmF2aXR5IiwiYWRkRm9yY2UiLCJhZGRQYXJ0aWNsZSIsImluaXRpYWxpemVQYXJ0aWNsZUdlbmVyYXRvciIsImdldFNjaHdhcnpjaGlsZFJhZGl1cyIsInNldEJvdW5kcyIsImVtaXRQYXJ0aWNsZXMiLCJQYXJ0aWNsZVN5c3RlbUN1c3RvbWl6ZXIiLCJ0ZXN0T2N0cmVlIiwicGFydGljbGVHZW5lcmF0b3IiLCJzZXRUaW1lU3RlcCIsInNjYWxlVmVsb2NpdHkiLCJCbGFja0hvbGVTeXN0ZW0iLCJwb3N0SW5pdEhvb2siLCJzeXN0ZW0iLCJjb250cm9scyIsIlRyYWNrYmFsbENvbnRyb2xzIiwiY2FtZXJhIiwicmVuZGVyZXIiLCJkb21FbGVtZW50IiwiYW5pbWF0ZUhvb2siLCJCb2lsZXJwbGF0ZSIsIml0ZW1zIiwic3BsaWNlIiwiY2xlYXIiLCJuIiwicHJpbnRDb3VudCIsImNhY2hlIiwiY2FjaGVDbG9uZSIsIlBhcnRpY2xlRGVyaXZhdGl2ZSIsInByb2ZpbGVyIiwiY3JlYXRlQ2FjaGVzIiwiZGVyaXZhdGl2ZUNhY2hlcyIsInByaW50Q091bnQiLCJ1cGRhdGVNaWRQb2ludCIsInBvc3RVcGRhdGUiLCJ1cGRhdGVQYXJ0aWNsZUxpdmVzIiwiYm91bmRzQ2hlY2siLCJtaW5Cb3VuZHMiLCJtYXhCb3VuZHMiLCJzdG9yZVN0YXRlIiwic3RhdGUiLCJyZXN0b3JlU3RhdGUiLCJ1cGRhdGVSSzQiLCJvbGREZXJpdmF0aXZlIiwiazEiLCJrMiIsImszIiwiazQiLCJwcmludERlcml2YXRpdmUiLCJBIiwiQiIsIkMiLCJ0cmFuc2Zvcm1NYXRyaXgiLCJNYXRyaXg0IiwidHJhbnNmb3JtTWF0cml4SW52IiwibWFrZUJhc2lzIiwidHJhbnNwb3NlIiwiYXBwbHlNYXRyaXg0IiwiZ2V0SW52ZXJzZSIsInRoZXRhIiwiY29zIiwic2luIiwicGFydGljbGVTeXN0ZW0iLCJjb2xsaXNpb25NYW5hZ2VyIiwiZml4IiwibW91c2UiLCJjb250YWluZXIiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJyYXljYXN0ZXIiLCJSYXljYXN0ZXIiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJXZWJHTFJlbmRlcmVyIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0Iiwic2V0U2l6ZSIsImRldmljZVBpeGVsUmF0aW8iLCJhc3BlY3RSYXRpbyIsIlBlcnNwZWN0aXZlQ2FtZXJhIiwiU2NlbmUiLCJiYWNrZ3JvdW5kIiwiQ29sb3IiLCJhZGRFdmVudExpc3RlbmVyIiwib25XaW5kb3dSZXNpemUiLCJiaW5kIiwiYXNwZWN0IiwidXBkYXRlUHJvamVjdGlvbk1hdHJpeCIsInN0eWxlIiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJyZW5kZXIiLCJ0Il0sIm1hcHBpbmdzIjoiaU9BTUEsZ0JBQ0EsWUFDQSxZQUNBLFlBR0EsWUFHQSxZQUVBLGFBZUksV0FBWUEsRUFBY0MsRUFBc0JDLEVBQStCQyxFQUFtQkMsRUFBbUJDLFFBQTNGLElBQUFKLE1BQUEsSUFBVyxFQUFBSyxjQUFXLElBQUFKLE1BQUEsSUFBYSxFQUFBSSxRQUFRLEVBQUcsRUFBRyxTQUFJLElBQUFILE1BQU1JLEtBQUtDLEdBQUssUUFBRyxJQUFBSixNQUFBLFVBQW1CLElBQUFDLE1BQUEsV0FINUcsS0FBQUksY0FBZ0IsRUFDaEIsS0FBQUMsYUFBZSxFQUdwQkMsS0FBS1YsS0FBT0EsRUFDWlUsS0FBS0MsWUFBWVQsRUFBS0MsR0FDdEJPLEtBQUtYLE1BQVFBLEVBQ2JXLEtBQUtFLE1BQVEsSUFBSSxFQUFBQyxZQUFZSCxLQUFLSSxNQUFNQyxXQUFZTCxLQUFLSSxNQUFNRSxXQUFXQyxFQUFHUCxLQUFLSSxNQUFNRSxXQUFXRSxFQUFHLEVBQUFDLFlBQ3RHVCxLQUFLVSxNQUFRLElBQUksRUFBQUMsa0JBQ2pCWCxLQUFLVSxNQUFNRSxJQUFNWixLQUFLRSxNQUN0QkYsS0FBS2EsS0FBTyxJQUFJLEVBQUFDLEtBQUssSUFBSSxFQUFBQyxjQUFjLEdBQUksSUFBS2YsS0FBS1UsT0FDckRWLEtBQUthLEtBQUtHLFNBQVNDLEtBQUtqQixLQUFLVixNQUM3QlUsS0FBS2tCLFVBQVcsSUFBSSxFQUFBQyxZQUFhQyxtQkFBbUIsSUFBSSxFQUFBekIsUUFBUSxFQUFHLEVBQUcsR0FBSUosRUFBTzhCLGFBQ2pGckIsS0FBS3NCLGdCQUFnQjVCLEdBQ3JCTSxLQUFLdUIsUUFBVSxJQUFJLEVBQUFDLG1CQUFtQnhCLEtBQUt5QixnQkFBaUJ6QixLQUFNQSxLQUFLMEIsV0FnRy9FLE9BOUZJLFlBQUFDLGFBQUEsU0FBYXBCLEVBQVdDLEdBQ3BCUixLQUFLdUIsUUFBUUksYUFBYXBCLEVBQUdDLElBRWpDLFlBQUFvQixTQUFBLFdBQ0ksT0FBTzVCLEtBQUtJLE1BQU15QixPQUV0QixZQUFBQyxVQUFBLFdBQ0ksT0FBTzlCLEtBQUtJLE1BQU0yQixRQUV0QixZQUFBQyxZQUFBLFdBQ0ksT0FBT2hDLEtBQUtrQixVQUVoQixZQUFBZSxvQkFBQSxXQUNJLE9BQU9qQyxLQUFLRixlQUVoQixZQUFBb0MsWUFBQSxXQUNJLE9BQU9sQyxLQUFLVixLQUFLNkMsU0FFckIsWUFBQUMsY0FBQSxTQUFjQyxHQUNWckMsS0FBS3NDLFdBQWFELEdBRXRCLFlBQUFmLGdCQUFBLFNBQWdCNUIsR0FDWk0sS0FBSzBCLFVBQVksSUFBSWEsRUFBMEJ2QyxLQUFLWCxNQUFPSyxJQUUvRCxZQUFBTyxZQUFBLFNBQVlULEVBQWFnRCxHQUNyQixJQUFNWCxFQUFRLEVBQUk3QixLQUFLRixjQUFnQkYsS0FBSzZDLElBQUlqRCxHQUMxQ3VDLEVBQVMvQixLQUFLRCxhQUFlOEIsRUFDN0JhLEVBQVExQyxLQUFLRCxhQUFleUMsRUFDNUJwQyxFQUFRLElBQUksRUFBQXVDLGtCQUFrQmQsRUFBT0UsRUFBUVMsRUFBT0UsRUFBTyxJQUFJLEVBQUEvQyxRQUFRLEVBQUcsRUFBR0ssS0FBS0YsZUFBZ0IsSUFBSSxFQUFBSCxRQUFRLEVBQUcsR0FBSSxJQUMzSEssS0FBS0ksTUFBUUEsR0FFakIsWUFBQXdDLFNBQUEsV0FFSSxPQUFPNUMsS0FBS2EsTUFFaEIsWUFBQVksY0FBQSxXQUVJLE9BQU96QixLQUFLSSxNQUFNRSxZQUl0QixZQUFBdUMsT0FBQSxXQUNRN0MsS0FBS3NDLFlBQ0x0QyxLQUFLc0MsV0FBV08sU0FDbEI3QyxLQUFLRSxNQUFNNEMsYUFBYyxHQUUvQixZQUFBQyxZQUFBLFNBQVl4QixHQUFaLFdBT1NBLElBQ0RBLEVBQVV2QixLQUFLdUIsU0FFTkEsRUFBUXlCLE9BQ2hCQyxTQUFRLFNBQUFDLEdBQ1QsRUFBS0MsU0FBU0QsT0FHdEIsWUFBQUUsU0FBQSxTQUFTQyxFQUFXQyxHQVloQixJQUFNSixFQUFNbEQsS0FBS3VCLFFBQVE2QixTQUFTQyxFQUFHQyxHQUNyQ3RELEtBQUttRCxTQUFTRCxJQUVsQixZQUFBSyxvQkFBQSxXQUNJLElBQU1GLEVBQUl6RCxLQUFLNEQsTUFBTTVELEtBQUs2RCxTQUFXekQsS0FBS0ksTUFBTUUsV0FBV0MsR0FDckQrQyxFQUFJMUQsS0FBSzRELE1BQU01RCxLQUFLNkQsU0FBV3pELEtBQUtJLE1BQU1FLFdBQVdDLEdBQzNEUCxLQUFLb0QsU0FBU0MsRUFBSUMsSUFFdEIsWUFBQUgsU0FBQSxTQUFTRCxHQUNEbEQsS0FBS3NDLFlBQXFCLE1BQVBZLEdBQ25CbEQsS0FBS3NDLFdBQVdhLFNBQVNELElBUWpDLFlBQUFRLFNBQUEsU0FBU25ELEVBQVdDLEVBQVdtRCxFQUFpQjNDLEdBQzVDaEIsS0FBS0ksTUFBTXNELFNBQVNuRCxFQUFHQyxFQUFHbUQsSUFFbEMsRUExSEEsR0FBYSxFQUFBQyxZQTJIYixpQkFHSSxXQUFZbEUsUUFBQSxJQUFBQSxNQUFBLFdBRFosS0FBQUEsRUFBSSxVQUVBTSxLQUFLTixFQUFJQSxFQVVqQixPQVJJLFlBQUFtRSxVQUFBLFNBQVVDLEdBQ045RCxLQUFLOEQsSUFBTUEsRUFBSXpDLGFBRW5CLFlBQUEwQyxTQUFBLFdBQ0ksSUFBTUMsRUFBTWhFLEtBQUs4RCxJQUFJM0IsUUFFckIsT0FEQTZCLEVBQUlDLGVBQWVqRSxLQUFLTixHQUNqQnNFLEdBRWYsRUFkQSxHQUFhLEVBQUFFLG9DQWViLGlCQU9JLFdBQVk3RSxFQUFjSyxRQUFBLElBQUFBLE1BQUEsV0FKMUIsS0FBQWEsRUFBSSxFQUNKLEtBQUFDLEVBQUksRUFJQVIsS0FBSzBCLFVBQVksSUFBSSxFQUFBeUMsZ0JBQ3JCbkUsS0FBS29FLG1CQUFxQixJQUFJRixFQUFrQ3hFLEdBQ2hFTSxLQUFLMEIsVUFBVTJDLHFCQUFxQnJFLEtBQUtvRSxvQkFDekNwRSxLQUFLMEIsVUFBVTRDLHFCQUFxQixJQUFJLEVBQUFDLHVCQUF1QixJQUFJLEVBQUE1RSxVQUNuRUssS0FBS1gsTUFBUUEsRUFhckIsT0FYSSxZQUFBd0UsVUFBQSxTQUFVdEQsRUFBV0MsRUFBV3NELEdBQzVCOUQsS0FBS08sRUFBSUEsRUFDVFAsS0FBS1EsRUFBSUEsRUFDVFIsS0FBS29FLG1CQUFtQlAsVUFBVUMsSUFFdEMsWUFBQUMsU0FBQSxXQUNJLElBQU1TLEVBQWV4RSxLQUFLMEIsVUFBVXFDLFdBQzlCVSxFQUFXLElBQUksRUFBQUMsU0FBUzFFLEtBQUtYLE1BQU8sSUFBSSxFQUFBc0YsUUFBUTNFLEtBQUtPLEVBQUdQLEtBQUtRLElBRW5FLE9BREFpRSxFQUFTeEQsS0FBS3VELEdBQ1BDLEdBRWYsRUF6QkEsR0FBYSxFQUFBbEMsNkIsc0ZDekpBLElBRmIsVUFFaUJxQyxtQkFDVkMsVyw2SENIUCxnQkFDQSxZQVNBLGFBS0ksV0FBWXpFLEdBQ1JKLEtBQUtJLE1BQVFBLEVBQ2JKLEtBQUtFLE1BQVEsSUFBSSxFQUFBQyxZQUFZSCxLQUFLSSxNQUFNQyxXQUFZRCxFQUFNRSxXQUFXQyxFQUFHSCxFQUFNRSxXQUFXRSxFQUFHLEVBQUFDLFlBQzVGVCxLQUFLVSxNQUFRLElBQUksRUFBQUMsa0JBQ2pCWCxLQUFLVSxNQUFNRSxJQUFNWixLQUFLRSxNQUN0QkYsS0FBS2EsS0FBTyxJQUFJLEVBQUFDLEtBQUssSUFBSSxFQUFBQyxjQUFjLEdBQUksSUFBS2YsS0FBS1UsT0FhN0QsT0FYSSxZQUFBa0MsU0FBQSxXQUVJLE9BQU81QyxLQUFLYSxNQUtoQixZQUFBZ0MsT0FBQSxTQUFPaUMsRUFBNkJDLEdBQ2hDL0UsS0FBS0ksTUFBTTRFLE9BQU9GLEVBQVdDLEdBQzdCL0UsS0FBS0UsTUFBTTRDLGFBQWMsR0FFakMsRUF2QkEsR0FBYSxFQUFBbUMsYUE4QmIsaUJBT0ksV0FBWXBELEVBQWFFLEVBQWN0QyxFQUFtQnlGLEVBQW1CbEUsRUFBMEJtRSxRQUEzRixJQUFBdEQsTUFBQSxRQUFhLElBQUFFLE1BQUEsUUFBYyxJQUFBdEMsTUFBQSxVQUFtQixJQUFBeUYsTUFBQSxVQUFtQixJQUFBbEUsTUFBQSxJQUFlLEVBQUFyQixjQUFXLElBQUF3RixNQUFBLElBQWEsRUFBQXhGLFFBQVEsRUFBRyxFQUFHLElBQzlISyxLQUFLNkIsTUFBUUEsRUFDYjdCLEtBQUsrQixPQUFTQSxFQUNkL0IsS0FBS2dCLFNBQVdBLEVBQ2hCaEIsS0FBS21GLE9BQVNBLEVBQU85RCxZQUNyQnJCLEtBQUtNLFdBQWEsSUFBSSxFQUFBcUUsUUFBUWxGLEVBQWF5RixHQUMzQ2xGLEtBQUtvRixLQUFPLElBQUlDLFdBQVcsRUFBSTVGLEVBQWN5RixHQW9GckQsT0FsRkksWUFBQTdFLFNBQUEsV0FBeUIsT0FBT0wsS0FBS29GLE1BUXJDLFlBQUFKLE9BQUEsU0FBT0YsRUFBNkJDLEdBQXBDLFdBQ1VPLEdBQWMsSUFBSSxFQUFBbkUsWUFBYUMsbUJBQW1CcEIsS0FBS21GLE9BQVEsSUFBSSxFQUFBeEYsUUFBUSxFQUFHLEVBQUcsSUFDakZnRSxFQUFRLENBQUMsR0FBSSxFQUFHLEVBQUcsR0FDekJtQixFQUFVN0IsU0FBUSxTQUFBc0MsR0FDZCxHQUFJQSxFQUFFQyxXQUFhLEVBQUFDLGNBQWNDLE9BQVEsQ0FDckMsSUFBTUMsRUFBT0osRUFBRXJELGNBQ1QwRCxHQUFLLElBQUksRUFBQWpHLFNBQVVrRyxXQUFXTixFQUFFckQsY0FBZXFELEVBQUVPLGNBQWM3QixlQUFlYyxJQUM5RWdCLEVBQWUsRUFBS0Msb0JBQW9CTCxFQUFNQyxHQUNwRCxHQUFJRyxFQUFheEYsR0FBSzBGLE9BQU9DLGtCQUFtQixDQUM1QyxJQUFNQyxFQUFzQkosRUFBYUssSUFBSSxFQUFLcEYsVUFDbERtRixFQUFvQkUsZ0JBQWdCZixHQUNwQ2EsRUFBb0I1RixFQUFJLEVBQUtzQixNQUFRLEVBQUlzRSxFQUFvQjVGLEVBQUksRUFBS0QsV0FBV0MsRUFBSSxFQUFLc0IsTUFDMUZzRSxFQUFvQjNGLEVBQUksRUFBS3VCLE9BQVMsRUFBSW9FLEVBQW9CM0YsRUFBSSxFQUFLRixXQUFXRSxFQUFJLEVBQUt1QixPQUMzRm9FLEVBQW9CNUYsRUFBSSxFQUFJWCxLQUFLMEcsTUFBTUgsRUFBb0I1RixHQUMzRDRGLEVBQW9CM0YsRUFBSSxFQUFJWixLQUFLMEcsTUFBTUgsRUFBb0IzRixHQUMzRCxJQUFNLEVBQVEyRixFQUFvQjNGLEVBQUksRUFBS0YsV0FBV0MsRUFBSTRGLEVBQW9CNUYsRUFDOUVvRCxFQUFNVixTQUFRLFNBQUNJLEVBQUdDLEdBQ2QsRUFBSzhCLEtBQUssRUFBUTlCLEdBQUsxRCxLQUFLMkcsSUFBSSxFQUFLbkIsS0FBSyxFQUFROUIsR0FBS0QsRUFBRyxjQWE5RSxZQUFBSyxTQUFBLFNBQVNuRCxFQUFXQyxFQUFXbUQsR0FBL0IsV0FDSXBELEVBQUksRUFBSVgsS0FBSzRELE1BQU1qRCxHQUVuQixJQUFNaUcsR0FETmhHLEVBQUksRUFBSVosS0FBSzRELE1BQU1oRCxJQUNEUixLQUFLTSxXQUFXQyxFQUFJQSxFQUN0Q29ELEVBQU1WLFNBQVEsU0FBQ0ksRUFBR0MsR0FDZCxFQUFLOEIsS0FBS29CLEVBQVFsRCxHQUFLMUQsS0FBSzJHLElBQUksRUFBS25CLEtBQUtvQixFQUFRbEQsR0FBS0QsRUFBRyxTQU9sRSxZQUFBMkMsb0JBQUEsU0FBb0JMLEVBQWVDLEdBQy9CLElBQUlHLEVBQWUsSUFBSSxFQUFBcEcsUUFBUXNHLE9BQU9DLGtCQUFtQkQsT0FBT0MsbUJBSTFETyxHQUFPLElBQUksRUFBQTlHLFNBQVUrRyxXQUFXZCxFQUFJRCxHQUVwQ2dCLEdBRFcsSUFBSSxFQUFBaEgsU0FBVStHLFdBQVdmLEVBQU0zRixLQUFLZ0IsVUFDL0I0RixJQUFJNUcsS0FBS21GLFFBRXpCMEIsR0FEVyxJQUFJLEVBQUFsSCxTQUFVK0csV0FBV2QsRUFBSTVGLEtBQUtnQixVQUM3QjRGLElBQUk1RyxLQUFLbUYsUUFFL0IsR0FBSXdCLEVBQU9FLEVBQU8sRUFFZCxPQUFPZCxFQUVYLEdBQVksR0FBUlksRUFDQSxPQUFPaEIsRUFDSixHQUFZLEdBQVJrQixFQUNQLE9BQU9qQixFQUlYLElBQU1rQixFQUFRbEgsS0FBS21ILElBQUlKLElBQVMvRyxLQUFLbUgsSUFBSUosR0FBUS9HLEtBQUttSCxJQUFJRixJQUMxRGQsRUFBZUosRUFBS3FCLElBQUlQLEVBQUt4QyxlQUFlNkMsSUFHNUMsSUFBTUcsR0FBYSxJQUFJLEVBQUF0SCxTQUFVK0csV0FBV1gsRUFBYy9GLEtBQUtnQixVQUkvRCxPQUhJcEIsS0FBS21ILElBQUlFLEVBQVcxRyxHQUFLUCxLQUFLNkIsT0FBU2pDLEtBQUttSCxJQUFJRSxFQUFXekcsR0FBS1IsS0FBSytCLFNBQ3JFZ0UsRUFBYW1CLElBQUlqQixPQUFPQyxrQkFBbUJELE9BQU9DLGtCQUFtQkQsT0FBT0MsbUJBRXpFSCxHQUVmLEVBakdBLEdBQWEsRUFBQXBELHFCLDBHQ3hDYixpQkFPSSxXQUFZd0UsRUFBaUJDLFFBQWpCLElBQUFELE1BQUEsZUFBaUIsSUFBQUMsTUFBQSxHQUhyQixLQUFBQyxZQUFjLEVBSWxCckgsS0FBS29ILFlBQWNBLEVBQ25CcEgsS0FBS21ILEtBQU9BLEVBcUJwQixPQW5CSSxZQUFBRyxNQUFBLFdBQ0l0SCxLQUFLdUgsV0FBWSxJQUFJQyxNQUFPQyxXQUVoQyxZQUFBQyxLQUFBLFdBQ0ksSUFBTUMsR0FBVSxJQUFJSCxNQUFPQyxVQUNyQkcsRUFBV0QsRUFBVTNILEtBQUt1SCxVQVNoQyxPQVJBdkgsS0FBS3VILFVBQVlJLEVBQ2pCM0gsS0FBS3FILGNBQ0RySCxLQUFLcUgsWUFBY3JILEtBQUtvSCxjQUN4QnBILEtBQUtxSCxZQUFjLEVBQ25CckgsS0FBSzZILFFBQ0w3SCxLQUFLNEgsU0FBVyxHQUVwQjVILEtBQUs0SCxVQUFZQSxFQUNWNUgsS0FBSzRILFVBRWhCLFlBQUFDLE1BQUEsV0FDSUMsUUFBUUMsSUFBSSxnQkFBaUIvSCxLQUFLbUgsS0FBTW5ILEtBQUs0SCxXQUVyRCxFQTlCQSxHQUFhLEVBQUFJLGUseUhDR2IsZ0JBRUEsWUFRQSxhQU1JLFdBQVlDLEdBQ1JqSSxLQUFLaUksVUFBWUEsRUFDakJqSSxLQUFLa0ksR0FBSyxJQUFJQyxFQUFnQm5JLEtBQUtpSSxVQUFVeEcsZ0JBQWdCbEIsRUFBR1AsS0FBS2lJLFVBQVV4RyxnQkFBZ0JqQixFQUFHLEdBb0YxRyxPQWpGSSxZQUFBNEgsUUFBQSxTQUFRQyxHQUNKckksS0FBS3FJLEtBQU9BLEdBR2hCLFlBQUFDLGFBQUEsU0FBYUMsR0FDVHZJLEtBQUt1SSxVQUFZQSxFQUNqQnZJLEtBQUt3SSxPQUFTLElBQUksRUFBQUMsT0FBT3pJLEtBQUt1SSxVQUFXLElBQUksRUFBQTVJLFNBQVMsSUFBSyxJQUFLLElBQUssSUFBSSxFQUFBQSxRQUFRLEdBQUksR0FBSSxJQUFLLEVBQUcsS0FHckcsWUFBQStJLHVCQUFBLFNBQXVCakUsS0FXdkIsWUFBQWtFLFlBQUEsU0FBWWxFLEVBQXFCdkIsR0FDN0IsSUFBSVMsRUFBUSxDQUFDLElBQUssRUFBRyxFQUFHLEdBQ3hCQSxFQUFRM0QsS0FBSzRJLGtCQUFrQmpGLEVBQU9jLEVBQVNxQixjQUFlNUMsRUFBSTRDLGVBQ2xFOUYsS0FBS2lJLFVBQVV2RSxTQUFTUixFQUFJMkYsaUJBQWlCdEksRUFBRzJDLEVBQUkyRixpQkFBaUJySSxFQUFHbUQsRUFBTyxJQUFJLEVBQUFoRSxTQUNuRkssS0FBS2lJLFVBQVV0RyxhQUFhdUIsRUFBSTJGLGlCQUFpQnRJLEVBQUcyQyxFQUFJMkYsaUJBQWlCckksSUFFN0UsWUFBQW9JLGtCQUFBLFNBQWtCakYsRUFBc0JtRixFQUF1QkMsR0FDM0QsSUFBSWpGLEVBQU1pRixFQUFRNUcsUUFBUWQsWUFDdEJ1RixFQUFNa0MsRUFBYWxDLElBQUk5QyxHQUVyQmdELEVBREtoRCxFQUFJRyxlQUFlNkUsRUFBYWxDLElBQUk5QyxJQUM1QmtGLFNBQVdELEVBQVFDLFNBV3RDLE9BUElwQyxFQUFNLEVBRU5qRCxFQUFNLEdBQUsvRCxLQUFLMkcsSUFBSTVDLEVBQU0sR0FBSy9ELEtBQUtxSixLQUxyQixJQUswQm5DLEdBQXFCLEtBRzlEbkQsRUFBTSxHQUFLL0QsS0FBSzJHLElBQUk1QyxFQUFNLEdBQUsvRCxLQUFLcUosS0FSckIsSUFRMEJuQyxHQUFxQixLQUUzRG5ELEdBRVgsWUFBQWQsT0FBQSxTQUFPcUcsR0FBUCxXQUNJbEosS0FBS3FJLEtBQUtwRixTQUFRLFNBQUFrRyxHQUNkLElBQU14RCxFQUFPd0QsRUFBRWpILGNBQ1QwRCxFQUFLdUQsRUFBRWpILGNBQWNrSCxnQkFBZ0JELEVBQUVyRCxjQUFlLEdBQzVELEdBQUlILEVBQUswRCxHQUFLLEdBQUksQ0FDZCxJQUNNOUksRUFBSSxFQUFLMEgsVUFBVXhHLGdCQUFnQmxCLEVBQUksRUFBSVgsS0FBSzRELE1BQU1tQyxFQUFLcEYsRUFBSSxJQUFNLEVBQUswSCxVQUFVeEcsZ0JBQWdCbEIsR0FDcEdDLEVBQUksRUFBS3lILFVBQVV4RyxnQkFBZ0JqQixFQUFJLEVBQUlaLEtBQUs0RCxNQUFNbUMsRUFBS25GLEVBQUksSUFBTSxFQUFLeUgsVUFBVXhHLGdCQUFnQmpCLEdBQzFHLEdBQUlaLEtBQUs2RCxTQUhJLEdBR2UsRUFBS3lFLEdBQUdvQixXQUFXL0ksRUFBR0MsR0FBSSxDQUNsRDJJLEVBQUVJLFVBQ0YsSUFFSTVGLEVBQVEsQ0FBQyxJQUFtQixJQUFtQixJQUFtQixHQUN0RSxFQUFLc0UsVUFBVXZFLFNBQVN5RixFQUFFTixpQkFBaUJ0SSxFQUFHNEksRUFBRU4saUJBQWlCckksRUFBR21ELEVBQU8sSUFBSSxFQUFBaEUsY0FFaEYsQ0FHSCxJQUFNNkosRUFBTyxFQUFLaEIsT0FBT2lCLFFBQVE5RCxFQUFNQyxHQUN2QyxHQUFJNEQsRUFDa0JBLEVBQUtFLGFBQ2J6RyxTQUFRLFNBQUEwRyxHQUNkLEdBQUlBLEVBQUVDLGtCQUFrQmpFLEVBQU1DLEVBQUl1RCxFQUFFVSxhQUFjLENBQzlDVixFQUFFSSxVQU1GLEVBQUtaLFlBQVlnQixFQUF1QlIsWUFTcEUsRUE1RkEsR0FBYSxFQUFBVyw2QkE4RmIsaUJBR0ksV0FBWXZKLEVBQVdDLEVBQVd1SixHQUM5Qi9KLEtBQUtnSyxPQUFTLElBQUlDLE1BQWMxSixFQUFJQyxHQUNwQ1IsS0FBS2lILFdBQWEsSUFBSSxFQUFBdEMsUUFBUXBFLEVBQUdDLEdBQ2pDUixLQUFLa0ssT0FBT0gsR0FBUXhKLEVBQUlDLElBNkJoQyxPQWxCWSxZQUFBMEosT0FBUixTQUFlSCxHQUVYLElBREEsSUFDUzFHLEVBQUksRUFBR0EsRUFBSXJELEtBQUtpSCxXQUFXMUcsRUFBRzhDLElBQ25DLElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJdEQsS0FBS2lILFdBQVd6RyxFQUFHOEMsSUFDbkMsR0FBSUQsRUFITyxJQUdXLEdBQUtDLEVBSGhCLElBR2tDLEVBQUcsQ0FDNUMsSUFBTWtELEVBQVFsRCxFQUFJdEQsS0FBS2lILFdBQVcxRyxFQUFJOEMsRUFDdENyRCxLQUFLZ0ssT0FBT3hELEdBQVMsSUFNckMsWUFBQThDLFdBQUEsU0FBVy9JLEVBQVdDLEdBQ2xCLElBQU1nRyxFQUFRaEcsRUFBSVIsS0FBS2lILFdBQVcxRyxFQUFJQSxFQUN0QyxPQUEwQixHQUF0QlAsS0FBS2dLLE9BQU94RCxJQUl4QixFQW5DQSxJLHdjQzNHQSxnQkFDQSxZQUVBLFlBQ0EsWUFFQSxjQU1JLFdBQVkyRCxFQUFXQyxFQUFXQyxFQUFpQjlKLEVBQVlDLEVBQVk2SSxFQUFZckYsR0FBdkYsTUFDSSxjQUFPLEssT0FDUCxFQUFLSSxtQkFBcUIsSUFBSSxFQUFBa0csNEJBQzlCLEVBQUtDLG1CQUFxQixJQUFJLEVBQUFDLDRCQUE0QkwsRUFBR0MsRUFBR0MsRUFBUTlKLEVBQUdDLEVBQUc2SSxHQUM5RSxFQUFLZ0IsT0FBU0EsRUFDZCxFQUFLSSxLQUFPcEIsRUFDWixFQUFLcUIsSUFBTTFHLEUsRUFrQm5CLE9BOUJpRCxPQWU3QyxZQUFBMkcsU0FBQSxTQUFTOUksR0FDTDdCLEtBQUt1SyxtQkFBbUJJLFNBQVM5SSxJQUVyQyxZQUFBa0MsU0FBQSxXQUNJLElBQU02RyxFQUFPNUssS0FBSzZLLFNBQVdqTCxLQUFLNkQsVUFBWXpELEtBQUs4SyxTQUFXOUssS0FBSzZLLFVBQzdEcEcsRUFBVyxJQUFJLEVBQUFzRyxTQUFTSCxHQUN4QkksRUFBTWhMLEtBQUt1SyxtQkFBbUJ4RyxXQUNwQy9ELEtBQUtvRSxtQkFBbUI2RyxXQUFXakwsS0FBS3FLLE9BQVFXLEVBQUtoTCxLQUFLeUssTUFDMUQsSUFBTXpHLEVBQU1oRSxLQUFLb0UsbUJBQW1CTCxXQUtwQyxPQUpBQyxFQUFJQyxlQUFlakUsS0FBSzBLLEtBQ3hCakcsRUFBU3lHLFlBQVlsSCxFQUFJekQsRUFBR3lELEVBQUl4RCxFQUFHd0QsRUFBSXFGLEdBQ3ZDNUUsRUFBUzBHLFlBQVlILEVBQUl6SyxFQUFHeUssRUFBSXhLLEVBQUd3SyxFQUFJM0IsR0FDdkM1RSxFQUFTMkcsWUFBWXBMLEtBQUtxTCxVQUNuQjVHLEdBRWYsRUE5QkEsQ0FBaUQsRUFBQTZHLG1CQUFwQyxFQUFBQywrQiw0R0NOYixnQkFDQSxZQUlBLGFBU0ksV0FBWWxNLEVBQWM4SCxFQUFjeEQsRUFBbUI2SCxFQUFZWixRQUEvQixJQUFBakgsTUFBQSxnQkFBbUIsSUFBQTZILE1BQUEsUUFBWSxJQUFBWixNQUFBLEdBQ25FNUssS0FBS21ILEtBQU9BLEVBQ1puSCxLQUFLeUwsU0FBVyxJQUFJLEVBQUFDLHFCQUFxQixHQUV6QzFMLEtBQUsyTCxTQUFXLElBQUksRUFBQWhMLGtCQUFrQixDQUFFZ0QsTUFBSyxJQUM3QzNELEtBQUthLEtBQU8sSUFBSSxFQUFBQyxLQUFLZCxLQUFLeUwsU0FBVXpMLEtBQUsyTCxVQUN6QzNMLEtBQUthLEtBQUsrSyxNQUFNMUUsSUFBSXNFLEVBQVFBLEVBQVFBLEdBQ3BDeEwsS0FBS3lFLFNBQVcsSUFBSSxFQUFBc0csU0FBU0gsRUFBTVksR0FDbkN4TCxLQUFLMkQsTUFBUUEsRUFDYjNELEtBQUtYLE1BQVFBLEVBQ2JXLEtBQUtYLE1BQU0ySCxJQUFJaEgsS0FBS2EsTUEwRTVCLE9BeEVJLFlBQUFnTCxrQkFBQSxTQUFrQmxHLEVBQWVDLEdBQzdCLE9BQU81RixLQUFLeUUsU0FBU29ILGtCQUFrQmxHLEVBQU1DLElBRWpELFlBQUFrRyxVQUFBLFNBQVUzQyxHQUVOLE9BREFuSixLQUFLYSxLQUFLK0ssTUFBTTFFLElBQUlpQyxFQUFHQSxFQUFHQSxHQUNuQm5KLEtBQUt5RSxTQUFTcUgsVUFBVTNDLElBRW5DLFlBQUFTLGtCQUFBLFNBQWtCakUsRUFBZUMsRUFBYTRGLEdBQzFDLE9BQU94TCxLQUFLeUUsU0FBU21GLGtCQUFrQmpFLEVBQU1DLEVBQUk0RixJQUVyRCxZQUFBTyxRQUFBLFdBQ0ksT0FBTy9MLEtBQUt5RSxTQUFTc0gsV0FFekIsWUFBQTlLLEtBQUEsU0FBS3NFLEdBQ0R2RixLQUFLeUUsU0FBU3hELEtBQUtzRSxHQUNuQnZGLEtBQUthLEtBQUsrSyxNQUFNMUUsSUFBSWxILEtBQUt5RSxTQUFTb0YsWUFBYTdKLEtBQUt5RSxTQUFTb0YsWUFBYTdKLEtBQUt5RSxTQUFTb0YsY0FFNUYsWUFBQW1DLFFBQUEsU0FBUUMsR0FDSixPQUFPak0sS0FBS3lFLFNBQVN1SCxRQUFRQyxJQUVqQyxZQUFBekcsUUFBQSxXQUNJLE9BQU94RixLQUFLeUUsU0FBU2UsV0FFekIsWUFBQTNDLE9BQUEsYUFFQSxZQUFBcUosWUFBQSxXQUNJLE9BQU9sTSxLQUFLeUUsU0FBU3lILGVBRXpCLFlBQUFkLFlBQUEsU0FBWWUsR0FDUixPQUFPbk0sS0FBS3lFLFNBQVMyRyxZQUFZZSxJQUVyQyxZQUFBQyxPQUFBLFdBQ0ksT0FBT3BNLEtBQUt5RSxTQUFTMkgsVUFFekIsWUFBQUMsT0FBQSxTQUFPbEMsR0FDSCxPQUFPbkssS0FBS3lFLFNBQVM0SCxPQUFPbEMsSUFFaEMsWUFBQW5KLFNBQUEsU0FBU3NMLEdBR0wsWUFGVUMsSUFBTkQsR0FDQXRNLEtBQUthLEtBQUtHLFNBQVNDLEtBQUtxTCxHQUNyQnRNLEtBQUthLEtBQUtHLFNBQVNtQixTQUU5QixZQUFBcUssUUFBQSxTQUFRQyxHQUFhek0sS0FBS3lFLFNBQVMrSCxRQUFRQyxJQUMzQyxZQUFBQyxRQUFBLFdBQW9CLE9BQU8xTSxLQUFLeUUsU0FBU2lJLFdBQ3pDLFlBQUE1RyxZQUFBLFdBQXlCLE9BQU85RixLQUFLeUUsU0FBU3FCLGVBQzlDLFlBQUE1RCxZQUFBLFdBQXlCLE9BQU9sQyxLQUFLZ0IsWUFDckMsWUFBQW1LLFlBQUEsU0FBWTVLLEVBQVdDLEVBQVc2SSxHQUM5QixJQUFNMkIsRUFBTWhMLEtBQUtnQixTQUFTLElBQUksRUFBQXJCLFFBQVFZLEVBQUdDLEVBQUc2SSxJQUU1QyxPQURBckosS0FBS3lFLFNBQVMwRyxZQUFZNUssRUFBR0MsRUFBRzZJLEdBQ3pCMkIsR0FFWCxZQUFBRSxZQUFBLFNBQVkzSyxFQUFXQyxFQUFXNkksR0FFOUIsT0FEWXJKLEtBQUt5RSxTQUFTeUcsWUFBWTNLLEVBQUdDLEVBQUc2SSxJQUdoRCxZQUFBUSxVQUFBLFdBQ0ksT0FBTzdKLEtBQUt5RSxTQUFTb0YsYUFFekIsWUFBQThDLFFBQUEsV0FDSTNNLEtBQUt5TCxTQUFTbUIsVUFDZDVNLEtBQUsyTCxTQUFTaUIsV0FFbEIsWUFBQUMsZUFBQSxTQUFlbEosR0FFWCxJQUFJbUosRUFBUSxJQUFJLEVBQUFDLFdBQVdwSixHQUMzQjNELEtBQUthLEtBQUttRyxJQUFJOEYsSUFFbEIsWUFBQXZELFFBQUEsV0FDSXZKLEtBQUtYLE1BQU0yTixPQUFPaE4sS0FBS2EsTUFDdkJiLEtBQUsyTSxVQUNMM00sS0FBS3lFLFNBQVM4RSxXQUV0QixFQTdGQSxHQUFhLEVBQUEwRCxtQiw4R0NMYixnQkFFQSxZQUNBLFlBQ0EsWUFRQSxhQVFJLGFBQ0lqTixLQUFLZ0IsU0FBVyxJQUFJLEVBQUFyQixRQUNwQkssS0FBS3FMLFNBQVcsRUFDaEJyTCxLQUFLdUssbUJBQXFCLElBQUksRUFBQWhHLHVCQUF1QnZFLEtBQUtnQixVQUMxRGhCLEtBQUtvRSxtQkFBcUIsSUFBSSxFQUFBOEksd0JBaUN0QyxPQS9CSSxZQUFBN0kscUJBQUEsU0FBcUIzQyxHQUNqQjFCLEtBQUtvRSxtQkFBcUIxQyxHQUU5QixZQUFBNEMscUJBQUEsU0FBcUI1QyxHQUNqQjFCLEtBQUt1SyxtQkFBcUI3SSxHQUU5QixZQUFBcUMsU0FBQSxXQUNJLElBQU02RyxFQUFPNUssS0FBSzZLLFNBQVdqTCxLQUFLNkQsVUFBWXpELEtBQUs4SyxTQUFXOUssS0FBSzZLLFVBQzdEcEcsRUFBVyxJQUFJLEVBQUFzRyxTQUFTSCxHQUN4QjVHLEVBQU1oRSxLQUFLb0UsbUJBQW1CTCxXQUM5QmlILEVBQU1oTCxLQUFLdUssbUJBQW1CeEcsV0FJcEMsT0FIQVUsRUFBU3lHLFlBQVlsSCxFQUFJekQsRUFBR3lELEVBQUl4RCxFQUFHd0QsRUFBSXFGLEdBQ3ZDNUUsRUFBUzBHLFlBQVlILEVBQUl6SyxFQUFHeUssRUFBSXhLLEVBQUd3SyxFQUFJM0IsR0FDdkM1RSxFQUFTMkcsWUFBWXBMLEtBQUtxTCxVQUNuQjVHLEdBTVgsWUFBQTBHLFlBQUEsU0FBWW1CLEdBQ1J0TSxLQUFLZ0IsU0FBU0MsS0FBS3FMLElBRXZCLFlBQUFwSyxZQUFBLFdBQ0ksT0FBT2xDLEtBQUtnQixTQUFTbUIsU0FFekIsWUFBQWdMLGNBQUEsU0FBY3RDLEVBQWtCQyxFQUFrQk8sR0FDOUNyTCxLQUFLOEssU0FBV0EsRUFDaEI5SyxLQUFLNkssU0FBV0EsRUFDaEI3SyxLQUFLcUwsU0FBV0EsR0FFeEIsRUE3Q0EsR0FBYSxFQUFBQyxxQixxYkNaYixnQkFDQSxZQUdBLGNBR0ksV0FBWWpNLEVBQWMrTixRQUFBLElBQUFBLE1BQUEsSUFBYSxFQUFBekksU0FBdkMsTUFDSSxZQUFNLElBQUUsSyxPQUVSLEVBQUt5SSxPQUFTQSxFLEVBUXRCLE9BZDhCLE9BUTFCLFlBQUF2RSxlQUFBLFdBQ0ksT0FBTzdJLEtBQUtvTixRQUVoQixZQUFBQyxlQUFBLFNBQWU5TSxFQUFXQyxHQUN0QlIsS0FBS29OLE9BQU9sRyxJQUFJM0csRUFBR0MsSUFFM0IsRUFkQSxDQUE4QixFQUFBdUssVUFBakIsRUFBQXJHLFksd0hDSGIsZ0JBS0EsMkJBcUJBLE9BWEksWUFBQXVHLFdBQUEsU0FBV1osRUFBaUJySixFQUFtQnlKLEdBQzNDekssS0FBS2dCLFNBQVdBLEVBQ2hCaEIsS0FBS3FLLE9BQVNBLEVBQ2RySyxLQUFLeUssS0FBT0EsRUFBS3BKLGFBRXJCLFlBQUEwQyxTQUFBLFdBRUksSUFBTUQsR0FBTSxJQUFJLEVBQUFuRSxTQUFVK0csV0FBVzFHLEtBQUtnQixTQUFVaEIsS0FBS3FLLFFBQVFoSixZQUVqRSxPQURZLElBQUksRUFBQTFCLFNBQVUyTixhQUFheEosRUFBSzlELEtBQUt5SyxPQUd6RCxFQXJCQSxHQUFhLEVBQUFILCtCLG9IQ0xiLGdCQUtBLDBCQUNJLEtBQUE1SyxFQUFJLFVBU1IsT0FSSSxZQUFBbUUsVUFBQSxTQUFVbkUsR0FDTk0sS0FBS04sRUFBSUEsR0FFYixZQUFBcUUsU0FBQSxXQUNJLElBQU1DLEVBQU0sSUFBSSxFQUFBckUsUUFBYSxFQUFJQyxLQUFLNkQsU0FBYixFQUE0QixFQUFJN0QsS0FBSzZELFNBQWIsRUFBNEIsRUFBSTdELEtBQUs2RCxTQUFiLEdBRXpFLE9BREFPLEVBQUlDLGVBQWVqRSxLQUFLTixHQUNqQnNFLEdBRWYsRUFWQSxHQUFhLEVBQUF1SiwyQixvSENMYixnQkFLQSwyQkFLQSxPQUpJLFlBQUF4SixTQUFBLFdBRUksT0FEWSxJQUFJLEVBQUFwRSxRQUFhLEVBQUlDLEtBQUs2RCxTQUFiLEVBQTRCLEVBQUk3RCxLQUFLNkQsU0FBYixFQUE0QixFQUFJN0QsS0FBSzZELFNBQWIsSUFHakYsRUFMQSxHQUFhLEVBQUF5SiwyQiw0YkNOYixnQkFDQSxZQUVBLFlBQ0EsWUFFQSxjQUVJLG1CQUNJLGNBQU8sSyxPQUZYLEVBQUFNLGFBQWUsVUFHWCxFQUFLcEosbUJBQXFCLElBQUksRUFBQW1KLHdCQUM5QixFQUFLekMsU0FBVyxFQUNoQixFQUFLRCxTQUFXLEVBQ2hCLEVBQUtRLFNBQVcsRSxFQW9CeEIsT0EzQnFDLE9BU2pDLFlBQUF0SCxTQUFBLFdBQ0ksSUFBTVUsRUFBVyxZQUFNVixTQUFRLFdBRy9CLE9BRkFVLEVBQVN1SCxRQUFRLEVBQUF2RyxjQUFjQyxRQUMvQmpCLEVBQVNxSCxVQUFVLElBQ1pySCxHQUVYLFlBQUFnSixnQkFBQSxTQUFnQkMsR0FDWjFOLEtBQUt3TixhQUFlRSxFQUNwQixJQUFNMUosRUFBTSxJQUFJLEVBQUF1Six3QkFDaEJ2TixLQUFLb0UsbUJBQXFCSixFQUMxQkEsRUFBSUgsVUFBVTZKLElBRVIsWUFBQUMsZUFBVixXQUNJLElBQU0zSixFQUFNLElBQUksRUFBQXJFLFFBQVFDLEtBQUs2RCxTQUFVN0QsS0FBSzZELFNBQVU3RCxLQUFLNkQsVUFHM0QsT0FGQU8sRUFBSTNDLFlBQ0oyQyxFQUFJQyxlQUFlakUsS0FBS3dOLGNBQ2pCeEosR0FFZixFQTNCQSxDQUFxQyxFQUFBc0gsbUJBQXhCLEVBQUFuSCxtQix5R0NKYixnQkFFQSxhQUdJLFdBQVl5SixHQUNENU4sS0FBSzROLEVBQVJBLEdBQ1UsRUFvQ3RCLE9BbENJLFlBQUFDLG1CQUFBLFNBQW1CQyxHQUVmLE9BRFlBLEVBQUl2TixFQUFJdU4sRUFBSXZOLEVBQUl1TixFQUFJdE4sRUFBSXNOLEVBQUl0TixFQUFJc04sRUFBSXpFLEVBQUl5RSxFQUFJekUsR0FHNUQsWUFBQTBFLE1BQUEsU0FBTUMsRUFBZUMsR0FDakIsSUFBTUMsRUFBUUYsRUFBRzlMLGNBQWNrRSxJQUFJNkgsRUFBRy9MLGVBQ2xDaUgsRUFBSSxFQUFJbkosS0FBSzZOLG1CQUFtQkssR0FDaENDLEVBQUssSUFBSSxFQUFBeE8sUUFDVHlPLEVBQUssSUFBSSxFQUFBek8sUUFDYixHQUFJd0osRUFBSSxFQUFHLENBRVAsSUFBTWtGLEVBQVNILEVBQU03TSxZQUNyQjhNLEVBQUtFLEVBQU9sTSxRQUFROEIsZ0JBQWdCakUsS0FBSzROLEVBQUlLLEVBQUd2QixVQUFZLEdBQzVEMEIsRUFBS0MsRUFBT2xNLFFBQVE4QixlQUFlakUsS0FBSzROLEVBQUlJLEVBQUd0QixVQUFZLEdBRS9ELE1BQU8sQ0FBQ3lCLEVBQUlDLElBUVQsRUFBQUUsVUFBUCxTQUFpQkMsRUFBWTlCLEVBQVdpQixHQUVwQyxPQURVMU4sS0FBS3dPLHFCQUF1QkQsRUFBS2IsRUFBSUEsR0FBS2pCLEVBQUlBLEVBQUlBLElBR2hFLHNCQUFJLGdCQUFDLEMsSUFJTCxXQUNJLE9BQU96TSxLQUFLeU8sSSxJQUxoQixTQUFNQyxHQUNGMU8sS0FBS3lPLEdBQUtDLEcsZ0NBakNFLEVBQUFGLHFCQUF1QixVQXVDM0MsRUF6Q0EsR0FBYSxFQUFBRyxnQixvY0NKYixnQkFDQSxZQUNBLFlBRUEsWUFFQSx5RSxPQUNJLEVBQUFDLGFBQWUzSSxPQUFPQyxrQkFDdEIsRUFBQTJJLGNBQWdCNUksT0FBT0Msa0JBQ2YsRUFBQTRJLFdBQWEsSUFBSSxFQUFBQyxhLEVBcUU3QixPQXhFNkMsT0FJekMsWUFBQUMsZ0JBQUEsU0FBZ0JDLEdBQ1pqUCxLQUFLNE8sYUFBZUssR0FHeEIsWUFBQUMsb0JBQUEsU0FBb0JDLEdBQXBCLFdBZ0NJLE9BOUJBblAsS0FBSzhFLFVBQVU3QixTQUFRLFNBQUNzQyxFQUFHbEMsR0FDdkIsSUFBTVcsRUFBTXVCLEVBQUVPLGNBQ2RxSixFQUFXakksSUFBSTdELEVBQUcsQ0FBQ1csRUFBSXpELEVBQUd5RCxFQUFJeEQsRUFBR3dELEVBQUlxRixFQUFHLEVBQUcsRUFBRyxPQUVsRHJKLEtBQUtvUCxPQUFPbk0sU0FBUSxTQUFBb00sR0FFaEIsSUFEQSxJQUNTaE0sRUFBSSxFQUFHQSxFQUFJLEVBQUt5QixVQUFVa0UsT0FBUTNGLElBR3ZDLEdBQUksRUFBS3lCLFVBQVV6QixHQUFHbUMsV0FBYSxFQUFBQyxjQUFjQyxPQUFRLENBQ3JELElBQUkwSixFQUFTQyxFQUFNdEIsTUFBTSxFQUFLakosVUFBVXpCLEdBQUksRUFBS3lCLFVBTC9DLElBTUZxSyxFQUFXbkksSUFBSTNELEVBQUcsQ0FBQyxFQUFHLEVBQUcsRUFBRytMLEVBQU8sR0FBRzdPLEVBQUc2TyxFQUFPLEdBQUc1TyxFQUFHNE8sRUFBTyxHQUFHL0YsSUFDaEU4RixFQUFXbkksSUFQVCxFQU9nQixDQUFDLEVBQUcsRUFBRyxFQUFHb0ksRUFBTyxHQUFHN08sRUFBRzZPLEVBQU8sR0FBRzVPLEVBQUc0TyxFQUFPLEdBQUcvRixPQUd6RXJKLE1BZUltUCxHQUVYLFlBQUFHLG1CQUFBLHNCQUNJdFAsS0FBSzhFLFVBQVU3QixTQUFRLFNBQUN3QixFQUFVcEIsR0FDOUIsR0FBSSxFQUFLeUIsVUFBVXpCLEdBQUdtQyxXQUFhLEVBQUFDLGNBQWNDLE9BQVEsQ0FDckQsSUFBTTZKLEVBQUksRUFBS0osV0FBV0ssSUFBSW5NLEdBQ3hCMkgsRUFBTXZHLEVBQVN2QyxjQUNmb0ssRUFBSTdILEVBQVNxQixjQUNuQnJCLEVBQVMwRyxZQUFZSCxFQUFJekssRUFBSWdQLEVBQUUsR0FBSXZFLEVBQUl4SyxFQUFJK08sRUFBRSxHQUFJdkUsRUFBSTNCLEVBQUlrRyxFQUFFLElBQzNEOUssRUFBU3lHLFlBQVlvQixFQUFFL0wsRUFBSWdQLEVBQUUsR0FBSWpELEVBQUU5TCxFQUFJK08sRUFBRSxHQUFJakQsRUFBRWpELEVBQUlrRyxFQUFFLE9BRTFEdlAsT0FFUCxZQUFBeVAsV0FBQSxXQUVJLElBREEsSUFDU3BNLEVBREdyRCxLQUFLOEUsVUFBVWtFLE9BQ1IsRUFBRzNGLEVBQUksRUFBR0EsSUFBSyxDQUM5QixJQUFJL0QsRUFBT1UsS0FBSzhFLFVBQVUsSUFDaEIsSUFBSSxFQUFBbkYsU0FBVStHLFdBQVdwSCxFQUFLNEMsY0FBZWxDLEtBQUs4RSxVQUFVekIsR0FBR25CLGVBQ2pFOEcsU0FBV2hKLEtBQUs0TyxlQUNwQjVPLEtBQUs4RSxVQUFVekIsR0FBR2tHLFVBQ2xCdkosS0FBSzBQLGVBQWVyTSxNQVlwQyxFQXhFQSxDQUE2QyxFQUFBc00sZ0JBQWhDLEVBQUFDLDJCLHlHQ05iLGdCQUVBLGFBRUksYUFDSTVQLEtBQUs2UCxhQUFlLElBQUlDLElBb0JoQyxPQWxCSSxZQUFBeEksTUFBQSxTQUFNSCxFQUFjUyxHQUNoQixRQURnQixJQUFBQSxNQUFBLEdBQ1o1SCxLQUFLNlAsYUFBYUUsSUFBSTVJLEdBQ3RCbkgsS0FBSzZQLGFBQWFMLElBQUlySSxHQUFNRyxZQUN6QixDQUNILElBQU0wSSxFQUFVLElBQUksRUFBQWhJLFlBQVliLEVBQU1TLEdBQ3RDNUgsS0FBSzZQLGFBQWEzSSxJQUFJQyxFQUFNNkksR0FDNUJBLEVBQVExSSxVQUdoQixZQUFBSSxLQUFBLFNBQUtQLEVBQWNTLEdBQ2YsUUFEZSxJQUFBQSxNQUFBLEdBQ1g1SCxLQUFLNlAsYUFBYUUsSUFBSTVJLEdBQ3RCbkgsS0FBSzZQLGFBQWFMLElBQUlySSxHQUFNTyxXQUN6QixDQUNILElBQU1zSSxFQUFVLElBQUksRUFBQWhJLFlBQVliLEVBQU1TLEdBQ3RDNUgsS0FBSzZQLGFBQWEzSSxJQUFJQyxFQUFNNkksR0FDNUJBLEVBQVF0SSxTQUdwQixFQXZCQSxHQUFhLEVBQUFxSCxnQiwrR0NEYixnQkFZQSxhQVNJLFdBQVl6TyxFQUFxQjJILEVBQXVCdkcsR0FMdkMsS0FBQXVPLGFBQWUsR0FHeEIsS0FBQUMseUJBQTJCLEVBRy9CbFEsS0FBS00sV0FBYUEsRUFDbEJOLEtBQUttUSxTQUFXLElBQUlsRyxNQUFjM0osRUFBV0MsRUFBSUQsRUFBV0UsR0FDNURSLEtBQUtvUSxnQkFBa0IsSUFBSW5HLE1BQWMzSixFQUFXQyxFQUFJRCxFQUFXRSxHQUNuRSxJQUFLLElBQUk2QyxFQUFJLEVBQUlBLEVBQUlyRCxLQUFLb1EsZ0JBQWdCcEgsT0FBUTNGLElBQzlDckQsS0FBS29RLGdCQUFnQi9NLEdBQUssRUFFOUJyRCxLQUFLcVEsUUFBVSxJQUFJcEcsTUFDbkJqSyxLQUFLaUksVUFBWUEsRUFDakJqSSxLQUFLMEIsVUFBWUEsRUFDakIxQixLQUFLc1EsdUJBQXVCLElBQUksRUFBQTNMLFFBQVEsRUFBRyxHQUFJLElBQUksRUFBQUEsUUFBUXJFLEVBQVdDLEVBQUdELEVBQVdFLElBZ0g1RixPQTdHSSxZQUFBd0MsS0FBQSxXQUdJLElBRkEsSUFBTXVOLEVBQU12USxLQUFLcVEsUUFBUXJILE9BQVMsRUFDNUJYLEVBQU8sSUFBSTRCLE1BQ1I1RyxFQUFJLEVBQUdBLEVBQUlrTixFQUFLbE4sSUFBSyxDQUMxQixJQUFNa0QsRUFBTXZHLEtBQUtxUSxRQUFZLEVBQUpoTixHQUNuQm1OLEVBQU14USxLQUFLcVEsUUFBWSxFQUFKaE4sRUFBUSxHQUMzQkgsRUFBTWxELEtBQUt5USxlQUFlbEssRUFBS2lLLEdBQ3JDbkksRUFBS3FJLEtBQUt4TixHQUVkLE9BQU9tRixHQUdYLFlBQUFzSSxLQUFBLFdBQ0kzUSxLQUFLc1EsdUJBQXVCLElBQUksRUFBQTNMLFFBQVEsRUFBRyxHQUFJLElBQUksRUFBQUEsUUFBUSxHQUFJLEtBQy9EbUQsUUFBUUMsSUFBSSxnQkFBaUIvSCxLQUFLbVEsVUFDbENySSxRQUFRQyxJQUFJLFVBQVcvSCxLQUFLcVEsVUFFaEMsWUFBQUMsdUJBQUEsU0FBdUIvSixFQUFjaUssR0FDakMsSUFBTUQsRUFBTXZRLEtBQUtxUSxRQUFRckgsT0FDbkJuSCxFQUFRMk8sRUFBSWpRLEVBQUlnRyxFQUFJaEcsRUFDcEJ3QixFQUFTeU8sRUFBSWhRLEVBQUkrRixFQUFJL0YsRUFDM0IsS0FBSXFCLEdBQVMsR0FBS0UsR0FBVSxHQUE1QixDQUVBL0IsS0FBSzRRLE9BQU9ySyxFQUFLMUUsRUFBT0UsR0FDeEIsSUFBSyxJQUFJc0IsRUFBSSxFQUFHQSxFQUFJckQsS0FBS2lRLGFBQWVqUSxLQUFLaVEsYUFBYzVNLElBSXZELElBSEEsSUFBSXdOLEVBQWE3USxLQUFLcVEsUUFBUUUsRUFBVyxFQUFKbE4sR0FDakN5TixFQUFhOVEsS0FBS3FRLFFBQVFFLEVBQVcsRUFBSmxOLEVBQVMsR0FDMUMwTixFQUFRblIsS0FBSzRELE1BQU1zTixFQUFXdlEsR0FDekJ5USxFQUFJcFIsS0FBSzRELE1BQU1xTixFQUFXdFEsR0FBSXlRLEVBQUlELEVBQU9DLElBRTlDLElBREEsSUFBSUMsRUFBUXJSLEtBQUs0RCxNQUFNc04sRUFBV3RRLEdBQ3pCOEwsRUFBSTFNLEtBQUs0RCxNQUFNcU4sRUFBV3JRLEdBQUk4TCxFQUFJMkUsRUFBTzNFLElBQUssQ0FDbkQsSUFBTTlGLEVBQVE4RixFQUFJdE0sS0FBS00sV0FBV0MsRUFBSXlRLEVBQ3RDaFIsS0FBS21RLFNBQVMzSixHQUFTK0osRUFBTyxFQUFJbE4sS0FNbEQsWUFBQXVOLE9BQUEsU0FBT00sRUFBaUJyUCxFQUFlRSxHQUVuQyxJQURBLElBQU1vUCxFQUFZblIsS0FBS2lRLGFBQWVqUSxLQUFLaVEsYUFDbENlLEVBQUksRUFBR0EsRUFBSUcsRUFBV0gsSUFBSyxDQUNoQyxJQUFJM04sRUFBSTJOLEVBQUloUixLQUFLaVEsYUFDYjNNLEVBQUkxRCxLQUFLNEQsTUFBTXdOLEVBQUloUixLQUFLaVEsY0FDdEIxSixFQUFNLElBQUksRUFBQTVCLFFBQVE5QyxHQUFTd0IsRUFBSXJELEtBQUtpUSxjQUFlbE8sR0FBVXVCLEVBQUl0RCxLQUFLaVEsZUFDdEVPLEVBQU0sSUFBSSxFQUFBN0wsUUFBUTlDLElBQVV3QixFQUFJLEdBQUtyRCxLQUFLaVEsY0FBZWxPLElBQVd1QixFQUFJLEdBQUt0RCxLQUFLaVEsZUFDeEYxSixFQUFJUyxJQUFJa0ssR0FDUlYsRUFBSXhKLElBQUlrSyxHQUNSbFIsS0FBS3FRLFFBQVFLLEtBQUtuSyxHQUNsQnZHLEtBQUtxUSxRQUFRSyxLQUFLRixLQUcxQixZQUFBcE4sU0FBQSxTQUFTN0MsRUFBV0MsR0FDaEIsSUFBTTZQLEVBQVVyUSxLQUFLb1IsVUFBVTdRLEVBQUdDLEdBQ2xDLE9BQU9SLEtBQUt5USxlQUFlSixFQUFRLEdBQUlBLEVBQVEsS0FFbkQsWUFBQWdCLG9CQUFBLFNBQW9COVEsRUFBV0MsR0FDM0IsSUFBTWdHLEVBQVFoRyxFQUFJUixLQUFLTSxXQUFXQyxFQUFJQSxFQUN0Q1AsS0FBS29RLGdCQUFnQjVKLE1BRXpCLFlBQUE4SyxvQkFBQSxTQUFvQi9RLEVBQVdDLEdBQzNCLElBQU1nRyxFQUFRaEcsRUFBSVIsS0FBS00sV0FBV0MsRUFBSUEsRUFDaENnUixFQUFRdlIsS0FBS2tRLHlCQUNuQixPQUFPbFEsS0FBS29RLGdCQUFnQjVKLEdBQVMrSyxHQUV6QyxZQUFBZCxlQUFBLFNBQWVsSyxFQUFjaUssR0FDekIsSUFBTVEsRUFBSXBSLEtBQUs0RCxNQUFNK0MsRUFBSWhHLEVBQUlYLEtBQUs2RCxVQUFZK00sRUFBSWpRLEVBQUlnRyxFQUFJaEcsSUFDcEQrTCxFQUFJMU0sS0FBSzRELE1BQU0rQyxFQUFJL0YsRUFBSVosS0FBSzZELFVBQVkrTSxFQUFJaFEsRUFBSStGLEVBQUkvRixJQUMxRCxPQUFPUixLQUFLd1IsY0FBY1IsRUFBRzFFLElBRWpDLFlBQUFrRixjQUFBLFNBQWNuTyxFQUFXQyxHQUNyQixHQUFJdEQsS0FBS3NSLG9CQUFvQmpPLEVBQUdDLEdBRTVCLE9BQU8sS0FHUzFELEtBQUs2RCxTQUNMN0QsS0FBSzZELFNBQ3pCLElBQU1sRCxHQUFLOEMsRUFGTSxHQUVVckQsS0FBS00sV0FBV0MsRUFBSVAsS0FBS2lJLFVBQVVyRyxXQUFhNUIsS0FBS2lJLFVBQVVyRyxXQUFhLEVBQ2pHcEIsR0FBSzhDLEVBRk0sR0FFVXRELEtBQUtNLFdBQVdFLEVBQUlSLEtBQUtpSSxVQUFVbkcsWUFBYzlCLEtBQUtpSSxVQUFVbkcsWUFBYyxFQUNuR3VILEVBQUlySixLQUFLaUksVUFBVWhHLHNCQUVuQitCLEVBQU0sSUFBSSxFQUFBckUsUUFBUVksRUFBR0MsRUFBRzZJLEdBQzlCckYsRUFBSXFDLGdCQUFnQnJHLEtBQUtpSSxVQUFVakcsZUFDbkNoQyxLQUFLMEIsVUFBVW1DLFVBQVVSLEVBQUdDLEVBQUdVLEdBQy9CLElBQU1kLEVBQU1sRCxLQUFLMEIsVUFBVXFDLFdBRzNCLE9BRkFiLEVBQUlpSSxZQUFZbkwsS0FBS2lJLFVBQVUvRixjQUFjM0IsRUFBR1AsS0FBS2lJLFVBQVUvRixjQUFjMUIsRUFBR1IsS0FBS2lJLFVBQVUvRixjQUFjbUgsR0FDN0dySixLQUFLcVIsb0JBQW9CaE8sRUFBR0MsR0FDckJKLEdBRUgsWUFBQXVPLGVBQVIsU0FBdUJsUixFQUFXQyxHQUM5QixJQUFNZ0csRUFBUWhHLEVBQUlSLEtBQUtNLFdBQVdDLEVBQUlBLEVBQ3RDLE9BQU9QLEtBQUttUSxTQUFTM0osSUFFakIsWUFBQTRLLFVBQVIsU0FBa0I3USxFQUFXQyxHQUN6QixJQUFNZ0csRUFBUXhHLEtBQUt5UixlQUFlbFIsRUFBR0MsR0FHckMsTUFBTyxDQUZLUixLQUFLcVEsUUFBUTdKLEdBQ2J4RyxLQUFLcVEsUUFBUTdKLEVBQVEsS0FHckMsWUFBQTdFLGFBQUEsU0FBYXBCLEVBQVdDLEdBRXBCLElBQU02UCxFQUFVclEsS0FBS29SLFVBQVU3USxFQUFHQyxHQUM1QitQLEVBQU12USxLQUFLcVEsUUFBUXJILE9BQ3pCaEosS0FBS3NRLHVCQUF1QkQsRUFBUSxHQUFJQSxFQUFRLElBQ2hELElBQUssSUFBSWhOLEVBQUlrTixFQUFLbE4sRUFBSXJELEtBQUtxUSxRQUFRckgsT0FBUTNGLEdBQUssRUFBRyxDQUMvQyxJQUFNSCxFQUFNbEQsS0FBS3lRLGVBQWV6USxLQUFLcVEsUUFBUWhOLEdBQUlyRCxLQUFLcVEsUUFBUWhOLEVBQUksSUFDbEVyRCxLQUFLaUksVUFBVTlFLFNBQVNELEtBR3BDLEVBbklBLEdBQWEsRUFBQTFCLHNCLG1HQ1piLGdCQVNBLGFBU0ksV0FBWWtRLEVBQStCQyxFQUFtQkMsRUFBbUJDLEVBQW1CQyxFQUFzQ0MsUUFBekQsSUFBQUYsTUFBQSxRQUFtQixJQUFBQyxNQUFZN0wsT0FBT0Msd0JBQW1CLElBQUE2TCxNQUFBLEdBTHpILEtBQUFDLG9CQUFzQixFQUMvQixLQUFBSCxjQUFnQixFQUNoQixLQUFBSSxTQUFXaE0sT0FBT0Msa0JBQ2xCLEtBQUE2TCxNQUFRLEVBR1ovUixLQUFLd0osS0FBTyxJQUFJUyxNQUNoQmpLLEtBQUtrUyxpQkFBaUJMLEdBQ3RCN1IsS0FBS21TLE9BQU9ULEVBQVNDLEVBQVNDLEdBQzlCNVIsS0FBS29TLFFBQVUsSUFBSW5JLE1BQWUsR0FDbENqSyxLQUFLb1MsUUFBUSxHQUFLVCxFQUNsQjNSLEtBQUtvUyxRQUFRLEdBQUtSLEVBQ2xCNVIsS0FBS2lTLFNBQVdILEVBQ2hCOVIsS0FBSytSLE1BQVFBLEVBeUdyQixPQXZHSSxZQUFBRyxpQkFBQSxTQUFpQmxKLEdBQ2JoSixLQUFLNlIsY0FBZ0I3SSxHQUlqQixZQUFBbUosT0FBUixTQUFlVCxFQUErQkMsRUFBa0JDLEdBRTVENVIsS0FBSzBSLFFBQVVBLEVBQ2YsSUFBTXpLLEVBQWEsQ0FBQzJLLEVBQVFyUixFQUFJb1IsRUFBUXBSLEVBQUdxUixFQUFRcFIsRUFBSW1SLEVBQVFuUixFQUFHb1IsRUFBUXZJLEVBQUlzSSxFQUFRdEksR0FFbEZnSixFQUFhcEwsRUFBVyxHQUFLQSxFQUFXLEdBQUtBLEVBQVcsR0FBS0EsRUFBVyxHQUFLQSxFQUFXLEdBQUtBLEVBQVcsR0FFNUcsR0FEQW9MLEdBQTBCLElBQ3RCWCxFQUFRMUksUUFBVWhKLEtBQUtnUyxxQkFBdUJoUyxLQUFLNlIsZUFBaUJRLEdBR3BFclMsS0FBSytSLE9BQVMvUixLQUFLaVMsVUFBdkIsQ0FJQSxJQUFNRyxFQUFVLElBQUluSSxNQUNkcUksR0FBTSxJQUFJLEVBQUEzUyxTQUFVa0csV0FBVzhMLEVBQVNDLEdBQVMzTixlQUFlLElBQ3RFbU8sRUFBUTFCLEtBQUtpQixHQUNiUyxFQUFRMUIsS0FBSzRCLEdBQ2JyTCxFQUFXaEUsU0FBUSxTQUFDc00sRUFBR2dELEdBRW5CLElBREEsSUFBTWhDLEVBQU02QixFQUFRcEosT0FDWDNGLEVBQUksRUFBR0EsRUFBSWtOLEVBQUtsTixJQUFLLENBQzFCLElBQU0zRCxFQUFJMFMsRUFBUS9PLEdBQUdsQixRQUNmcVEsRUFBTTlTLEVBQUUrUyxVQUNkRCxFQUFJRCxHQUFPQyxFQUFJRCxHQUFPaEQsRUFBSSxFQUMxQjdQLEVBQUVnVCxVQUFVRixHQUNaSixFQUFRMUIsS0FBS2hSLE9BTXJCLEksZUFBUzJELEdBQ0wsSUFBTXNQLEVBQWEsSUFBSTFJLE1BQ3ZCeUgsRUFBUXpPLFNBQVEsU0FBQTBHLEdBQ1JBLEVBQUVrQyxrQkFBa0J1RyxFQUFRLEVBQUkvTyxHQUFJK08sRUFBUSxFQUFJL08sRUFBSSxLQUNwRHNQLEVBQVdqQyxLQUFLL0csTUFLcEJnSixFQUFXM0osT0FBUyxHQUFLMkosRUFBVzNKLE9BQVMwSSxFQUFRMUksUUFFckQsRUFBS1EsS0FBS2tILEtBQUssSUFBSWpJLEVBQU9rSyxFQUFZUCxFQUFRLEVBQUkvTyxHQUFJK08sRUFBUSxFQUFJL08sRUFBSSxHQUNsRSxFQUFLd08sY0FBZSxFQUFLSSxTQUFVLEVBQUtGLE1BQVEsSyxPQVpuRDFPLEVBQUksRUFBR0EsRUFBSSxFQUFHQSxJLEVBQWRBLEtBbUJOLFlBQUF1UCxLQUFQLFNBQVlDLEdBQ1IsR0FBSTdTLEtBQUs4UyxTQUFTRCxHQUFRLENBQ3RCLElBQUssSUFBSXhQLEVBQUksRUFBR0EsRUFBSXJELEtBQUt3SixLQUFLUixPQUFRM0YsSUFBSyxDQUN2QyxJQUNNMFAsRUFETy9TLEtBQUt3SixLQUFLbkcsR0FDSHVQLEtBQUtDLEdBQ3pCLEdBQWUsT0FBWEUsRUFDQSxPQUFPQSxFQUdmLE9BQU8vUyxLQUVYLE9BQU8sTUFVSixZQUFBeUosUUFBUCxTQUFlOUQsRUFBZUMsR0FDMUIsR0FBSTVGLEtBQUs4UyxTQUFTbk4sSUFBUzNGLEtBQUs4UyxTQUFTbE4sR0FBSyxDQUMxQyxHQUF3QixHQUFwQjVGLEtBQUt3SixLQUFLUixPQUNWLE9BQU9oSixLQUVYLElBQUssSUFBSXFELEVBQUksRUFBR0EsRUFBSXJELEtBQUt3SixLQUFLUixPQUFRM0YsSUFBSyxDQUN2QyxJQUNNMFAsRUFETy9TLEtBQUt3SixLQUFLbkcsR0FDSG9HLFFBQVE5RCxFQUFNQyxHQUNsQyxHQUFlLE9BQVhtTixFQUNBLE9BQU9BLEdBSW5CLE9BQU8sTUFHSixZQUFBRCxTQUFQLFNBQWdCRCxHQUNaLFFBQUlBLEVBQU10UyxFQUFJWCxLQUFLNFEsSUFBSXhRLEtBQUtvUyxRQUFRLEdBQUc3UixFQUFHUCxLQUFLb1MsUUFBUSxHQUFHN1IsUUFDdERzUyxFQUFNclMsRUFBSVosS0FBSzRRLElBQUl4USxLQUFLb1MsUUFBUSxHQUFHNVIsRUFBR1IsS0FBS29TLFFBQVEsR0FBRzVSLFFBQ3REcVMsRUFBTXhKLEVBQUl6SixLQUFLNFEsSUFBSXhRLEtBQUtvUyxRQUFRLEdBQUcvSSxFQUFHckosS0FBS29TLFFBQVEsR0FBRy9JLFFBQ3REd0osRUFBTXRTLEVBQUlYLEtBQUsyRyxJQUFJdkcsS0FBS29TLFFBQVEsR0FBRzdSLEVBQUdQLEtBQUtvUyxRQUFRLEdBQUc3UixRQUN0RHNTLEVBQU1yUyxFQUFJWixLQUFLMkcsSUFBSXZHLEtBQUtvUyxRQUFRLEdBQUc1UixFQUFHUixLQUFLb1MsUUFBUSxHQUFHNVIsT0FDdERxUyxFQUFNeEosRUFBSXpKLEtBQUsyRyxJQUFJdkcsS0FBS29TLFFBQVEsR0FBRy9JLEVBQUdySixLQUFLb1MsUUFBUSxHQUFHL0ksU0FJdkQsWUFBQUssV0FBUCxXQUFzQixPQUFPMUosS0FBSzBSLFNBQ3RDLEVBMUhBLEdBQWEsRUFBQWpKLFUsd0dDVmIsaUJBS0ksV0FBWXVLLEVBQVlDLEVBQVNDLFFBQXJCLElBQUFGLE1BQUEsUUFBWSxJQUFBQyxNQUFBLFFBQVMsSUFBQUMsTUFBQSxHQUM3QmxULEtBQUttVCxRQUFVSCxFQUNmaFQsS0FBS29ULFdBQWFILEVBQ2xCalQsS0FBS3FULFNBQVdILEVBK0V4QixPQXhFSSxZQUFBSSxlQUFBLFNBQWVDLEVBQWEzTixRQUFBLElBQUFBLE1BQUEsR0FDeEI1RixLQUFLbVQsUUFBVUksRUFBTTNOLEdBUXpCLFlBQUE0TixZQUFBLFNBQVlELEVBQWEzTixRQUFBLElBQUFBLE1BQUEsR0FDckI1RixLQUFLb1QsV0FBYUcsRUFBTTNOLEdBTzVCLFlBQUE2TixhQUFBLFNBQWFGLEVBQWEzTixRQUFBLElBQUFBLE1BQUEsR0FDdEI1RixLQUFLcVQsU0FBV0UsRUFBTTNOLEdBRTFCLHNCQUFJLHFCQUFNLEMsSUFBVixXQUF1QixPQUFPNUYsS0FBS21ULFMsZ0NBQ25DLHNCQUFJLGtCQUFHLEMsSUFBUCxXQUFvQixPQUFPblQsS0FBS29ULFksZ0NBQ2hDLHNCQUFJLHNCQUFPLEMsSUFBWCxXQUF3QixPQUFPcFQsS0FBS3FULFUsZ0NBTXBDLFlBQUFLLGtCQUFBLFNBQWtCSCxHQUNkLE9BQU9BLEVBQU12VCxLQUFLbVQsU0FPdEIsWUFBQVEsY0FBQSxTQUFjSixHQUNWLE9BQU9BLEVBQU12VCxLQUFLb1QsWUFPdEIsWUFBQVEsY0FBQSxTQUFjTCxHQUNWLE9BQU9BLEVBQU12VCxLQUFLcVQsVUFPdEIsWUFBQVEsZ0JBQUEsU0FBZ0JOLEdBQ1osT0FBT0EsRUFBTXZULEtBQUtxVCxVQU90QixZQUFBUyxrQkFBQSxTQUFrQlAsR0FDZCxPQUFPQSxFQUFNdlQsS0FBS2tULFFBQVVsVCxLQUFLZ1QsUUFPckMsWUFBQWUsb0JBQUEsU0FBb0JSLEdBQ2hCLE9BQU9BLEVBQU12VCxLQUFLbVQsUUFBVW5ULEtBQUtxVCxVQUd6QyxFQXZGQSxHQUFhLEVBQUFXLGUscUdDQWIsZ0JBdUJBLGFBU0ksV0FBWXBKLEVBQVVZLEVBQVlILEVBQWNZLFFBQXBDLElBQUFyQixNQUFBLFFBQVUsSUFBQVksTUFBQSxRQUFZLElBQUFILE1BQUEsUUFBYyxJQUFBWSxNQUFBLEdBQzVDak0sS0FBS2lVLFNBQVcsSUFBSSxFQUFBdFUsUUFDcEJLLEtBQUtnQixTQUFXLElBQUksRUFBQXJCLFFBQ3BCSyxLQUFLNEssS0FBT0EsRUFDWjVLLEtBQUt3TCxPQUFTQSxFQUNkeEwsS0FBS2tVLFNBQVc3SSxFQUNoQnJMLEtBQUttVSxJQUFNLEVBQ1huVSxLQUFLaU0sS0FBT0EsRUFDWmpNLEtBQUtvVSxPQUFRLEVBOEZyQixPQTVGSSxZQUFBdkksa0JBQUEsU0FBa0JsRyxFQUFlQyxHQUM3QixJQUFNb0YsRUFBTWhMLEtBQUtrQyxjQUNqQixRQUFJOEksRUFBSXpLLEVBQUtYLEtBQUs0USxJQUFJN0ssRUFBS3BGLEVBQUdxRixFQUFHckYsR0FBS1AsS0FBSzZKLGlCQUN2Q21CLEVBQUl4SyxFQUFLWixLQUFLNFEsSUFBSTdLLEVBQUtuRixFQUFHb0YsRUFBR3BGLEdBQUtSLEtBQUs2SixpQkFDdkNtQixFQUFJM0IsRUFBS3pKLEtBQUs0USxJQUFJN0ssRUFBSzBELEVBQUd6RCxFQUFHeUQsR0FBS3JKLEtBQUs2SixpQkFDdkNtQixFQUFJekssRUFBS1gsS0FBSzJHLElBQUlaLEVBQUtwRixFQUFHcUYsRUFBR3JGLEdBQUtQLEtBQUs2SixpQkFDdkNtQixFQUFJeEssRUFBS1osS0FBSzJHLElBQUlaLEVBQUtuRixFQUFHb0YsRUFBR3BGLEdBQUtSLEtBQUs2SixnQkFDdkNtQixFQUFJM0IsRUFBS3pKLEtBQUsyRyxJQUFJWixFQUFLMEQsRUFBR3pELEVBQUd5RCxHQUFLckosS0FBSzZKLGtCQUcvQyxZQUFBaUMsVUFBQSxTQUFVTixHQUVOLE9BREF4TCxLQUFLd0wsT0FBU0EsRUFDUHhMLEtBQUt3TCxRQUVoQixZQUFBTyxRQUFBLFdBQ0ksT0FBTy9MLEtBQUtvVSxPQUVoQixZQUFBeEssa0JBQUEsU0FBa0JqRSxFQUFlQyxFQUFhNEYsR0FHMUMsSUFBTTZJLEdBQUssSUFBSSxFQUFBMVUsU0FBVStHLFdBQVdkLEVBQUlELEdBQU10RSxZQUN4Q2lULEVBQUt0VSxLQUFLa0MsY0FBY2tFLElBQUlULEdBQzVCNE8sRUFBS3ZVLEtBQUtrQyxjQUFja0UsSUFBSVIsR0FDNUI0TyxFQUFXRixFQUFHMU4sSUFBSXlOLEdBQ2xCSSxFQUFXRixFQUFHM04sSUFBSXlOLEdBQ3hCLEdBQUlHLEVBQVdDLEVBQVcsRUFBRyxDQUd6QixJQUFJQyxFQUFtQjlVLEtBQUsyRyxJQUFJM0csS0FBS21ILElBQUl5TixHQUFXNVUsS0FBS21ILElBQUkwTixJQUN6REUsRUFBbUIvVSxLQUFLNFEsSUFBSTVRLEtBQUttSCxJQUFJeU4sR0FBVzVVLEtBQUttSCxJQUFJME4sSUFFN0QsSUFEQUMsRUFBbUJBLEVBQW1CMVUsS0FBS3dMLE9BQVNBLEdBQzdCbUosRUFBbUIsRUFDdEMsT0FBTyxFQUdmLE9BRGFMLEVBQUdsTyxJQUFJaU8sRUFBR3BRLGVBQWV1USxJQUM3QnhMLFVBQVloSixLQUFLNkosWUFBYzJCLEdBSTVDLFlBQUF2SyxLQUFBLFNBQUtzRSxHQUNEdkYsS0FBS2lVLFNBQVcxTyxFQUFFTyxjQUNsQjlGLEtBQUtnQixTQUFXdUUsRUFBRXJELGNBQ2xCbEMsS0FBS21VLElBQU01TyxFQUFFNkcsU0FDYnBNLEtBQUs0SyxLQUFPckYsRUFBRW1ILFVBQ2QxTSxLQUFLd0wsT0FBU2pHLEVBQUVzRSxZQUNoQjdKLEtBQUtrVSxTQUFXM08sRUFBRTJHLGNBQ2xCbE0sS0FBS2lNLEtBQU8xRyxFQUFFQyxXQUVsQixZQUFBQSxRQUFBLFdBQ0ksT0FBT3hGLEtBQUtpTSxNQUVoQixZQUFBRCxRQUFBLFNBQVFDLEdBRUosT0FEQWpNLEtBQUtpTSxLQUFPQSxFQUNMQSxHQUVYLFlBQUFwSixPQUFBLGFBRUEsWUFBQXVJLFlBQUEsU0FBWUMsR0FFUixPQURBckwsS0FBS2tVLFNBQVc3SSxFQUNUckwsS0FBS2tVLFVBRWhCLFlBQUE3SCxPQUFBLFNBQU84SCxHQUVILE9BREFuVSxLQUFLbVUsSUFBTUEsRUFDSm5VLEtBQUttVSxLQUVoQixZQUFBakksWUFBQSxXQUNJLE9BQU9sTSxLQUFLa1UsVUFFaEIsWUFBQTlILE9BQUEsV0FDSSxPQUFPcE0sS0FBS21VLEtBRWhCLFlBQUF6SCxRQUFBLFdBQ0ksT0FBTzFNLEtBQUs0SyxNQUVoQixZQUFBNEIsUUFBQSxTQUFRQyxHQUNKek0sS0FBSzRLLEtBQU82QixHQUVoQixZQUFBM0csWUFBQSxXQUF5QixPQUFPOUYsS0FBS2lVLFNBQVM5UixTQUM5QyxZQUFBRCxZQUFBLFdBQXlCLE9BQU9sQyxLQUFLZ0IsU0FBU21CLFNBQzlDLFlBQUFnSixZQUFBLFNBQVk1SyxFQUFXQyxFQUFXNkksR0FDOUIsT0FBT3JKLEtBQUtnQixTQUFTa0csSUFBSTNHLEVBQUdDLEVBQUc2SSxJQUVuQyxZQUFBNkIsWUFBQSxTQUFZM0ssRUFBV0MsRUFBVzZJLEdBQzlCLE9BQU9ySixLQUFLaVUsU0FBUy9NLElBQUkzRyxFQUFHQyxFQUFHNkksSUFFbkMsWUFBQVEsVUFBQSxXQUNJLE9BQU83SixLQUFLd0wsUUFFaEIsWUFBQWpDLFFBQUEsV0FDSXZKLEtBQUtvVSxPQUFRLEdBR3JCLEVBL0dBLEdBQWEsRUFBQXJKLFksbWRDdkJiLGdCQUtBLFlBQ0EsWUFHQSxZQU1BLGFBS0ksV0FBWTFMLEVBQWN1TCxFQUFjZ0ssRUFBb0JDLEdBQ3hEN1UsS0FBS3lFLFNBQVcsSUFBSSxFQUFBd0ksZ0JBQWdCNU4sRUFBTyxJQUFLLFVBQVcsSUFBTXVMLEdBRWpFLElBQU1rSyxFQUFrQixJQUFJLEVBQUEzUSxnQkFDNUIyUSxFQUFnQnJILGdCQUFnQm9ILEVBQU1mLGtCQUFrQmdCLEVBQWdCdEgsZUFFeEV4TixLQUFLMEIsVUFBWW9ULEVBQ2pCOVUsS0FBSzRVLEdBQUtBLEVBeUVsQixPQXZFSSxZQUFBL0ksa0JBQUEsU0FBa0JsRyxFQUFlQyxHQUM3QixPQUFPNUYsS0FBS3lFLFNBQVNvSCxrQkFBa0JsRyxFQUFNQyxJQUVqRCxZQUFBa0csVUFBQSxTQUFVM0MsR0FDTixPQUFPbkosS0FBS3lFLFNBQVNxSCxVQUFVM0MsSUFFbkMsWUFBQVMsa0JBQUEsU0FBa0JqRSxFQUFlQyxFQUFhNEYsR0FDMUMsT0FBT3hMLEtBQUt5RSxTQUFTbUYsa0JBQWtCakUsRUFBTUMsRUFBSTRGLElBRXJELFlBQUFPLFFBQUEsV0FDSSxPQUFPL0wsS0FBS3lFLFNBQVNzSCxXQUV6QixZQUFBOUssS0FBQSxTQUFLc0UsR0FDRHZGLEtBQUt5RSxTQUFTeEQsS0FBS3NFLElBRXZCLFlBQUF5RyxRQUFBLFNBQVFDLEdBQ0osT0FBT2pNLEtBQUt5RSxTQUFTdUgsUUFBUUMsSUFFakMsWUFBQXpHLFFBQUEsV0FDSSxPQUFPeEYsS0FBS3lFLFNBQVNlLFdBS3pCLFlBQUEzQyxPQUFBLGFBU0EsWUFBQTZKLFFBQUEsV0FDSSxPQUFPMU0sS0FBS3lFLFNBQVNpSSxXQUV6QixZQUFBRixRQUFBLFNBQVE1QixHQUNKNUssS0FBS3lFLFNBQVMrSCxRQUFRNUIsSUFFMUIsWUFBQTlFLFlBQUEsV0FDSSxPQUFPOUYsS0FBS3lFLFNBQVNxQixlQUV6QixZQUFBNUQsWUFBQSxXQUNJLE9BQU9sQyxLQUFLeUUsU0FBU3ZDLGVBRXpCLFlBQUFnSixZQUFBLFNBQVkzSyxFQUFXQyxFQUFXNkksR0FDOUIsT0FBT3JKLEtBQUt5RSxTQUFTeUcsWUFBWTNLLEVBQUdDLEVBQUc2SSxJQUUzQyxZQUFBUSxVQUFBLFdBQ0ksT0FBTzdKLEtBQUt5RSxTQUFTb0YsYUFFekIsWUFBQXFDLFlBQUEsV0FDSSxPQUFPbE0sS0FBS3lFLFNBQVN5SCxlQUV6QixZQUFBZCxZQUFBLFNBQVllLEdBQ1IsT0FBT25NLEtBQUt5RSxTQUFTMkcsWUFBWWUsSUFFckMsWUFBQUMsT0FBQSxXQUNJLE9BQU9wTSxLQUFLeUUsU0FBUzJILFVBRXpCLFlBQUFDLE9BQUEsU0FBT2xDLEdBQ0gsT0FBT25LLEtBQUt5RSxTQUFTNEgsT0FBT2xDLElBRWhDLFlBQUFaLFFBQUEsV0FDSXZKLEtBQUt5RSxTQUFTOEUsV0FFbEIsWUFBQTRCLFlBQUEsU0FBWTVLLEVBQVdDLEVBQVc2SSxHQUU5QixPQURBckosS0FBSzBCLFVBQVV5SixZQUFZLElBQUksRUFBQXhMLFFBQVFZLEVBQUdDLEVBQUc2SSxJQUN0Q3JKLEtBQUt5RSxTQUFTMEcsWUFBWTVLLEVBQUdDLEVBQUc2SSxJQTlFM0IsRUFBQTNELE9BQVMsS0FpRjdCLEVBckZBLEdBQWEsRUFBQUQsZ0JBdUZiLGtCQUtJLFdBQVlwRyxFQUFjdVYsRUFBb0JDLEVBQW9CblQsR0FBbEUsTUFDSSxjQUFPLEssT0FDUCxFQUFLckMsTUFBUUEsRUFDYixFQUFLdVYsR0FBS0EsRUFDVixFQUFLQyxNQUFRQSxFQUNiLEVBQUtuVCxVQUFZQSxFLEVBc0J6QixPQWhDNEMsT0FZeEMsWUFBQXFULGFBQUEsU0FBYXJULEdBQ1QxQixLQUFLMEIsVUFBWUEsR0FFckIsWUFBQXFDLFNBQUEsV0FDSSxJQUFJVSxFQUVBQSxFQURBekUsS0FBSzBCLFVBQ00xQixLQUFLMEIsVUFBVXFDLFdBRWYsWUFBTUEsU0FBUSxXQUc3QixJQUFNaVIsRUFBaUIsSUFBSXZQLEVBQWN6RixLQUFLWCxNQUFPb0YsRUFBU2lJLFVBQVcxTSxLQUFLNFUsR0FBSTVVLEtBQUs2VSxPQUNqRjdKLEVBQU12RyxFQUFTdkMsY0FBYzhFLElBQUloSCxLQUFLZ0IsVUFNNUMsT0FMQWdVLEVBQWU5SixZQUFZekcsRUFBU3FCLGNBQWN2RixFQUFHa0UsRUFBU3FCLGNBQWN0RixFQUFHaUUsRUFBU3FCLGNBQWN1RCxHQUN0RzJMLEVBQWU3SixZQUFZSCxFQUFJekssRUFBR3lLLEVBQUl4SyxFQUFHd0ssRUFBSTNCLEdBQzdDMkwsRUFBZTVKLFlBQVkzRyxFQUFTeUgsZUFDcEM4SSxFQUFlaEosUUFBUXZILEVBQVNlLFdBQ2hDd1AsRUFBZWxKLFVBQVUsR0FDbEJrSixHQUVmLEVBaENBLENBQTRDLEVBQUExSixtQkFBL0IsRUFBQTJKLDBCLDRHQ3RHYixnQkFDQSxZQUNBLFlBQ0EsWUFDQSxZQUdBLFlBQ0EsWUFFQSxZQUdBLFlBQ0EsWUFFQSxZQUNBLFlBUUEsYUFxQkksV0FBWTVWLEdBcEJILEtBQUE2Vix1QkFBeUIsVUFDekIsS0FBQUMsdUJBQXlCLFVBQ3pCLEtBQUFDLGdCQUFrQixLQUNsQixLQUFBQyxXQUFhLElBT3RCLEtBQUFDLFVBQVksRUFNWixLQUFBQyxNQUFRLEVBQ1IsS0FBQUMsV0FBYSxFQUlUeFYsS0FBSzRVLEdBQUssSUFBSSxFQUFBaEYsd0JBQ2Q1UCxLQUFLeVYsV0FBYSxJQUFJLEVBQUF6TixZQUFZLGtCQUFtQixLQUNyRGhJLEtBQUswVixlQUFpQixJQUFJLEVBQUExTixZQUFZLFlBQWEsS0F1RzNELE9BckdJLFlBQUEyTixpQkFBQSxTQUFpQnRXLEdBQ2JXLEtBQUs2VSxNQUFRLElBQUksRUFBQWIsWUFBWSxPQUFTLFNBQVUsR0FDaERsTSxRQUFRQyxJQUFJL0gsS0FBSzZVLE1BQU1mLGtCQUFrQjlULEtBQUtrVix5QkFDOUNsVixLQUFLNFYsVUFBWSxJQUFJLEVBQUEzSSxnQkFBZ0I1TixFQUFPLFlBQWEsVUFBWSxFQUFHVyxLQUFLb1YsaUJBSTdFLElBQU1TLEVBQVUsSUFBSSxFQUFBbEgsYUFBYSxFQUFBQSxhQUFhTCxVQUFVdE8sS0FBSzZVLE1BQU01QixJQUFLalQsS0FBSzZVLE1BQU03QixPQUFRaFQsS0FBSzZVLE1BQU0zQixVQUN0R2xULEtBQUs0VSxHQUFHa0IsU0FBU0QsR0FDakI3VixLQUFLNFUsR0FBR21CLFlBQVkvVixLQUFLNFYsV0FFekI1VixLQUFLZ1csNEJBQTRCM1csR0FDakNXLEtBQUs0VSxHQUFHNUYsZ0JBQWdCaFAsS0FBS2lXLHlCQUU3QmpXLEtBQUs0VSxHQUFHc0IsVUFBVSxJQUFJLEVBQUF2VyxTQUFTLElBQUssSUFBSyxJQUFLLElBQUksRUFBQUEsUUFBUSxHQUFJLEdBQUksTUFDbEVLLEtBQUtpSSxVQUFZLElBQUksRUFBQXJFLFVBQVV2RSxFQUFPLElBQUksRUFBQU0sUUFBUSxFQUFHLEVBQUcsS0FBTSxJQUFJLEVBQUFBLFFBQVEsRUFBRyxHQUFJLEdBQUlDLEtBQUtDLEdBQUssRUFBR0csS0FBS3FWLFdBQVlyVixLQUFLNlUsTUFBTWYsa0JBQWtCLFlBRWhKOVQsS0FBS3VJLFVBQVksSUFBSTBCLE1BQ3JCakssS0FBS21XLGdCQUNMblcsS0FBS3NDLFdBQWEsSUFBSSxFQUFBOFQseUJBQXlCcFcsS0FBSzRVLEdBQUk1VSxLQUFLaUksVUFBV2pJLEtBQUt1SSxVQUFXLEdBQ3hGdkksS0FBS2lJLFVBQVU3RixjQUFjcEMsS0FBS3NDLFlBQ2xDdEMsS0FBS2lJLFVBQVVsRixjQUVmMUQsRUFBTTJILElBQUloSCxLQUFLaUksVUFBVXJGLGFBSTdCLFlBQUF5VCxXQUFBLFdBQ0ksSUFBSTVSLEVBQVcsSUFBSSxFQUFBc0csU0FDbkJ0RyxFQUFTMEcsYUFBYSxJQUFLLElBQUssSUFDaENuTCxLQUFLdUksVUFBVW1JLEtBQUtqTSxJQUNwQkEsRUFBVyxJQUFJLEVBQUFzRyxVQUNOSSxZQUFZLEdBQUksR0FBSSxJQUM3Qm5MLEtBQUt1SSxVQUFVbUksS0FBS2pNLElBQ3BCQSxFQUFXLElBQUksRUFBQXNHLFVBQ05JLGFBQWEsSUFBSyxHQUFJLElBQy9CbkwsS0FBS3VJLFVBQVVtSSxLQUFLak0sSUFDcEJBLEVBQVcsSUFBSSxFQUFBc0csVUFDTkksYUFBYSxHQUFJLEdBQUksSUFDOUJuTCxLQUFLdUksVUFBVW1JLEtBQUtqTSxHQUNMLElBQUksRUFBQWdFLE9BQU96SSxLQUFLdUksVUFBVyxJQUFJLEVBQUE1SSxTQUFTLElBQUssSUFBSyxJQUFLLElBQUksRUFBQUEsUUFBUSxHQUFJLEdBQUksS0FDdkVpVCxLQUFLbk8sRUFBU3ZDLGdCQUdyQyxZQUFBK1Qsc0JBQUEsU0FBc0JyTCxRQUFBLElBQUFBLE1BQU81SyxLQUFLb1YsaUJBQzlCLElBQU0xVixFQUFJTSxLQUFLNlUsTUFBTWYsa0JBQWtCLFdBRWpDdEksRUFBUyxFQURDLElBQUksRUFBQW1ELGFBQWEsRUFBQUEsYUFBYUwsVUFBVXRPLEtBQUs2VSxNQUFNNUIsSUFBS2pULEtBQUs2VSxNQUFNN0IsT0FBUWhULEtBQUs2VSxNQUFNM0IsVUFDM0V0RixFQUFJNU4sS0FBS29WLGlCQUFtQjFWLEVBQUlBLEdBRTNELE9BREFvSSxRQUFRQyxJQUFJLDhCQUErQnlELEdBQ3BDQSxHQUdYLFlBQUF3Syw0QkFBQSxTQUE0QjNXLEdBQ3hCLElBQU1tTSxFQUFTeEwsS0FBS2lXLHdCQUVkdlUsRUFBWSxJQUFJLEVBQUE2Siw0QkFESCxJQUM0Q0MsRUFENUMsSUFDaUVBLEVBQVF4TCxLQUFLNFYsVUFBVTFULGNBQ3ZHLElBQUksRUFBQXZDLFFBQVEsRUFBRyxFQUFHLEdBQUksSUFBSSxFQUFBQSxRQUFRLEVBQUcsRUFBRyxHQUFJLElBQUksRUFBQUEsUUFBUSxHQUFJLEVBQUcsR0FBSUssS0FBSzZVLE1BQU1mLGtCQUFrQjlULEtBQUtrVix5QkFDekd4VCxFQUFVeUwsY0FBYyxLQUFRLE1BQVMsR0FDekN6TCxFQUFVaUosU0FBUyxFQUFJYSxHQUV2QixJQUFNOEssRUFBb0IsSUFBSSxFQUFBckIsdUJBQXVCNVYsRUFBT1csS0FBSzRVLEdBQUk1VSxLQUFLNlUsTUFBT25ULEdBQ2pGMUIsS0FBS3NXLGtCQUFvQkEsRUFDekJ0VyxLQUFLc1csa0JBQWtCbkwsWUFBWSxJQUFJLEVBQUF4TCxRQUFRLEVBQUcsRUFBRyxJQUNyREssS0FBSzRWLFVBQVUvSSxlQUFlLFlBRWxDLFlBQUFoSyxPQUFBLFNBQU9xRyxHQUVpQmxKLEtBQUtzVixVQUV6QixJQUhBLElBR1NqUyxFQUFJLEVBQUdBLEVBSEssSUFHYUEsSUFFOUJyRCxLQUFLNFUsR0FBRy9SLE9BQU9xRyxHQUdmbEosS0FBS3NDLFdBQVdpVSxZQUFZck4sR0FDNUJsSixLQUFLaUksVUFBVXBGLFNBRWY3QyxLQUFLc1YsV0FBYXBNLEdBUTFCLFlBQUFpTixjQUFBLFdBR0ksSUFGQSxJQUFJWixFQUFRLEVBRU5BLEVBRGlCLEdBQ08sQ0FDMUIsSUFBTTlRLEVBQVd6RSxLQUFLc1csa0JBQWtCdlMsV0FDeEMvRCxLQUFLNFUsR0FBR21CLFlBQVl0UixHQUNwQnpFLEtBQUt1SSxVQUFVbUksS0FBS2pNLEdBQ3BCOFEsTUFHUixZQUFBaUIsY0FBQSxTQUFjL1IsR0FDVixJQUFNaUcsRUFBTTFLLEtBQUs2VSxNQUFNZixrQkFBa0JyUCxFQUFTcUIsY0FBY2tELFVBQzFEaEYsRUFBTVMsRUFBU3FCLGNBQWN6RSxZQUFZNEMsZUFBZXlHLEdBQzlENUMsUUFBUUMsSUFBSS9ELEdBQ1pTLEVBQVN5RyxZQUFZbEgsRUFBSXpELEVBQUd5RCxFQUFJeEQsRUFBR3dELEVBQUlxRixJQUUvQyxFQS9IQSxHQUFhLEVBQUFvTixtQiw2YkN6QmIsZ0JBQ0EsWUFDQSxZQUVBLGNBS0ksYSxPQUNJLGNBQU8sS0FhZixPQW5Cc0MsT0FRbEMsWUFBQUMsYUFBQSxXQUNJMVcsS0FBSzJXLE9BQVMsSUFBSSxFQUFBRixnQkFBZ0J6VyxLQUFLWCxPQUN2Q1csS0FBSzJXLE9BQU9oQixpQkFBaUIzVixLQUFLWCxPQUNsQ1csS0FBSzRXLFNBQVcsSUFBSSxFQUFBQyxrQkFBa0I3VyxLQUFLOFcsT0FBUTlXLEtBQUsrVyxTQUFTQyxhQUdyRSxZQUFBQyxZQUFBLFdBQ0lqWCxLQUFLa0osVUFBWSxJQUNqQmxKLEtBQUsyVyxPQUFPOVQsT0FBTzdDLEtBQUtrSixXQUN4QmxKLEtBQUs0VyxTQUFTL1QsVUFFdEIsRUFuQkEsQ0FBc0MsRUFBQXFVLGFBQXpCLEVBQUF0UyxvQixnSUNEYixnQkFRQSxhQUVJLGFBQ0k1RSxLQUFLbVAsV0FBYSxJQUFJbEYsTUE0RTlCLE9BMUVJLFlBQUFqQixPQUFBLFdBQ0ksT0FBT2hKLEtBQUttUCxXQUFXbkcsUUFFM0IsWUFBQStNLFlBQUEsV0FDSS9WLEtBQUttUCxXQUFXdUIsS0FBSyxJQUFJekcsTUFBYyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsS0FFMUQsWUFBQWpELElBQUEsU0FBSTNELEVBQVc4VCxHQUVYLElBQUssSUFBSTdULEVBQUksRUFBR0EsRUFBSTZULEVBQU1uTyxPQUFRMUYsSUFDOUJ0RCxLQUFLbVAsV0FBVzlMLEdBQUdDLElBQU02VCxFQUFNN1QsSUFFdkMsWUFBQTBKLE9BQUEsU0FBTzNKLEdBQ0hyRCxLQUFLbVAsV0FBV2lJLE9BQU8vVCxFQUFHLElBRTlCLFlBQUFnVSxNQUFBLFdBQ0ksSUFBSyxJQUFJaFUsRUFBSSxFQUFHQSxFQUFJckQsS0FBS21QLFdBQVduRyxPQUFRM0YsSUFDeEMsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUl0RCxLQUFLbVAsV0FBVzlMLEdBQUcyRixPQUFRMUYsSUFDM0N0RCxLQUFLbVAsV0FBVzlMLEdBQUdDLEdBQUssR0FHcEMsWUFBQTRELElBQUEsU0FBSTdELEVBQVc4VCxHQUNYLElBQUssSUFBSTdULEVBQUksRUFBR0EsRUFBSTZULEVBQU1uTyxPQUFRMUYsSUFDOUJ0RCxLQUFLbVAsV0FBVzlMLEdBQUdDLEdBQUs2VCxFQUFNN1QsSUFHdEMsWUFBQXNJLE1BQUEsU0FBTTBMLEdBQ0YsSUFBSyxJQUFJalUsRUFBSSxFQUFHQSxFQUFJckQsS0FBS21QLFdBQVduRyxPQUFRM0YsSUFDeEMsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUl0RCxLQUFLbVAsV0FBVzlMLEdBQUcyRixPQUFRMUYsSUFDM0N0RCxLQUFLbVAsV0FBVzlMLEdBQUdDLElBQU1nVSxHQUdyQyxZQUFBOUgsSUFBQSxTQUFJbk0sR0FDQSxPQUFPckQsS0FBS21QLFdBQVc5TCxJQUUzQixZQUFBd0UsTUFBQSxXQUNJN0gsS0FBS21QLFdBQVdsTSxTQUFRLFNBQUNzQyxFQUFHbEMsR0FDeEJ5RSxRQUFRQyxJQUFJLFlBQWMxRSxHQUMxQnlFLFFBQVFDLElBQUksWUFBYXhDLEVBQUUsR0FBSUEsRUFBRSxHQUFJQSxFQUFFLElBQ3ZDdUMsUUFBUUMsSUFBSSxnQkFBaUJ4QyxFQUFFLEdBQUlBLEVBQUUsR0FBSUEsRUFBRSxNQUU1Q3ZGLE9BRVAsWUFBQXVYLFdBQUEsV0FDSXpQLFFBQVFDLElBQUkvSCxLQUFLbVAsV0FBV25HLFNBRWhDLFlBQUEyRCxRQUFBLFdBQ0kzTSxLQUFLbVAsV0FBV2xNLFNBQVEsU0FBQ3NDLEdBQ2pCLE1BRVJ2RixLQUFLbVAsV0FBYSxJQUV0QixZQUFBaE4sTUFBQSxTQUFNcVYsR0FDRixHQUFJQSxFQUNBLE9BQU94WCxLQUFLeVgsV0FBV0QsR0FFM0IsSUFBTXZXLEVBQU8sSUFBSXlXLEVBS2pCLE9BSkExWCxLQUFLbVAsV0FBV2xNLFNBQVEsU0FBQ3NDLEVBQUdsQyxHQUN4QnBDLEVBQUs4VSxjQUNMOVUsRUFBSytGLElBQUkzRCxFQUFHa0MsTUFFVHRFLEdBUVgsWUFBQXdXLFdBQUEsU0FBV0QsR0FJUCxPQUhBeFgsS0FBS21QLFdBQVdsTSxTQUFRLFNBQUNzQyxFQUFHbEMsR0FDeEJtVSxFQUFNeFEsSUFBSTNELEVBQUdrQyxNQUVWaVMsR0FFZixFQS9FQSxHQUFhLEVBQUFFLHFCQXNGYixpQkFRSSxhQUNJMVgsS0FBSzhFLFVBQVksSUFBSW1GLE1BQ3JCakssS0FBS21QLFdBQWEsSUFBSXVJLEVBQ3RCMVgsS0FBS29QLE9BQVMsSUFBSW5GLE1BQ2xCakssS0FBSzJYLFNBQVcsSUFBSSxFQUFBNUksYUFDcEIvTyxLQUFLNFgsZUErTmIsT0E3TkksWUFBQUEsYUFBQSxXQUNJNVgsS0FBSzZYLGlCQUFtQixJQUFJNU4sTUFBMEIsR0FDdEQsSUFBSyxJQUFJK0csRUFBSSxFQUFHQSxFQUFJLEVBQUdBLElBQ25CaFIsS0FBSzZYLGlCQUFpQjdHLEdBQUssSUFBSTBHLEdBR3ZDLFlBQUEzQixZQUFBLFNBQVl0UixHQUFaLFdBQ0l6RSxLQUFLOEUsVUFBVTRMLEtBQUtqTSxHQUNwQnpFLEtBQUttUCxXQUFXNEcsY0FDaEIvVixLQUFLNlgsaUJBQWlCNVUsU0FBUSxTQUFBdkQsR0FDdEIsRUFBS3lQLFdBQVduRyxTQUFXdEosRUFBRXNKLFVBQVV0SixFQUFFcVcsa0JBR3JELFlBQUFyRyxlQUFBLFNBQWVyTSxHQUNYckQsS0FBSzhFLFVBQVVzUyxPQUFPL1QsRUFBRyxHQUN6QnJELEtBQUttUCxXQUFXbkMsT0FBTzNKLElBRzNCLFlBQUF5VSxXQUFBLFdBQ0loUSxRQUFRQyxJQUFJLHdDQUF5Qy9ILEtBQUs4RSxVQUFVa0UsT0FBUWhKLEtBQUttUCxXQUFXbkcsV0FHaEcsWUFBQThNLFNBQUEsU0FBU3pHLEdBQ0xyUCxLQUFLb1AsT0FBT3NCLEtBQUtyQixJQU9yQixZQUFBeE0sT0FBQSxTQUFPcUcsR0FHSGxKLEtBQUsrWCxlQUFlN08sR0FFcEJsSixLQUFLeVAsYUFDTHpQLEtBQUtnWSxhQUNMaFksS0FBS2lZLG9CQUFvQi9PLEdBQ3pCbEosS0FBS2tZLGVBRVQsWUFBQXpJLFdBQUEsYUFJQSxZQUFBdUksV0FBQSxXQUVJLElBREEsSUFBTXpILEVBQU12USxLQUFLOEUsVUFBVWtFLE9BQ2xCM0YsRUFBSSxFQUFHQSxFQUFJa04sRUFBS2xOLElBQUssQ0FDMUIsSUFBSW1ELEVBQVErSixFQUFNbE4sRUFBSSxFQUNsQmtDLEVBQUl2RixLQUFLOEUsVUFBVTBCLEdBQ3ZCakIsRUFBRTFDLFNBQ0cwQyxFQUFFd0csV0FDSC9MLEtBQUswUCxlQUFlbEosS0FJaEMsWUFBQTBQLFVBQUEsU0FBVTNQLEVBQWNpSyxHQUNwQnhRLEtBQUttWSxVQUFZNVIsRUFDakJ2RyxLQUFLb1ksVUFBWTVILEdBUXJCLFlBQUF5SCxvQkFBQSxTQUFvQi9PLEdBRWhCLElBREEsSUFDUzdGLEVBREdyRCxLQUFLOEUsVUFBVWtFLE9BQ1IsRUFBRzNGLEdBQUssRUFBR0EsSUFBSyxDQUMvQixJQUFJb0IsRUFBV3pFLEtBQUs4RSxVQUFVekIsR0FDOUJvQixFQUFTNEgsT0FBTzVILEVBQVMySCxTQUFXbEQsR0FDaEN6RSxFQUFTeUgsY0FBZ0IsR0FBS3pILEVBQVMySCxTQUFXM0gsRUFBU3lILGdCQUMzRHpILEVBQVM4RSxVQUNUdkosS0FBSzBQLGVBQWVyTSxNQUtoQyxZQUFBNlUsWUFBQSxXQUNJLEdBQUlsWSxLQUFLbVksV0FBYW5ZLEtBQUtvWSxVQUV2QixJQURBLElBQ1MvVSxFQURHckQsS0FBSzhFLFVBQVVrRSxPQUNSLEVBQUczRixHQUFLLEVBQUdBLElBQUssQ0FDL0IsSUFBSW9CLEVBQVd6RSxLQUFLOEUsVUFBVXpCLElBQzFCb0IsRUFBU3ZDLGNBQWMzQixFQUFJUCxLQUFLb1ksVUFBVTdYLEdBQUtrRSxFQUFTdkMsY0FBYzFCLEVBQUlSLEtBQUtvWSxVQUFVNVgsR0FDdEZpRSxFQUFTdkMsY0FBYzNCLEVBQUlQLEtBQUttWSxVQUFVNVgsR0FBS2tFLEVBQVN2QyxjQUFjMUIsRUFBSVIsS0FBS21ZLFVBQVUzWCxHQUN6RmlFLEVBQVN2QyxjQUFjbUgsRUFBSXJKLEtBQUttWSxVQUFVOU8sR0FBSzVFLEVBQVN2QyxjQUFjbUgsRUFBSXJKLEtBQUtvWSxVQUFVL08sS0FDNUY1RSxFQUFTOEUsVUFDVHZKLEtBQUswUCxlQUFlck0sTUFPcEMsWUFBQWdWLFdBQUEsV0FDSSxJQUFNQyxFQUFRLElBQUlyTyxNQU1sQixPQUxBakssS0FBSzhFLFVBQVU3QixTQUFRLFNBQUN3QixFQUFVcEIsR0FDOUIsSUFBTTJILEVBQU12RyxFQUFTdkMsY0FDZm9LLEVBQUk3SCxFQUFTcUIsY0FDbkJ3UyxFQUFNNUgsS0FBSyxJQUFJekcsTUFBY2UsRUFBSXpLLEVBQUd5SyxFQUFJeEssRUFBR3dLLEVBQUkzQixFQUFHaUQsRUFBRS9MLEVBQUcrTCxFQUFFOUwsRUFBRzhMLEVBQUVqRCxNQUMvRHJKLE1BQ0lzWSxHQUVYLFlBQUFDLGFBQUEsU0FBYUQsR0FDVHRZLEtBQUs4RSxVQUFVN0IsU0FBUSxTQUFDd0IsRUFBVXBCLEdBQzlCb0IsRUFBUzBHLFlBQVltTixFQUFNalYsR0FBRyxHQUFJaVYsRUFBTWpWLEdBQUcsR0FBSWlWLEVBQU1qVixHQUFHLElBQ3hEb0IsRUFBU3lHLFlBQVlvTixFQUFNalYsR0FBRyxHQUFJaVYsRUFBTWpWLEdBQUcsR0FBSWlWLEVBQU1qVixHQUFHLE1BQ3pEckQsT0FFUCxZQUFBK1gsZUFBQSxTQUFlN08sR0FDWCxJQUFNb1AsRUFBUXRZLEtBQUtxWSxhQUNuQnJZLEtBQUttUCxXQUFhblAsS0FBS2tQLG9CQUFvQmxQLEtBQUttUCxZQUNoRG5QLEtBQUttUCxXQUFXdkQsTUFBTTFDLEVBQVksR0FHbENsSixLQUFLc1AscUJBR0x0UCxLQUFLbVAsV0FBYW5QLEtBQUtrUCxvQkFBb0JsUCxLQUFLbVAsWUFDaERuUCxLQUFLbVAsV0FBV3ZELE1BQU0xQyxHQUN0QmxKLEtBQUt1WSxhQUFhRCxHQUNsQnRZLEtBQUtzUCxzQkFFVCxZQUFBa0osVUFBQSxTQUFVdFAsR0FDTixJQUFNdVAsRUFBZ0J6WSxLQUFLbVAsV0FFckJtSixFQUFRdFksS0FBS3FZLGFBQ25CclksS0FBSzZYLGlCQUFpQixHQUFLN1gsS0FBS2tQLG9CQUFvQmxQLEtBQUs2WCxpQkFBaUIsSUFDMUU3WCxLQUFLNlgsaUJBQWlCLEdBQUdqTSxNQUFNMUMsRUFBWSxHQUMzQyxJQUFNd1AsRUFBSzFZLEtBQUs2WCxpQkFBaUIsR0FDakM3WCxLQUFLbVAsV0FBYXVKLEVBQ2xCMVksS0FBS3NQLHFCQUNMdFAsS0FBSzZYLGlCQUFpQixHQUFLN1gsS0FBS2tQLG9CQUFvQmxQLEtBQUs2WCxpQkFBaUIsSUFDMUU3WCxLQUFLNlgsaUJBQWlCLEdBQUdqTSxNQUFNMUMsRUFBWSxHQUMzQyxJQUFNeVAsRUFBSzNZLEtBQUs2WCxpQkFBaUIsR0FDakM3WCxLQUFLbVAsV0FBYXdKLEVBQ2xCM1ksS0FBS3VZLGFBQWFELEdBQ2xCdFksS0FBS3NQLHFCQUNMdFAsS0FBSzZYLGlCQUFpQixHQUFLN1gsS0FBS2tQLG9CQUFvQmxQLEtBQUs2WCxpQkFBaUIsSUFDMUU3WCxLQUFLNlgsaUJBQWlCLEdBQUdqTSxNQUFNMUMsR0FDL0IsSUFBTTBQLEVBQUs1WSxLQUFLNlgsaUJBQWlCLEdBQ2pDN1gsS0FBS21QLFdBQWF5SixFQUNsQjVZLEtBQUt1WSxhQUFhRCxHQUNsQnRZLEtBQUtzUCxxQkFDTHRQLEtBQUs2WCxpQkFBaUIsR0FBSzdYLEtBQUtrUCxvQkFBb0JsUCxLQUFLNlgsaUJBQWlCLElBQzFFN1gsS0FBSzZYLGlCQUFpQixHQUFHak0sTUFBTTFDLEdBQy9CLElBQU0yUCxFQUFLN1ksS0FBSzZYLGlCQUFpQixHQUdqQzdYLEtBQUttUCxXQUFhMEosRUFDbEI3WSxLQUFLdVksYUFBYUQsR0FDbEJJLEVBQUc5TSxNQUFNLEVBQUksR0FDYjVMLEtBQUttUCxXQUFhdUosRUFDbEIxWSxLQUFLc1AscUJBQ0xxSixFQUFHL00sTUFBTSxFQUFJLEdBQ2I1TCxLQUFLbVAsV0FBYXdKLEVBQ2xCM1ksS0FBS3NQLHFCQUNMc0osRUFBR2hOLE1BQU0sRUFBSSxHQUNiNUwsS0FBS21QLFdBQWF5SixFQUNsQjVZLEtBQUtzUCxxQkFDTHVKLEVBQUdqTixNQUFNLEVBQUksR0FDYjVMLEtBQUttUCxXQUFhMEosRUFDbEI3WSxLQUFLc1AscUJBQ0x0UCxLQUFLbVAsV0FBYXNKLEdBS3RCLFlBQUF2SixvQkFBQSxTQUFvQkMsR0FBcEIsV0FlSSxPQWJBQSxFQUFXa0ksUUFDWHJYLEtBQUs4RSxVQUFVN0IsU0FBUSxTQUFDc0MsRUFBR2xDLEdBQ3ZCOEwsRUFBV25JLElBQUkzRCxFQUFHLENBQUNrQyxFQUFFTyxjQUFjdkYsRUFBR2dGLEVBQUVPLGNBQWN0RixFQUFHK0UsRUFBRU8sY0FBY3VELEVBQUcsRUFBRyxFQUFHLE9BRXRGckosS0FBS29QLE9BQU9uTSxTQUFRLFNBQUFvTSxHQUNoQixJQUFLLElBQUloTSxFQUFJLEVBQUdBLEVBQUksRUFBS3lCLFVBQVVrRSxPQUFRM0YsSUFDdkMsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUlELEVBQUdDLElBQUssQ0FDeEIsSUFBSThMLEVBQVNDLEVBQU10QixNQUFNLEVBQUtqSixVQUFVekIsR0FBSSxFQUFLeUIsVUFBVXhCLElBQzNENkwsRUFBV25JLElBQUkzRCxFQUFHLENBQUMsRUFBRyxFQUFHLEVBQUcrTCxFQUFPLEdBQUc3TyxFQUFHNk8sRUFBTyxHQUFHNU8sRUFBRzRPLEVBQU8sR0FBRy9GLElBQ2hFOEYsRUFBV25JLElBQUkxRCxFQUFHLENBQUMsRUFBRyxFQUFHLEVBQUc4TCxFQUFPLEdBQUc3TyxFQUFHNk8sRUFBTyxHQUFHNU8sRUFBRzRPLEVBQU8sR0FBRy9GLE9BR3pFckosTUFDSW1QLEdBR1gsWUFBQUcsbUJBQUEsc0JBQ0l0UCxLQUFLOEUsVUFBVTdCLFNBQVEsU0FBQ3dCLEVBQVVwQixHQUM5QixJQUFNa00sRUFBSSxFQUFLSixXQUFXSyxJQUFJbk0sR0FDeEIySCxFQUFNdkcsRUFBU3ZDLGNBQ2ZvSyxFQUFJN0gsRUFBU3FCLGNBQ25CckIsRUFBUzBHLFlBQVlILEVBQUl6SyxFQUFJZ1AsRUFBRSxHQUFJdkUsRUFBSXhLLEVBQUkrTyxFQUFFLEdBQUl2RSxFQUFJM0IsRUFBSWtHLEVBQUUsSUFDM0Q5SyxFQUFTeUcsWUFBWW9CLEVBQUUvTCxFQUFJZ1AsRUFBRSxHQUFJakQsRUFBRTlMLEVBQUkrTyxFQUFFLEdBQUlqRCxFQUFFakQsRUFBSWtHLEVBQUUsTUFDdER2UCxPQUdQLFlBQUE2SCxNQUFBLFdBQ0lDLFFBQVFDLElBQUksNEJBRVovSCxLQUFLOEUsVUFBVTdCLFNBQVEsU0FBQ3dCLEVBQVVwQixHQUM5QnlFLFFBQVFDLElBQUksOEJBQ1osSUFBTWlELEVBQU12RyxFQUFTdkMsY0FDZm9LLEVBQUk3SCxFQUFTcUIsY0FDbkJnQyxRQUFRQyxJQUFJLFlBQWMxRSxHQUMxQnlFLFFBQVFDLElBQUksUUFBU3RELEVBQVNpSSxXQUM5QjVFLFFBQVFDLElBQUksWUFBYWlELEVBQUl6SyxFQUFHeUssRUFBSXhLLEVBQUd3SyxFQUFJM0IsR0FDM0N2QixRQUFRQyxJQUFJLFlBQWF1RSxFQUFFL0wsRUFBRytMLEVBQUU5TCxFQUFHOEwsRUFBRWpELEtBQ3RDckosTUFDSDhILFFBQVFDLElBQUksNkJBSWhCLFlBQUErUSxnQkFBQSxXQUNJOVksS0FBS21QLFdBQVd0SCxTQUdwQixZQUFBOEUsUUFBQSxXQUNJM00sS0FBSzhFLFVBQVksR0FDakI5RSxLQUFLb1AsT0FBUyxHQUNkcFAsS0FBS21QLFdBQVd4QyxXQUd4QixFQTVPQSxHQUFhLEVBQUFnRCxrQix3SENoR2IsZ0JBS0EsYUFNSSxXQUFZb0osRUFBV0MsRUFBV0MsRUFBYTFZLEVBQWFDLEVBQWE2SSxHQUx6RSxLQUFBNlAsZ0JBQWtCLElBQUksRUFBQUMsUUFDdEIsS0FBQUMsbUJBQXFCLElBQUksRUFBQUQsUUFHekIsS0FBQXRYLE1BQVEsRUFFSjdCLEtBQUsrWSxFQUFJQSxFQUNUL1ksS0FBS2daLEVBQUlBLE9BQ0N6TSxJQUFOaE0sUUFBeUJnTSxJQUFOL0wsUUFBeUIrTCxJQUFObEQsSUFDdENySixLQUFLa1osZ0JBQWdCRyxVQUFVOVksRUFBR0MsRUFBRzZJLEdBQ3JDckosS0FBS2taLGdCQUFnQkksYUFFckJMLElBQ0FBLEVBQUVNLGFBQWF2WixLQUFLb1osbUJBQW1CSSxXQUFXeFosS0FBS2taLGtCQUN2RGxaLEtBQUtrWixnQkFBZ0IvTixZQUFZOE4sSUFFckNqWixLQUFLb1osbUJBQW1CSSxXQUFXeFosS0FBS2taLGlCQWNoRCxPQVpJLFlBQUF2TyxTQUFBLFNBQVM5SSxHQUNMN0IsS0FBSzZCLE1BQVFBLEdBRWpCLFlBQUFrQyxTQUFBLFdBQ2dCLElBQUksRUFBQXBFLFFBQWhCLElBQ0k4WixFQUFrQixFQUFWN1osS0FBS0MsR0FBU0QsS0FBSzZELFNBRTNCekMsRUFBVyxJQUFJLEVBQUFyQixTQUFTSyxLQUFLK1ksRUFBSS9ZLEtBQUs2QixNQUFRakMsS0FBSzZELFVBQVk3RCxLQUFLOFosSUFBSUQsSUFDdkV6WixLQUFLNkIsTUFBUWpDLEtBQUs2RCxTQUFXekQsS0FBS2daLEdBQUtwWixLQUFLK1osSUFBSUYsSUFFckQsT0FEQXpZLEVBQVN1WSxhQUFhdlosS0FBS29aLG9CQUNwQnBZLEdBRWYsRUEvQkEsR0FBYSxFQUFBd0osK0IscUhDSmIsZ0JBZUEsYUFPSSxXQUFZb0ssRUFBb0IzTSxFQUF1Qk0sRUFBaUNXLEdBQ3BGbEosS0FBS3FJLEtBQU8sSUFBSTRCLE1BQ2hCakssS0FBSzRaLGVBQWlCaEYsRUFDdEI1VSxLQUFLNlosaUJBQW1CLElBQUksRUFBQS9QLDJCQUEyQjdCLEdBQ3ZEakksS0FBSzZaLGlCQUFpQnpSLFFBQVFwSSxLQUFLcUksTUFDbkNySSxLQUFLa0osVUFBWUEsRUFDakJsSixLQUFLNlosaUJBQWlCdlIsYUFBYUMsR0FDbkN2SSxLQUFLaUksVUFBWUEsRUEyQnpCLE9BekJJLFlBQUE5RSxTQUFBLFNBQVNELEdBQ00sTUFBUEEsSUFDQWxELEtBQUs0WixlQUFlN0QsWUFBWTdTLEdBQ2hDbEQsS0FBS3FJLEtBQUtxSSxLQUFLeE4sS0FHdkIsWUFBQXFULFlBQUEsU0FBWXJOLEdBQ1JsSixLQUFLa0osVUFBWUEsR0FFckIsWUFBQXJHLE9BQUEsV0FHSSxJQURBLElBQ1NRLEVBREdyRCxLQUFLcUksS0FBS1csT0FDSCxFQUFHM0YsR0FBSyxFQUFHQSxJQUFLLENBQy9CLElBQU1ILEVBQU1sRCxLQUFLcUksS0FBS2hGLEdBQ2pCSCxFQUFJNkksWUFDTC9MLEtBQUtxSSxLQUFLK08sT0FBTy9ULEVBQUcsR0FDcEJyRCxLQUFLaUksVUFBVTdFLFNBQVNGLEVBQUkyRixpQkFBaUJ0SSxFQUFHMkMsRUFBSTJGLGlCQUFpQnJJLElBTTdFUixLQUFLNlosaUJBQWlCaFgsT0FBTzdDLEtBQUtrSixZQUcxQyxFQXpDQSxHQUFhLEVBQUFrTiw0QixtSENkYixpQkFFSSxXQUFZMEQsR0FDUjlaLEtBQUtnTCxJQUFNOE8sRUFNbkIsT0FKSSxZQUFBL1YsU0FBQSxXQUNJLE9BQU8vRCxLQUFLZ0wsS0FHcEIsRUFUQSxHQUFhLEVBQUF6RywwQix3R0NIYixnQkFHQSxhQVlJLGFBTkEsS0FBQXdWLE1BQVEsQ0FBRXhaLEVBQUcsRUFBR0MsRUFBRyxHQVFmLElBQUl3WixFQUFZQyxTQUFTQyxjQUFjLE9BQ3ZDbGEsS0FBS21hLFVBQVksSUFBSSxFQUFBQyxVQUNyQkgsU0FBU0ksS0FBS0MsWUFBWU4sR0FDMUJoYSxLQUFLK1csU0FBVyxJQUFJLEVBQUF3RCxjQUVwQixJQUFJMVksRUFBUTJZLE9BQU9DLFdBQ2YxWSxFQUFTeVksT0FBT0UsWUFHcEIxYSxLQUFLK1csU0FBUzRELFFBQVE5WSxFQUFPRSxHQUM3QmlZLEVBQVVNLFlBQVl0YSxLQUFLK1csU0FBU0MsWUFDcENsUCxRQUFRQyxJQUFJeVMsT0FBT0ksa0JBQ25CNWEsS0FBSzZhLFlBQWNMLE9BQU9DLFdBQWFELE9BQU9FLFlBQzlDMWEsS0FBSzhXLE9BQVMsSUFBSSxFQUFBZ0Usa0JBQWtCLEdBQUlOLE9BQU9DLFdBQWFELE9BQU9FLFlBQWEsRUFBRyxLQUNuRjFhLEtBQUs4VyxPQUFPOVYsU0FBU2tHLElBQUksRUFBRyxFQUFHLEtBQy9CbEgsS0FBSzhXLE9BQU92WCxPQUFPLEVBQUcsRUFBRyxHQUV6QlMsS0FBS1gsTUFBUSxJQUFJLEVBQUEwYixNQUNqQi9hLEtBQUtYLE1BQU0yYixXQUFhLElBQUksRUFBQUMsTUFBTSxXQUNsQ25ULFFBQVFDLElBQUl5UyxPQUFPQyxXQUFZRCxPQUFPRSxhQUN0Q0YsT0FBT1UsaUJBQWlCLFNBQVVsYixLQUFLbWIsZUFBZUMsS0FBS3BiLE9BQU8sR0FFbEVBLEtBQUswVyxlQXlDYixPQXBDSSxZQUFBQSxhQUFBLGFBR0EsWUFBQXlFLGVBQUEsV0FDSSxJQUFJdFosRUFBUTJZLE9BQU9DLFdBQ2YxWSxFQUFTeVksT0FBT0UsWUFDcEIxYSxLQUFLOFcsT0FBT3VFLE9BQVN4WixFQUFPRSxFQUM1Qi9CLEtBQUs4VyxPQUFPd0UseUJBQ1p0YixLQUFLNmEsWUFBY2haLEVBQVFFLEVBQzNCa1ksU0FBU0ksS0FBS2tCLE1BQU1DLFNBQVczWixFQUFNLEtBQ3JDb1ksU0FBU0ksS0FBS2tCLE1BQU1FLFVBQVkxWixFQUFPLEtBRXZDL0IsS0FBSytXLFNBQVM0RCxRQUFROVksRUFBT0UsSUFNakMsWUFBQThDLFFBQUEsV0FFSTdFLEtBQUtpWCxjQUNMeUUsc0JBQXNCMWIsS0FBSzZFLFFBQVF1VyxLQUFLcGIsT0FDeENBLEtBQUsyYixTQUNMM2IsS0FBSzRiLEdBQUssR0FJZCxZQUFBM0UsWUFBQSxhQUdBLFlBQUEwRSxPQUFBLFdBRUkzYixLQUFLK1csU0FBUzRFLE9BQU8zYixLQUFLWCxNQUFPVyxLQUFLOFcsU0FJOUMsRUE3RUEsR0FBYSxFQUFBSSxnQiIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFRoaXMgY2xhc3Mgd2lsbCBob2xkIGEgcmF5dHJhY2luZyBwaW4gaG9sZSBjYW1lcmFcclxuICogUGhvdG9ucyB3aWxsIGJlIHJlbGVhc2VkIGZyb20gdGhlIHBsYXRlIG9uIHRoaXMgY2FtZXJhXHJcbiAqIFRoYXQgd2lsbCBwYXNzIHRocm91Z2ggaXRzIGFwZXJ0dXJlXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgUGhvdG9ncmFwaGljUGxhdGUgfSBmcm9tIFwiLi9waG90b2dyYXBoXCI7XHJcbmltcG9ydCB7IFRleHR1cmUsIE1lc2hCYXNpY01hdGVyaWFsLCBNZXNoLCBEYXRhVGV4dHVyZSwgUkdCQUZvcm1hdCwgUGxhbmVHZW9tZXRyeSwgVmVjdG9yMywgQ29sb3IsIFF1YXRlcm5pb24sIFZlY3RvcjIsIFNjZW5lIH0gZnJvbSBcInRocmVlXCI7XHJcbmltcG9ydCB7IFBob3RvbkdlbmVyYXRvciB9IGZyb20gXCIuLi9wYXJ0aWNsZS1zeXN0ZW0vZ2VuZXJhdG9yL3Bob3Rvbi1nZW5lcmF0b3JcIjtcclxuaW1wb3J0IHsgRml4ZWRQb3NpdGlvbkdlbmVyYXRvciB9IGZyb20gXCIuLi9wYXJ0aWNsZS1zeXN0ZW0vZ2VuZXJhdG9yL3Bvc2l0aW9uLWdlbmVyYXRvcnMvZml4ZWQtcG9zaXRpb24tZ2VuZXJhdG9yXCI7XHJcbmltcG9ydCB7IElWZWN0b3JHZW5lcmF0b3IgfSBmcm9tIFwiLi4vcGFydGljbGUtc3lzdGVtL2dlbmVyYXRvci9pLXBhcnRpY2xlLWdlbmVyYXRvclwiO1xyXG5pbXBvcnQgeyBJUmF5VHJhY2VyIH0gZnJvbSBcIi4vaS1yYXl0cmFjZXJcIjtcclxuaW1wb3J0IHsgUGl4ZWxSYXkgfSBmcm9tIFwiLi9waXhlbC1yYXlcIjtcclxuaW1wb3J0IHsgSVJheVRyYWNpbmdDdXN0b21pemVyIH0gZnJvbSBcIi4vcGFydGljbGUtc3lzdGVtLXJheXRyYWNlclwiO1xyXG5pbXBvcnQgeyBJUmF5RW1pdHRlciB9IGZyb20gXCIuL2ktcmF5LWVtaXR0ZXJcIjtcclxuaW1wb3J0IHsgVmFyaWFibGVSYXlFbWl0dGVyIH0gZnJvbSBcIi4vdmFyaWFibGUtcmF5LWVtaXR0ZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBSYXlUcmFjZXIgaW1wbGVtZW50cyBJUmF5VHJhY2VyIHtcclxuICAgIHByaXZhdGUgcGxhdGU6IFBob3RvZ3JhcGhpY1BsYXRlO1xyXG4gICAgcHJpdmF0ZSBpbWFnZTogVGV4dHVyZTtcclxuICAgIHByaXZhdGUgcGhvdG86IE1lc2hCYXNpY01hdGVyaWFsO1xyXG4gICAgcHJpdmF0ZSBtZXNoOiBNZXNoO1xyXG4gICAgcHJpdmF0ZSBob2xlOiBWZWN0b3IzO1xyXG4gICAgcHJpdmF0ZSBmb3Y6IG51bWJlcjtcclxuICAgIHByaXZhdGUgZ2VuZXJhdG9yOiBSYXlUcmFjaW5nUGhvdG9uR2VuZXJhdG9yO1xyXG4gICAgcHJpdmF0ZSByb3RhdGlvbjogUXVhdGVybmlvbjtcclxuICAgIHByaXZhdGUgY3VzdG9taXplcjogSVJheVRyYWNpbmdDdXN0b21pemVyO1xyXG4gICAgcHJpdmF0ZSBzY2VuZTogU2NlbmU7XHJcbiAgICBwcml2YXRlIGVtaXR0ZXI6IElSYXlFbWl0dGVyO1xyXG4gICAgcmVhZG9ubHkgRElTVF9UT19QTEFURSA9IDE7XHJcbiAgICByZWFkb25seSBBU1BFQ1RfUkFUSU8gPSAxO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lOiBTY2VuZSwgaG9sZSA9IG5ldyBWZWN0b3IzKCksIGxvb2tBdCA9IG5ldyBWZWN0b3IzKDAsIDAsIDEpLCBmb3YgPSBNYXRoLlBJIC8gNCwgcmVzb2x1dGlvblggPSAxMDAsIGMgPSAyOTk3OTI0NTgpIHtcclxuICAgICAgICB0aGlzLmhvbGUgPSBob2xlO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlUGxhdGUoZm92LCByZXNvbHV0aW9uWCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgRGF0YVRleHR1cmUodGhpcy5wbGF0ZS5nZXRJbWFnZSgpLCB0aGlzLnBsYXRlLnJlc29sdXRpb24ueCwgdGhpcy5wbGF0ZS5yZXNvbHV0aW9uLnksIFJHQkFGb3JtYXQpO1xyXG4gICAgICAgIHRoaXMucGhvdG8gPSBuZXcgTWVzaEJhc2ljTWF0ZXJpYWwoKTtcclxuICAgICAgICB0aGlzLnBob3RvLm1hcCA9IHRoaXMuaW1hZ2U7XHJcbiAgICAgICAgdGhpcy5tZXNoID0gbmV3IE1lc2gobmV3IFBsYW5lR2VvbWV0cnkoMTAsIDEwKSwgdGhpcy5waG90byk7XHJcbiAgICAgICAgdGhpcy5tZXNoLnBvc2l0aW9uLmNvcHkodGhpcy5ob2xlKTtcclxuICAgICAgICB0aGlzLnJvdGF0aW9uID0gbmV3IFF1YXRlcm5pb24oKS5zZXRGcm9tVW5pdFZlY3RvcnMobmV3IFZlY3RvcjMoMCwgMCwgMSksIGxvb2tBdC5ub3JtYWxpemUoKSk7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVHZW5lcmF0b3IoYyk7XHJcbiAgICAgICAgdGhpcy5lbWl0dGVyID0gbmV3IFZhcmlhYmxlUmF5RW1pdHRlcih0aGlzLmdldFJlc29sdXRpb24oKSwgdGhpcywgdGhpcy5nZW5lcmF0b3IpO1xyXG4gICAgfVxyXG4gICAgb2JqZWN0V2FzSGl0KHg6IG51bWJlciwgeTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5lbWl0dGVyLm9iamVjdFdhc0hpdCh4LCB5KTtcclxuICAgIH1cclxuICAgIGdldFdpZHRoKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGxhdGUud2lkdGg7XHJcbiAgICB9XHJcbiAgICBnZXRIZWlnaHQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wbGF0ZS5oZWlnaHQ7XHJcbiAgICB9XHJcbiAgICBnZXRSb3RhdGlvbigpOiBRdWF0ZXJuaW9uIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yb3RhdGlvbjtcclxuICAgIH1cclxuICAgIGdldERpc3RhbmNlVG9DYW52YXMoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ESVNUX1RPX1BMQVRFO1xyXG4gICAgfVxyXG4gICAgZ2V0UG9zaXRpb24oKTogVmVjdG9yMyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaG9sZS5jbG9uZSgpO1xyXG4gICAgfVxyXG4gICAgc2V0Q3VzdG9taXplcihjdXN0b21pemU6IElSYXlUcmFjaW5nQ3VzdG9taXplcikge1xyXG4gICAgICAgIHRoaXMuY3VzdG9taXplciA9IGN1c3RvbWl6ZTtcclxuICAgIH1cclxuICAgIGNyZWF0ZUdlbmVyYXRvcihjOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLmdlbmVyYXRvciA9IG5ldyBSYXlUcmFjaW5nUGhvdG9uR2VuZXJhdG9yKHRoaXMuc2NlbmUsIGMpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlUGxhdGUoZm92OiBudW1iZXIsIHJlc194OiBudW1iZXIpIHtcclxuICAgICAgICBjb25zdCB3aWR0aCA9IDIgKiB0aGlzLkRJU1RfVE9fUExBVEUgKiBNYXRoLnRhbihmb3YpO1xyXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuQVNQRUNUX1JBVElPICogd2lkdGg7XHJcbiAgICAgICAgY29uc3QgcmVzX3kgPSB0aGlzLkFTUEVDVF9SQVRJTyAqIHJlc194O1xyXG4gICAgICAgIGNvbnN0IHBsYXRlID0gbmV3IFBob3RvZ3JhcGhpY1BsYXRlKHdpZHRoLCBoZWlnaHQsIHJlc194LCByZXNfeSwgbmV3IFZlY3RvcjMoMCwgMCwgdGhpcy5ESVNUX1RPX1BMQVRFKSwgbmV3IFZlY3RvcjMoMCwgMCwgLTEpKTtcclxuICAgICAgICB0aGlzLnBsYXRlID0gcGxhdGU7XHJcbiAgICB9XHJcbiAgICBnZXRQaG90bygpOiBNZXNoIHtcclxuICAgICAgICAvLyByZXR1cm4gdGhlIGltYWdlIG9uIHRoZSBwbGF0ZVxyXG4gICAgICAgIHJldHVybiB0aGlzLm1lc2g7XHJcbiAgICB9XHJcbiAgICBnZXRSZXNvbHV0aW9uKCk6IFZlY3RvcjJcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wbGF0ZS5yZXNvbHV0aW9uO1xyXG4gICAgfVxyXG4gICAgLy8gVXBkYXRlcyB0aGUgcGxhdGUgYnkgY2hlY2tpbmcgaWYgYW55IG9mIHRoZSBwYXJ0aWNsZXMgaGF2ZSBjb2xsaWRlZFxyXG4gICAgLy8gd2l0aCB0aGUgcGxhdGVcclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5jdXN0b21pemVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VzdG9taXplci51cGRhdGUoKTtcclxuICAgICAgICB9IHRoaXMuaW1hZ2UubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgZW1pdFBob3RvbnMoZW1pdHRlcj86IElSYXlFbWl0dGVyKSB7XHJcbiAgICAgICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBsYXRlLnJlc29sdXRpb24ueDsgaSsrKSB7XHJcbiAgICAgICAgLy8gICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5wbGF0ZS5yZXNvbHV0aW9uLnk7IGorKykge1xyXG4gICAgICAgIC8vICAgICAgICAgLy8gaWYgKChpIDwgOCB8fCBpID4gMjQpICYmIGogPj0gMTYgJiYgaiA8IDMyKVxyXG4gICAgICAgIC8vICAgICAgICAgLy8gaWYgKGogPiA4ICYmIGogPCAyNClcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMuZW1pdEZyb20oaSwgaik7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgaWYgKCFlbWl0dGVyKSB7XHJcbiAgICAgICAgICAgIGVtaXR0ZXIgPSB0aGlzLmVtaXR0ZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJheXMgPSBlbWl0dGVyLmVtaXQoKTtcclxuICAgICAgICByYXlzLmZvckVhY2gocmF5ID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wb3N0RW1pdChyYXkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZW1pdEZyb20oaTogbnVtYmVyLCBqOiBudW1iZXIpIHtcclxuICAgICAgICAvLyBjb25zdCBwZXJ0dXJieCA9IDA7IE1hdGgucmFuZG9tKCkgKiAwLjYgKyAwLjI7XHJcbiAgICAgICAgLy8gY29uc3QgcGVydHVyYnkgPSAwOyBNYXRoLnJhbmRvbSgpICogMC42ICsgMC4yO1xyXG4gICAgICAgIC8vIGNvbnN0IHggPSAoaSArIHBlcnR1cmJ4KSAvIHRoaXMucGxhdGUucmVzb2x1dGlvbi54ICogdGhpcy5wbGF0ZS53aWR0aCAtIHRoaXMucGxhdGUud2lkdGgvMjtcclxuICAgICAgICAvLyBjb25zdCB5ID0gKGogKyBwZXJ0dXJieSkgLyB0aGlzLnBsYXRlLnJlc29sdXRpb24ueSAqIHRoaXMucGxhdGUuaGVpZ2h0LSB0aGlzLnBsYXRlLmhlaWdodC8yO1xyXG4gICAgICAgIC8vIGNvbnN0IHogPSB0aGlzLkRJU1RfVE9fUExBVEU7XHJcbiAgICAgICAgLy8gLy8gVHJhbnNmb3JtIHRoaXMgdmVsb2NpdHkgYnkgdGhlIGNhbWVyYSdzIHRyYW5zZm9ybVxyXG4gICAgICAgIC8vIGNvbnN0IHZlbCA9IG5ldyBWZWN0b3IzKHgsIHksIHopO1xyXG4gICAgICAgIC8vIHZlbC5hcHBseVF1YXRlcm5pb24odGhpcy5yb3RhdGlvbik7XHJcbiAgICAgICAgLy8gdGhpcy5nZW5lcmF0b3IucGFyYW1ldGVyKGksIGosIHZlbCk7XHJcbiAgICAgICAgLy8gY29uc3QgcmF5ID0gdGhpcy5nZW5lcmF0b3IuZ2VuZXJhdGUoKTtcclxuICAgICAgICAvLyByYXkuc2V0UG9zaXRpb24odGhpcy5ob2xlLngsIHRoaXMuaG9sZS55LCB0aGlzLmhvbGUueik7XHJcbiAgICAgICAgY29uc3QgcmF5ID0gdGhpcy5lbWl0dGVyLmVtaXRGcm9tKGksIGopO1xyXG4gICAgICAgIHRoaXMucG9zdEVtaXQocmF5KTtcclxuICAgIH1cclxuICAgIGVtaXRGcm9tUmFuZG9tUGl4ZWwoKSB7XHJcbiAgICAgICAgY29uc3QgaSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMucGxhdGUucmVzb2x1dGlvbi54KTtcclxuICAgICAgICBjb25zdCBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5wbGF0ZS5yZXNvbHV0aW9uLngpO1xyXG4gICAgICAgIHRoaXMuZW1pdEZyb20oaSAsIGopOyAgICAgICAgXHJcbiAgICB9XHJcbiAgICBwb3N0RW1pdChyYXk6IFBpeGVsUmF5KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VzdG9taXplciAmJiByYXkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmN1c3RvbWl6ZXIucG9zdEVtaXQocmF5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENhbGxiYWNrIHRvIHNldCB0aGUgY29sb3Igb2YgdGhlIHBpeGVsIHdpdGggdGhpcyBjb2xvclxyXG4gICAgICogQGNvbG9yIFRoZSBjb2xvciB0byBzZXQgdGhlIHBpeGVsIHRvXHJcbiAgICAgKiBAcG9zaXRpb24gVGhlIHBvc2l0aW9uIGF0IHdoaWNoIHRoZSBtYXRlcmlhbCBob2xkaW5nIHRoaXMgY29sb3IgaXNcclxuICAgICAqL1xyXG4gICAgc2V0UGl4ZWwoeDogbnVtYmVyLCB5OiBudW1iZXIsIGNvbG9yOiBudW1iZXJbXSwgcG9zaXRpb246IFZlY3RvcjMpOiBhbnkge1xyXG4gICAgICAgIHRoaXMucGxhdGUuc2V0UGl4ZWwoeCwgeSwgY29sb3IpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBSYXlUcmFjaW5nUGhvdG9uVmVsb2NpdHlHZW5lcmF0b3IgaW1wbGVtZW50cyBJVmVjdG9yR2VuZXJhdG9yIHtcclxuICAgIGRpcjogVmVjdG9yMztcclxuICAgIGMgPSAyOTk3OTI0NTg7XHJcbiAgICBjb25zdHJ1Y3RvcihjID0gMjk5NzkyNDU4KSB7XHJcbiAgICAgICAgdGhpcy5jID0gYztcclxuICAgIH1cclxuICAgIHBhcmFtZXRlcihkaXI6IFZlY3RvcjMpIHtcclxuICAgICAgICB0aGlzLmRpciA9IGRpci5ub3JtYWxpemUoKTtcclxuICAgIH1cclxuICAgIGdlbmVyYXRlKCk6IFZlY3RvcjMge1xyXG4gICAgICAgIGNvbnN0IHZlbCA9IHRoaXMuZGlyLmNsb25lKCk7XHJcbiAgICAgICAgdmVsLm11bHRpcGx5U2NhbGFyKHRoaXMuYyk7XHJcbiAgICAgICAgcmV0dXJuIHZlbDtcclxuICAgIH1cclxufVxyXG5leHBvcnQgY2xhc3MgUmF5VHJhY2luZ1Bob3RvbkdlbmVyYXRvciB7XHJcbiAgICBnZW5lcmF0b3I6IFBob3RvbkdlbmVyYXRvcjtcclxuICAgIHZlbG9jaXR5X2dlbmVyYXRvcjogUmF5VHJhY2luZ1Bob3RvblZlbG9jaXR5R2VuZXJhdG9yO1xyXG4gICAgeCA9IDA7XHJcbiAgICB5ID0gMDtcclxuICAgIHNjZW5lOiBTY2VuZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZTogU2NlbmUsIGMgPSAyOTk3OTI0NTgpIHtcclxuICAgICAgICB0aGlzLmdlbmVyYXRvciA9IG5ldyBQaG90b25HZW5lcmF0b3IoKTtcclxuICAgICAgICB0aGlzLnZlbG9jaXR5X2dlbmVyYXRvciA9IG5ldyBSYXlUcmFjaW5nUGhvdG9uVmVsb2NpdHlHZW5lcmF0b3IoYylcclxuICAgICAgICB0aGlzLmdlbmVyYXRvci5zZXRWZWxvY2l0eUdlbmVyYXRvcih0aGlzLnZlbG9jaXR5X2dlbmVyYXRvcik7XHJcbiAgICAgICAgdGhpcy5nZW5lcmF0b3Iuc2V0UG9zaXRpb25HZW5lcmF0b3IobmV3IEZpeGVkUG9zaXRpb25HZW5lcmF0b3IobmV3IFZlY3RvcjMoKSkpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgIH1cclxuICAgIHBhcmFtZXRlcih4OiBudW1iZXIsIHk6IG51bWJlciwgZGlyOiBWZWN0b3IzKSB7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgICAgIHRoaXMudmVsb2NpdHlfZ2VuZXJhdG9yLnBhcmFtZXRlcihkaXIpO1xyXG4gICAgfVxyXG4gICAgZ2VuZXJhdGUoKTogUGl4ZWxSYXkge1xyXG4gICAgICAgIGNvbnN0IGJhc2VQYXJ0aWNsZSA9IHRoaXMuZ2VuZXJhdG9yLmdlbmVyYXRlKCk7XHJcbiAgICAgICAgY29uc3QgcGFydGljbGUgPSBuZXcgUGl4ZWxSYXkodGhpcy5zY2VuZSwgbmV3IFZlY3RvcjIodGhpcy54LCB0aGlzLnkpKTtcclxuICAgICAgICBwYXJ0aWNsZS5jb3B5KGJhc2VQYXJ0aWNsZSk7XHJcbiAgICAgICAgcmV0dXJuIHBhcnRpY2xlO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQmxhY2tIb2xlU3RhcnRlciB9IGZyb20gXCIuL2JsYWNrLWhvbGUtc3RhcnRlclwiO1xyXG5cclxubGV0IHN5c3RlbSA9IG5ldyBCbGFja0hvbGVTdGFydGVyKCk7XHJcbnN5c3RlbS5hbmltYXRlKCk7IiwiaW1wb3J0IHsgVmVjdG9yMywgUXVhdGVybmlvbiwgVmVjdG9yMiwgVGV4dHVyZSwgRGF0YVRleHR1cmUsIE1lc2gsIE1lc2hCYXNpY01hdGVyaWFsLCBQbGFuZUdlb21ldHJ5LCBSR0JBRm9ybWF0IH0gZnJvbSBcInRocmVlXCI7XHJcbmltcG9ydCB7IFNwYWNlUGFydGljbGUgfSBmcm9tIFwiLi4vc3BhY2UtcGFydGljbGVcIjtcclxuaW1wb3J0IHsgSVBhcnRpY2xlIH0gZnJvbSBcIi4uL3BhcnRpY2xlLXN5c3RlbS9wYXJ0aWNsZS9wYXJ0aWNsZVwiO1xyXG5cclxuLyoqXHJcbiAqIFRoaXMgY2xhc3Mgd2lsbCB0YWtlIGEgcGhvdG9ncmFwaCBvZiB0aGUgc2NlbmUgb24gYSBwbGFuZVxyXG4gKiBQYXJ0aWNsZXMgY2FuIGludGVyYWN0IHdpdGggdGhlIHBob3RvZ3JhcGhpYyBwbGF0ZS4gV2hlbmV2ZXIgdGhleVxyXG4gKiBpbnRlcnNlY3QgdGhlIHBsYXRlLCBhIGNlcnRhaW4gY29sb3Igd2l0aCBpbnRlbnNpdHkgd291bGQgYmUgYWRkZWQgdG8gXHJcbiAqIHRoZSBwbGF0ZVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBob3RvZ3JhcGgge1xyXG4gICAgcGxhdGU6IFBob3RvZ3JhcGhpY1BsYXRlO1xyXG4gICAgaW1hZ2U6IFRleHR1cmU7XHJcbiAgICBwaG90bzogTWVzaEJhc2ljTWF0ZXJpYWw7XHJcbiAgICBtZXNoOiBNZXNoO1xyXG4gICAgY29uc3RydWN0b3IocGxhdGU6IFBob3RvZ3JhcGhpY1BsYXRlKSB7XHJcbiAgICAgICAgdGhpcy5wbGF0ZSA9IHBsYXRlO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgRGF0YVRleHR1cmUodGhpcy5wbGF0ZS5nZXRJbWFnZSgpLCBwbGF0ZS5yZXNvbHV0aW9uLngsIHBsYXRlLnJlc29sdXRpb24ueSwgUkdCQUZvcm1hdCk7XHJcbiAgICAgICAgdGhpcy5waG90byA9IG5ldyBNZXNoQmFzaWNNYXRlcmlhbCgpO1xyXG4gICAgICAgIHRoaXMucGhvdG8ubWFwID0gdGhpcy5pbWFnZTtcclxuICAgICAgICB0aGlzLm1lc2ggPSBuZXcgTWVzaChuZXcgUGxhbmVHZW9tZXRyeSgxMCwgMTApLCB0aGlzLnBob3RvKTtcclxuICAgIH1cclxuICAgIGdldFBob3RvKCk6IE1lc2gge1xyXG4gICAgICAgIC8vIHJldHVybiB0aGUgaW1hZ2Ugb24gdGhlIHBsYXRlXHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzaDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBVcGRhdGVzIHRoZSBwbGF0ZSBieSBjaGVja2luZyBpZiBhbnkgb2YgdGhlIHBhcnRpY2xlcyBoYXZlIGNvbGxpZGVkXHJcbiAgICAvLyB3aXRoIHRoZSBwbGF0ZVxyXG4gICAgdXBkYXRlKHBhcnRpY2xlczogQXJyYXk8SVBhcnRpY2xlPiwgZGVsdGFUOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnBsYXRlLmV4cG9zZShwYXJ0aWNsZXMsIGRlbHRhVCk7XHJcbiAgICAgICAgdGhpcy5pbWFnZS5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQaG90b2dyYXBoaWMgcGxhdGUgaXMgdGhlIG9uZSBleHBvc2VkIHRvIHRoZSBwYXJ0aWNsZXNcclxuICogSXQgY29udGFpbnMgYW4gYXJyYXkgb2Ygd2hpY2ggcGFydHMgb2YgaXQgd2VyZSBleHBvc2VkIGFuZCBieSBob3cgbXVjaFxyXG4gKiBNYXliZSB1c2luZyBhIGZyYWdtZW50IHNoYWRlciBvbiB0aGVzZSBhcyB0ZXh0dXJlIHdvdWxkIGhlbHAgZGlzcGxheSB0aGVtXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUGhvdG9ncmFwaGljUGxhdGUge1xyXG4gICAgcmVzb2x1dGlvbjogVmVjdG9yMjtcclxuICAgIHdpZHRoOiBudW1iZXI7XHJcbiAgICBoZWlnaHQ6IG51bWJlcjtcclxuICAgIHBvc2l0aW9uOiBWZWN0b3IzO1xyXG4gICAgbm9ybWFsOiBWZWN0b3IzOyAvLyBUaGUgbm9ybWFsIHRvIHRoZSBwbGFuZSBpbiB0aGUgZGlyZWN0aW9uIG9mIHRoZSBvYmplY3RcclxuICAgIHByaXZhdGUgZGF0YTogVWludDhBcnJheTtcclxuICAgIGNvbnN0cnVjdG9yKHdpZHRoID0gMS4wLCBoZWlnaHQgPSAxLjAsIHJlc29sdXRpb25YID0gMTAwLCByZXNvbHV0aW9uWSA9IDEwMCwgcG9zaXRpb24gPSBuZXcgVmVjdG9yMygpLCBub3JtYWwgPSBuZXcgVmVjdG9yMygwLCAwLCAxKSkge1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICAgICAgdGhpcy5ub3JtYWwgPSBub3JtYWwubm9ybWFsaXplKCk7XHJcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gbmV3IFZlY3RvcjIocmVzb2x1dGlvblgsIHJlc29sdXRpb25ZKTtcclxuICAgICAgICB0aGlzLmRhdGEgPSBuZXcgVWludDhBcnJheSg0ICogcmVzb2x1dGlvblggKiByZXNvbHV0aW9uWSk7XHJcbiAgICB9XHJcbiAgICBnZXRJbWFnZSgpOiBVaW50OEFycmF5IHsgcmV0dXJuIHRoaXMuZGF0YTsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRXhwb3NlcyB0aGUgcGxhdGUgdG8gcGhvdG9ucy4gQW55IHBob3RvbnMgdGhhdCBhcmUgaW50ZXJzZWN0aW5nIHdpdGggdGhlIFxyXG4gICAgICogcGxhdGUgYXQgdGhlIGdpdmVuIHRpbWUgd2lsbCBiZSByZWdpc3RlcmVkIHdpdGggYSBjb2xvclxyXG4gICAgICogQHBhcmFtIHBhcnRpY2xlcyBcclxuICAgICAqIEBwYXJhbSBkZWx0YVQgXHJcbiAgICAgKi9cclxuICAgIGV4cG9zZShwYXJ0aWNsZXM6IEFycmF5PElQYXJ0aWNsZT4sIGRlbHRhVDogbnVtYmVyKSB7XHJcbiAgICAgICAgY29uc3QgcXVhcnRlcm5pb24gPSBuZXcgUXVhdGVybmlvbigpLnNldEZyb21Vbml0VmVjdG9ycyh0aGlzLm5vcm1hbCwgbmV3IFZlY3RvcjMoMCwgMCwgMSkpO1xyXG4gICAgICAgIGNvbnN0IGNvbG9yID0gWzE2LCAwLCAwLCAwXTtcclxuICAgICAgICBwYXJ0aWNsZXMuZm9yRWFjaChwID0+IHtcclxuICAgICAgICAgICAgaWYgKHAuZ2V0VHlwZSgpID09IFNwYWNlUGFydGljbGUuUEhPVE9OKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmcm9tID0gcC5nZXRQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdG8gPSBuZXcgVmVjdG9yMygpLmFkZFZlY3RvcnMocC5nZXRQb3NpdGlvbigpLCBwLmdldFZlbG9jaXR5KCkubXVsdGlwbHlTY2FsYXIoZGVsdGFUKSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbnRlcnNlY3Rpb24gPSB0aGlzLmludGVyc2VjdHNXaXRoUGxhdGUoZnJvbSwgdG8pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGludGVyc2VjdGlvbi54ICE9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlQ29vcmRpbmF0ZXMgPSBpbnRlcnNlY3Rpb24uc3ViKHRoaXMucG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlQ29vcmRpbmF0ZXMuYXBwbHlRdWF0ZXJuaW9uKHF1YXJ0ZXJuaW9uKTtcclxuICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZUNvb3JkaW5hdGVzLnggPSB0aGlzLndpZHRoIC8gMiArIHJlbGF0aXZlQ29vcmRpbmF0ZXMueCAqIHRoaXMucmVzb2x1dGlvbi54IC8gdGhpcy53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZUNvb3JkaW5hdGVzLnkgPSB0aGlzLmhlaWdodCAvIDIgKyByZWxhdGl2ZUNvb3JkaW5hdGVzLnkgKiB0aGlzLnJlc29sdXRpb24ueSAvIHRoaXMuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlQ29vcmRpbmF0ZXMueCA9IDQgKiBNYXRoLnJvdW5kKHJlbGF0aXZlQ29vcmRpbmF0ZXMueCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVDb29yZGluYXRlcy55ID0gNCAqIE1hdGgucm91bmQocmVsYXRpdmVDb29yZGluYXRlcy55KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHJlbGF0aXZlQ29vcmRpbmF0ZXMueSAqIHRoaXMucmVzb2x1dGlvbi54ICsgcmVsYXRpdmVDb29yZGluYXRlcy54O1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yLmZvckVhY2goKGksIGopID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhW2luZGV4ICsgal0gPSBNYXRoLm1pbih0aGlzLmRhdGFbaW5kZXggKyBqXSArIGksIDI1NSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuZGF0YVtpbmRleCArIGpdICs9IGk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuZGF0YVtpbmRleCArIDNdID0gTWF0aC5taW4odGhpcy5kYXRhW2luZGV4KzNdICsgYWxwaGEsIDI1NSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgcGl4ZWwgYXQgKHgseSkgdG8gdGhpcyBjb2xvclxyXG4gICAgICogQHBhcmFtIGNvbG9yIEEgYnl0ZSBhcnJheSBjb250YWluaW5nIHRoZSBjb2xvciBpbiBSR0JBIGZvcm1hdFxyXG4gICAgICovXHJcbiAgICBzZXRQaXhlbCh4OiBudW1iZXIsIHk6IG51bWJlciwgY29sb3I6IG51bWJlcltdKSB7XHJcbiAgICAgICAgeCA9IDQgKiBNYXRoLmZsb29yKHgpO1xyXG4gICAgICAgIHkgPSA0ICogTWF0aC5mbG9vcih5KTtcclxuICAgICAgICBjb25zdCBpbmRleCA9IHkgKiB0aGlzLnJlc29sdXRpb24ueCArIHg7XHJcbiAgICAgICAgY29sb3IuZm9yRWFjaCgoaSwgaikgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFbaW5kZXggKyBqXSA9IE1hdGgubWluKHRoaXMuZGF0YVtpbmRleCArIGpdICsgaSwgMjU1KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgcG9pbnQgYXQgd2hpY2ggdGhpcyBwbGF0ZSBpbnRlcnNlY3RlZCB3aXRoIHRoZSBMaW5lXHJcbiAgICAgKiBSZXR1cm5zIGluZiwgaW5mIGlmIGl0IGRpZG4ndCBpbnRlcnNlY3RcclxuICAgICAqL1xyXG4gICAgaW50ZXJzZWN0c1dpdGhQbGF0ZShmcm9tOiBWZWN0b3IzLCB0bzogVmVjdG9yMyk6IFZlY3RvcjMge1xyXG4gICAgICAgIGxldCBpbnRlcnNlY3Rpb24gPSBuZXcgVmVjdG9yMyhOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XHJcbiAgICAgICAgLy8gQ2FsY3VsYXRlIGlmIGJvdGggb2YgdGhlc2UgcG9pbnRzIGFyZSBvbiBlaXRoZXIgc2lkZSBvZiB0aGUgcGxhbmVcclxuICAgICAgICAvLyBJZiB0aGV5IGFyZSwgdGhlIHJhdGlvIG9mIHRoZWlyIG5vcm1hbHMgZ2l2ZSB0aGUgcmF0aW9zIG9uIGVpdGhlciBzaWRlXHJcbiAgICAgICAgLy8gb2YgdGhlIHBsYW5lXHJcbiAgICAgICAgY29uc3QgbGluZSA9IG5ldyBWZWN0b3IzKCkuc3ViVmVjdG9ycyh0bywgZnJvbSk7XHJcbiAgICAgICAgY29uc3QgcGxhbmVUbzEgPSBuZXcgVmVjdG9yMygpLnN1YlZlY3RvcnMoZnJvbSwgdGhpcy5wb3NpdGlvbik7XHJcbiAgICAgICAgY29uc3QgZG90MSA9IHBsYW5lVG8xLmRvdCh0aGlzLm5vcm1hbCk7XHJcbiAgICAgICAgY29uc3QgcGxhbmVUbzIgPSBuZXcgVmVjdG9yMygpLnN1YlZlY3RvcnModG8sIHRoaXMucG9zaXRpb24pO1xyXG4gICAgICAgIGNvbnN0IGRvdDIgPSBwbGFuZVRvMi5kb3QodGhpcy5ub3JtYWwpO1xyXG4gICAgICAgIC8vIFRoaXMgY2hlY2sgbWFrZXMgc3VyZSB0aGF0IGRvdDEgYW5kIGRvdDIgYXJlIG9wcG9zaXRlIHNpZ25zIFxyXG4gICAgICAgIGlmIChkb3QxICogZG90MiA+IDApIHtcclxuICAgICAgICAgICAgLy8gYm90aCBwb2ludHMgb24gdGhlIHNhbWUgc2lkZSwgaW50ZXJzZWN0aW9uIG5vdCBwb3NzaWJsZVxyXG4gICAgICAgICAgICByZXR1cm4gaW50ZXJzZWN0aW9uO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZG90MSA9PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmcm9tO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZG90MiA9PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0bztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYm90aCBwb2ludHMgb24gb3Bwb3NpdGUgc2lkZXMsIGNhbGN1bGF0ZSB0aGVpciBub3JtYWwgcHJvamVjdGlvbnMgcmF0aW9cclxuICAgICAgICAvLyBhbmQgZGl2aWRlIHRoZSBsaW5lIGJldHdlZW4gdGhlbSBpbiB0aGUgc2FtZSByYXRpbyAoc2ltaWxhciB0cmlhbmdsZXMpXHJcbiAgICAgICAgY29uc3QgcmF0aW8gPSBNYXRoLmFicyhkb3QxKSAvIChNYXRoLmFicyhkb3QxKSArIE1hdGguYWJzKGRvdDIpKTtcclxuICAgICAgICBpbnRlcnNlY3Rpb24gPSBmcm9tLmFkZChsaW5lLm11bHRpcGx5U2NhbGFyKHJhdGlvKSk7XHJcblxyXG4gICAgICAgIC8vTWFrZSBzdXJlIHRoaXMgaW50ZXJzZWN0aW9uIGlzIGluc2lkZSB0aGUgcGxhbmVcclxuICAgICAgICBjb25zdCBkaW1lbnNpb25zID0gbmV3IFZlY3RvcjMoKS5zdWJWZWN0b3JzKGludGVyc2VjdGlvbiwgdGhpcy5wb3NpdGlvbik7XHJcbiAgICAgICAgaWYgKE1hdGguYWJzKGRpbWVuc2lvbnMueCkgPiB0aGlzLndpZHRoIHx8IE1hdGguYWJzKGRpbWVuc2lvbnMueSkgPiB0aGlzLmhlaWdodCkge1xyXG4gICAgICAgICAgICBpbnRlcnNlY3Rpb24uc2V0KE51bWJlci5QT1NJVElWRV9JTkZJTklUWSwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW50ZXJzZWN0aW9uO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIFRpbWVQcm9maWxlIHtcclxuICAgIHByaXZhdGUgc3RhcnRUaW1lOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGludGVydmFsOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHVwZGF0ZUV2ZXJ5OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHVwZGF0ZUNvdW50ID0gMDtcclxuICAgIHByaXZhdGUgbmFtZTogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSB0aW1lOiBudW1iZXI7XHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lID0gXCJNZXRob2RcIiwgdXBkYXRlRXZlcnkgPSAxKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVFdmVyeSA9IHVwZGF0ZUV2ZXJ5O1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICB9XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgfVxyXG4gICAgc3RvcCgpOiBudW1iZXIge1xyXG4gICAgICAgIGNvbnN0IG5ld1RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICBjb25zdCBpbnRlcnZhbCA9IG5ld1RpbWUgLSB0aGlzLnN0YXJ0VGltZTtcclxuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IG5ld1RpbWU7XHJcbiAgICAgICAgdGhpcy51cGRhdGVDb3VudCsrO1xyXG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZUNvdW50ID4gdGhpcy51cGRhdGVFdmVyeSkge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNvdW50ID0gMDtcclxuICAgICAgICAgICAgdGhpcy5wcmludCgpO1xyXG4gICAgICAgICAgICB0aGlzLmludGVydmFsID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pbnRlcnZhbCArPSBpbnRlcnZhbDtcclxuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcnZhbDtcclxuICAgIH1cclxuICAgIHByaW50KCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiJXMgdG9vayAlcyBtc1wiLCB0aGlzLm5hbWUsIHRoaXMuaW50ZXJ2YWwpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IElQYXJ0aWNsZSwgUGFydGljbGUgfSBmcm9tIFwiLi4vcGFydGljbGUtc3lzdGVtL3BhcnRpY2xlL3BhcnRpY2xlXCI7XHJcbmltcG9ydCB7IElSYXlUcmFjZXIgfSBmcm9tIFwiLi9pLXJheXRyYWNlclwiO1xyXG5pbXBvcnQgeyBJUmF5VHJhY2VhYmxlIH0gZnJvbSBcIi4vaS1yYXl0cmFjZWFibGVcIjtcclxuaW1wb3J0IHsgUmF5Y2FzdGVyLCBDb2xvciwgVmVjdG9yMywgVmVjdG9yMiB9IGZyb20gXCJ0aHJlZVwiO1xyXG5pbXBvcnQgeyBQaXhlbFJheSB9IGZyb20gXCIuL3BpeGVsLXJheVwiO1xyXG5pbXBvcnQgeyBPY3RyZWUgfSBmcm9tIFwiLi9jb2xsaXNpb25zL29jdHJlZVwiO1xyXG5cclxuLyoqXHJcbiAqIFRoaXMgY2xhc3Mgd2lsbCBtYW5hZ2UgYWxsIHRoZSBjb2xsaXNpb24gY2hlY2tpbmcgYmV0d2VlbiByYXlzXHJcbiAqIGFuZCByYXl0cmFjZWFibGUgcGFydGljbGVzXHJcbiAqIEhvdyBzaG91bGQgSSB1cGRhdGUgdGhlIG9jdHJlZSB3aGVuIHBhcnRpY2xlcyBhcmUgdXBkYXRlZC4gTWF5YmVcclxuICogY2FsbCBvY3RyZWUgdXBkYXRlIHdoZW4gdGhlIHBhcnRpY2xlJ3Mgc2V0UG9zaXRpb24gaXMgY2FsbGVkXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUmF5VHJhY2luZ0NvbGxpc2lvbk1hbmFnZXIge1xyXG4gICAgcmF5dHJhY2VyOiBJUmF5VHJhY2VyO1xyXG4gICAgcmF5czogQXJyYXk8UGl4ZWxSYXk+O1xyXG4gICAgb2JzdGFjbGVzOiBBcnJheTxJUmF5VHJhY2VhYmxlPjtcclxuICAgIG9jdHJlZTogT2N0cmVlO1xyXG4gICAgYmc6IEJhY2tncm91bmRJbWFnZTtcclxuICAgIGNvbnN0cnVjdG9yKHJheXRyYWNlcjogSVJheVRyYWNlcikge1xyXG4gICAgICAgIHRoaXMucmF5dHJhY2VyID0gcmF5dHJhY2VyO1xyXG4gICAgICAgIHRoaXMuYmcgPSBuZXcgQmFja2dyb3VuZEltYWdlKHRoaXMucmF5dHJhY2VyLmdldFJlc29sdXRpb24oKS54LCB0aGlzLnJheXRyYWNlci5nZXRSZXNvbHV0aW9uKCkueSwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UmF5cyhyYXlzOiBBcnJheTxQaXhlbFJheT4pIHtcclxuICAgICAgICB0aGlzLnJheXMgPSByYXlzO1xyXG4gICAgfVxyXG5cclxuICAgIHNldE9ic3RhY2xlcyhvYnN0YWNsZXM6IEFycmF5PElSYXlUcmFjZWFibGU+KSB7XHJcbiAgICAgICAgdGhpcy5vYnN0YWNsZXMgPSBvYnN0YWNsZXM7XHJcbiAgICAgICAgdGhpcy5vY3RyZWUgPSBuZXcgT2N0cmVlKHRoaXMub2JzdGFjbGVzLCBuZXcgVmVjdG9yMygtNTAsIC01MCwgLTUwKSwgbmV3IFZlY3RvcjMoNTAsIDUwLCA1MCksIDQsIDEwKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVQYXJ0aWNsZUluT2N0cmVlKHBhcnRpY2xlOiBJUGFydGljbGUpIHtcclxuXHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIE9uIGNvbGxpc2lvbiBvZiByYXkgd2l0aCBwYXJ0aWNsZSwgc2V0IHRoZSBjb2xvciBmb3IgdGhlIFxyXG4gICAgICogcmF5cyBwaXhlbFxyXG4gICAgICogRG8gYSByZWQtc2hpZnQgYnkgZG90IHByb2R1Y3Qgb2YgdGhlIHZlbG9jaXRpZXMgXHJcbiAgICAgKiBJZiB2ZWxvY2l0aWVzIGFyZSBnb2luZyBpbiBvcHBvc2l0ZSBkaXJlY3Rpb25zLCB0aGUgcGFydGljbGVcclxuICAgICAqIHdpbGwgYmUgcmVkLXNoaWZ0ZWRcclxuICAgICAqIEBwYXJhbSBwYXJ0aWNsZSBcclxuICAgICAqL1xyXG4gICAgb25Db2xsaXNpb24ocGFydGljbGU6IElQYXJ0aWNsZSwgcmF5OiBQaXhlbFJheSkge1xyXG4gICAgICAgIGxldCBjb2xvciA9IFsyMDAsIDAsIDAsIDBdO1xyXG4gICAgICAgIGNvbG9yID0gdGhpcy5kb3BwbGVyU2hpZnRDb2xvcihjb2xvciwgcGFydGljbGUuZ2V0VmVsb2NpdHkoKSwgcmF5LmdldFZlbG9jaXR5KCkpO1xyXG4gICAgICAgIHRoaXMucmF5dHJhY2VyLnNldFBpeGVsKHJheS5nZXRPcmlnaW5QaXhlbCgpLngsIHJheS5nZXRPcmlnaW5QaXhlbCgpLnksIGNvbG9yLCBuZXcgVmVjdG9yMygpKTtcclxuICAgICAgICB0aGlzLnJheXRyYWNlci5vYmplY3RXYXNIaXQocmF5LmdldE9yaWdpblBpeGVsKCkueCwgcmF5LmdldE9yaWdpblBpeGVsKCkueSk7XHJcbiAgICB9XHJcbiAgICBkb3BwbGVyU2hpZnRDb2xvcihjb2xvcjogQXJyYXk8bnVtYmVyPiwgdmVsX3BhcnRpY2xlOiBWZWN0b3IzLCB2ZWxfcmF5OiBWZWN0b3IzKTogQXJyYXk8bnVtYmVyPiB7XHJcbiAgICAgICAgbGV0IGRpciA9IHZlbF9yYXkuY2xvbmUoKS5ub3JtYWxpemUoKTtcclxuICAgICAgICBsZXQgZG90ID0gdmVsX3BhcnRpY2xlLmRvdChkaXIpO1xyXG4gICAgICAgIGxldCBkaWZmID0gZGlyLm11bHRpcGx5U2NhbGFyKHZlbF9wYXJ0aWNsZS5kb3QoZGlyKSk7XHJcbiAgICAgICAgY29uc3QgcmF0aW8gPSBkaWZmLmxlbmd0aCgpIC8gdmVsX3JheS5sZW5ndGgoKTtcclxuICAgICAgICBjb25zdCBJTkNSRU1FTlRTID0gMTI4O1xyXG4gICAgICAgIC8vIFRPRE8gc2hvdWxkIHdlIHJlbW92ZSBjb2xvciBmcm9tIG90aGVyIGNvbXBvbmVudHMuIFRlY2huaWNhbGx5IHRoZSBjb2xvciBzaG91bGRcclxuICAgICAgICAvLyBiZSBpbnRlcnBvbGF0ZWQgYWxvbmcgdGhlIGZyZXF1ZW5jeSBzcGVjdHJ1bVxyXG4gICAgICAgIGlmIChkb3QgPiAwKSB7XHJcbiAgICAgICAgICAgIC8vIHJlZCBzaGlmdFxyXG4gICAgICAgICAgICBjb2xvclswXSA9IE1hdGgubWluKGNvbG9yWzBdICsgTWF0aC5jZWlsKHJhdGlvICogSU5DUkVNRU5UUyksIDI1NSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gYmx1ZSBzaGlmdFxyXG4gICAgICAgICAgICBjb2xvclsyXSA9IE1hdGgubWluKGNvbG9yWzJdICsgTWF0aC5jZWlsKHJhdGlvICogSU5DUkVNRU5UUyksIDI1NSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb2xvcjtcclxuICAgIH1cclxuICAgIHVwZGF0ZSh0aW1lX3N0ZXA6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMucmF5cy5mb3JFYWNoKHIgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBmcm9tID0gci5nZXRQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICBjb25zdCB0byA9IHIuZ2V0UG9zaXRpb24oKS5hZGRTY2FsZWRWZWN0b3Ioci5nZXRWZWxvY2l0eSgpLCAodGltZV9zdGVwKSk7XHJcbiAgICAgICAgICAgIGlmIChmcm9tLnogPCAtNDUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByb2IgPSAxOy8vIC8gKHRoaXMucmF5dHJhY2VyLmdldFJlc29sdXRpb24oKS54KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHggPSB0aGlzLnJheXRyYWNlci5nZXRSZXNvbHV0aW9uKCkueCAvIDIgKyBNYXRoLmZsb29yKGZyb20ueCAvIDEwMCAqIHRoaXMucmF5dHJhY2VyLmdldFJlc29sdXRpb24oKS54KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSB0aGlzLnJheXRyYWNlci5nZXRSZXNvbHV0aW9uKCkueSAvIDIgKyBNYXRoLmZsb29yKGZyb20ueSAvIDEwMCAqIHRoaXMucmF5dHJhY2VyLmdldFJlc29sdXRpb24oKS55KTtcclxuICAgICAgICAgICAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgcHJvYiAmJiB0aGlzLmJnLnNob3VsZEZpbGwoeCwgeSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByLm9uRGVhdGgoKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdmFyaWFiaWxpdHkgPSAwOyAvLy02NCArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEyOCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHdoaXRlID0gMjU1O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb2xvciA9IFsyNTUgKyB2YXJpYWJpbGl0eSwgMjU1ICsgdmFyaWFiaWxpdHksIDI1NSArIHZhcmlhYmlsaXR5LCAwXTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJheXRyYWNlci5zZXRQaXhlbChyLmdldE9yaWdpblBpeGVsKCkueCwgci5nZXRPcmlnaW5QaXhlbCgpLnksIGNvbG9yLCBuZXcgVmVjdG9yMygpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIENvbGxpc2lvbiBkZXRlY3Rpb24gbG9naWMgaGVyZVxyXG4gICAgICAgICAgICAgICAgLy8gQ29tcGFyZSBlYWNoIHJheSB0aGUgb2N0cmVlIGl0IGlzIGluXHJcbiAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gdGhpcy5vY3RyZWUuZmluZFJheShmcm9tLCB0bylcclxuICAgICAgICAgICAgICAgIGlmIChub2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JzdGFjbGVzID0gbm9kZS5nZXRPYmplY3RzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JzdGFjbGVzLmZvckVhY2gobyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvLmludGVyc2VjdHNXaXRoUmF5KGZyb20sIHRvLCByLmdldFJhZGl1cygpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgci5vbkRlYXRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2xvciA9IFsxNiwgMCwgMCwgMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAoci5nZXRPcmlnaW5QaXhlbCgpLnkgPiAyNCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJDb2xsaXNpb24gaGFzIG9jY3VyZWRcIixyLmdldE9yaWdpblBpeGVsKCksIHIuZ2V0UG9zaXRpb24oKSwgKG8gYXMgUGFydGljbGUpLmdldFBvc2l0aW9uKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyB1Z2x5IGNvZGUgaGVyZSBzaG91bGQgcGVyaGFwcyBiZSBvdmVycmlkZGVuIGluIGFub3RoZXIgY29sbGlzaW9uIG1hbmFnZXIgdGhhdCBkb2VzIG5vdCB0YWtlIHN0YXRpYyBvYmplY3RzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQ29sbGlzaW9uKG8gYXMgYW55IGFzIElQYXJ0aWNsZSwgcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnJheXRyYWNlci5zZXRQaXhlbChyLmdldE9yaWdpblBpeGVsKCkueCwgci5nZXRPcmlnaW5QaXhlbCgpLnksIGNvbG9yLCBuZXcgVmVjdG9yMygpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBCYWNrZ3JvdW5kSW1hZ2Uge1xyXG4gICAgcHJpdmF0ZSBkaW1lbnNpb25zOiBWZWN0b3IyO1xyXG4gICAgcHJpdmF0ZSBwaXhlbHM6IEFycmF5PG51bWJlcj47XHJcbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlciwgZmlsbDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5waXhlbHMgPSBuZXcgQXJyYXk8bnVtYmVyPih4ICogeSk7XHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zID0gbmV3IFZlY3RvcjIoeCwgeSk7XHJcbiAgICAgICAgdGhpcy5hc3NpZ24oZmlsbCAqICh4ICogeSkpO1xyXG4gICAgfVxyXG4gICAgLy8gcHJpdmF0ZSBhc3NpZ24oZmlsbDogbnVtYmVyKSB7XHJcbiAgICAvLyAgICAgbGV0IGZpbGxlZCA9IDA7XHJcbiAgICAvLyAgICAgY29uc29sZS5sb2coZmlsbCk7XHJcbiAgICAvLyAgICAgd2hpbGUgKGZpbGxlZCA8IGZpbGwpIHtcclxuICAgIC8vICAgICAgICAgbGV0IHBpeGVsID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5waXhlbHMubGVuZ3RoKTtcclxuICAgIC8vICAgICAgICAgdGhpcy5waXhlbHNbcGl4ZWxdID0gMTtcclxuICAgIC8vICAgICAgICAgZmlsbGVkKys7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG4gICAgcHJpdmF0ZSBhc3NpZ24oZmlsbDogbnVtYmVyKSB7XHJcbiAgICAgICAgY29uc3QgSU5DUkVNRU5UUyA9IDE2O1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kaW1lbnNpb25zLng7IGkrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuZGltZW5zaW9ucy55OyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChpICUgSU5DUkVNRU5UUyA9PSAwIHx8IGogJSBJTkNSRU1FTlRTID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGogKiB0aGlzLmRpbWVuc2lvbnMueCArIGk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5waXhlbHNbaW5kZXhdID0gMTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzaG91bGRGaWxsKHg6IG51bWJlciwgeTogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSB5ICogdGhpcy5kaW1lbnNpb25zLnggKyB4O1xyXG4gICAgICAgIGlmICh0aGlzLnBpeGVsc1tpbmRleF0gPT0gMSlcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUGFydGljbGVHZW5lcmF0b3IgfSBmcm9tIFwiLi9wYXJ0aWNsZS1nZW5lcmF0b3JcIjtcclxuaW1wb3J0IHsgVGFuZ2VudGlhbFZlbG9jaXR5R2VuZXJhdG9yIH0gZnJvbSBcIi4vdmVsb2NpdHktZ2VuZXJhdG9ycy90YW5nZW50aWFsLXZlbG9jaXR5LWdlbmVyYXRvclwiO1xyXG5pbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSBcInRocmVlXCI7XHJcbmltcG9ydCB7IElQYXJ0aWNsZSwgUGFydGljbGUgfSBmcm9tIFwiLi4vcGFydGljbGUvcGFydGljbGVcIjtcclxuaW1wb3J0IHsgRWxsaXB0aWNhbFBvc2l0aW9uR2VuZXJhdG9yIH0gZnJvbSBcIi4vcG9zaXRpb24tZ2VuZXJhdG9ycy9lbGxpcHRpY2FsLXBvc2l0aW9uLWdlbmVyYXRvclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVsbGlwdGljYWxQYXJ0aWNsZUdlbmVyYXRvciBleHRlbmRzIFBhcnRpY2xlR2VuZXJhdG9yIHtcclxuICAgIHZlbG9jaXR5X2dlbmVyYXRvcjogVGFuZ2VudGlhbFZlbG9jaXR5R2VuZXJhdG9yO1xyXG4gICAgcG9zaXRpb25fZ2VuZXJhdG9yOiBFbGxpcHRpY2FsUG9zaXRpb25HZW5lcmF0b3I7XHJcbiAgICBjZW50ZXI6IFZlY3RvcjM7XHJcbiAgICBheGlzOiBWZWN0b3IzO1xyXG4gICAgbWFnOiBudW1iZXI7XHJcbiAgICBjb25zdHJ1Y3RvcihhOiBudW1iZXIsIGI6IG51bWJlciwgY2VudGVyOiBWZWN0b3IzLCB4OiBWZWN0b3IzLCB5OiBWZWN0b3IzLCB6OiBWZWN0b3IzLCB2ZWw6IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy52ZWxvY2l0eV9nZW5lcmF0b3IgPSBuZXcgVGFuZ2VudGlhbFZlbG9jaXR5R2VuZXJhdG9yKCk7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbl9nZW5lcmF0b3IgPSBuZXcgRWxsaXB0aWNhbFBvc2l0aW9uR2VuZXJhdG9yKGEsIGIsIGNlbnRlciwgeCwgeSwgeik7XHJcbiAgICAgICAgdGhpcy5jZW50ZXIgPSBjZW50ZXI7XHJcbiAgICAgICAgdGhpcy5heGlzID0gejtcclxuICAgICAgICB0aGlzLm1hZyA9IHZlbDtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh2ZWwpO1xyXG4gICAgfVxyXG4gICAgc2V0V2lkdGgod2lkdGg6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMucG9zaXRpb25fZ2VuZXJhdG9yLnNldFdpZHRoKHdpZHRoKTtcclxuICAgIH1cclxuICAgIGdlbmVyYXRlKCk6IElQYXJ0aWNsZSB7XHJcbiAgICAgICAgY29uc3QgbWFzcyA9IHRoaXMubWFzc19taW4gKyBNYXRoLnJhbmRvbSgpICogKHRoaXMubWFzc19tYXggLSB0aGlzLm1hc3NfbWluKTtcclxuICAgICAgICBjb25zdCBwYXJ0aWNsZSA9IG5ldyBQYXJ0aWNsZShtYXNzKTtcclxuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLnBvc2l0aW9uX2dlbmVyYXRvci5nZW5lcmF0ZSgpO1xyXG4gICAgICAgIHRoaXMudmVsb2NpdHlfZ2VuZXJhdG9yLnBhcmFtZXRlcnModGhpcy5jZW50ZXIsIHBvcywgdGhpcy5heGlzKTtcclxuICAgICAgICBjb25zdCB2ZWwgPSB0aGlzLnZlbG9jaXR5X2dlbmVyYXRvci5nZW5lcmF0ZSgpO1xyXG4gICAgICAgIHZlbC5tdWx0aXBseVNjYWxhcih0aGlzLm1hZyk7XHJcbiAgICAgICAgcGFydGljbGUuc2V0VmVsb2NpdHkodmVsLngsIHZlbC55LCB2ZWwueik7XHJcbiAgICAgICAgcGFydGljbGUuc2V0UG9zaXRpb24ocG9zLngsIHBvcy55LCBwb3Mueik7XHJcbiAgICAgICAgcGFydGljbGUuc2V0TGlmZXNwYW4odGhpcy5saWZlc3Bhbik7XHJcbiAgICAgICAgcmV0dXJuIHBhcnRpY2xlO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFNwaGVyZUJ1ZmZlckdlb21ldHJ5LCBNZXNoQmFzaWNNYXRlcmlhbCwgTWVzaCwgU2NlbmUsIFZlY3RvcjMsIFBvaW50TGlnaHQgfSBmcm9tIFwidGhyZWVcIjtcclxuaW1wb3J0IHsgSVBhcnRpY2xlLCBQYXJ0aWNsZSB9IGZyb20gXCIuL3BhcnRpY2xlXCI7XHJcbmltcG9ydCB7IElSYXlUcmFjaW5nQ3VzdG9taXplciB9IGZyb20gXCIuLi8uLi9yYXl0cmFjaW5nL3BhcnRpY2xlLXN5c3RlbS1yYXl0cmFjZXJcIjtcclxuaW1wb3J0IHsgSVJheVRyYWNlYWJsZSB9IGZyb20gXCIuLi8uLi9yYXl0cmFjaW5nL2ktcmF5dHJhY2VhYmxlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVmlzaWJsZVBhcnRpY2xlIGltcGxlbWVudHMgSVBhcnRpY2xlLCBJUmF5VHJhY2VhYmxlIHtcclxuXHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICBnZW9tZXRyeTogU3BoZXJlQnVmZmVyR2VvbWV0cnk7XHJcbiAgICBtYXRlcmlhbDogTWVzaEJhc2ljTWF0ZXJpYWw7XHJcbiAgICBtZXNoOiBNZXNoO1xyXG4gICAgcGFydGljbGU6IFBhcnRpY2xlO1xyXG4gICAgY29sb3I6IHN0cmluZztcclxuICAgIHNjZW5lOiBTY2VuZTtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lOiBTY2VuZSwgbmFtZTogc3RyaW5nLCBjb2xvciA9IFwiI2ZmMDAwMFwiLCByYWRpdXMgPSAxLCBtYXNzID0gMSkge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBTcGhlcmVCdWZmZXJHZW9tZXRyeSgxKTtcclxuICAgICAgICAvL2NvbG9yIHRvIGJlIHJlcGxhY2VkIHdpdGggdGV4dHVyZVxyXG4gICAgICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgTWVzaEJhc2ljTWF0ZXJpYWwoeyBjb2xvciB9KTtcclxuICAgICAgICB0aGlzLm1lc2ggPSBuZXcgTWVzaCh0aGlzLmdlb21ldHJ5LCB0aGlzLm1hdGVyaWFsKTtcclxuICAgICAgICB0aGlzLm1lc2guc2NhbGUuc2V0KHJhZGl1cywgcmFkaXVzLCByYWRpdXMpO1xyXG4gICAgICAgIHRoaXMucGFydGljbGUgPSBuZXcgUGFydGljbGUobWFzcywgcmFkaXVzKTtcclxuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMubWVzaCk7XHJcbiAgICB9XHJcbiAgICBpbnRlcnNlY3RzV2l0aEJveChmcm9tOiBWZWN0b3IzLCB0bzogVmVjdG9yMyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcnRpY2xlLmludGVyc2VjdHNXaXRoQm94KGZyb20sIHRvKTtcclxuICAgIH1cclxuICAgIHNldFJhZGl1cyhyOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHRoaXMubWVzaC5zY2FsZS5zZXQociwgciwgcik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFydGljbGUuc2V0UmFkaXVzKHIpO1xyXG4gICAgfVxyXG4gICAgaW50ZXJzZWN0c1dpdGhSYXkoZnJvbTogVmVjdG9yMywgdG86IFZlY3RvcjMsIHJhZGl1czogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFydGljbGUuaW50ZXJzZWN0c1dpdGhSYXkoZnJvbSwgdG8sIHJhZGl1cyk7XHJcbiAgICB9XHJcbiAgICBpc0FsaXZlKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcnRpY2xlLmlzQWxpdmUoKTtcclxuICAgIH1cclxuICAgIGNvcHkocDogSVBhcnRpY2xlKSB7XHJcbiAgICAgICAgdGhpcy5wYXJ0aWNsZS5jb3B5KHApO1xyXG4gICAgICAgIHRoaXMubWVzaC5zY2FsZS5zZXQodGhpcy5wYXJ0aWNsZS5nZXRSYWRpdXMoKSwgdGhpcy5wYXJ0aWNsZS5nZXRSYWRpdXMoKSwgdGhpcy5wYXJ0aWNsZS5nZXRSYWRpdXMoKSk7XHJcbiAgICB9XHJcbiAgICBzZXRUeXBlKHR5cGU6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFydGljbGUuc2V0VHlwZSh0eXBlKTtcclxuICAgIH1cclxuICAgIGdldFR5cGUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYXJ0aWNsZS5nZXRUeXBlKCk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICB9XHJcbiAgICBnZXRMaWZlc3BhbigpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcnRpY2xlLmdldExpZmVzcGFuKCk7XHJcbiAgICB9XHJcbiAgICBzZXRMaWZlc3BhbihsOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcnRpY2xlLnNldExpZmVzcGFuKGwpO1xyXG4gICAgfVxyXG4gICAgZ2V0QWdlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFydGljbGUuZ2V0QWdlKCk7XHJcbiAgICB9XHJcbiAgICBzZXRBZ2UoYTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYXJ0aWNsZS5zZXRBZ2UoYSk7XHJcbiAgICB9XHJcbiAgICBwb3NpdGlvbih2PzogVmVjdG9yMykge1xyXG4gICAgICAgIGlmICh2ICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHRoaXMubWVzaC5wb3NpdGlvbi5jb3B5KHYpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1lc2gucG9zaXRpb24uY2xvbmUoKTtcclxuICAgIH1cclxuICAgIHNldE1hc3MobTogbnVtYmVyKSB7IHRoaXMucGFydGljbGUuc2V0TWFzcyhtKSB9O1xyXG4gICAgZ2V0TWFzcygpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5wYXJ0aWNsZS5nZXRNYXNzKCkgfTtcclxuICAgIGdldFZlbG9jaXR5KCk6IFZlY3RvcjMgeyByZXR1cm4gdGhpcy5wYXJ0aWNsZS5nZXRWZWxvY2l0eSgpOyB9O1xyXG4gICAgZ2V0UG9zaXRpb24oKTogVmVjdG9yMyB7IHJldHVybiB0aGlzLnBvc2l0aW9uKCkgfTtcclxuICAgIHNldFBvc2l0aW9uKHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIpOiBWZWN0b3IzIHtcclxuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLnBvc2l0aW9uKG5ldyBWZWN0b3IzKHgsIHksIHopKTtcclxuICAgICAgICB0aGlzLnBhcnRpY2xlLnNldFBvc2l0aW9uKHgsIHksIHopO1xyXG4gICAgICAgIHJldHVybiBwb3M7XHJcbiAgICB9O1xyXG4gICAgc2V0VmVsb2NpdHkoeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlcik6IFZlY3RvcjMge1xyXG4gICAgICAgIGNvbnN0IHZlbCA9IHRoaXMucGFydGljbGUuc2V0VmVsb2NpdHkoeCwgeSwgeik7XHJcbiAgICAgICAgcmV0dXJuIHZlbDtcclxuICAgIH1cclxuICAgIGdldFJhZGl1cygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcnRpY2xlLmdldFJhZGl1cygpO1xyXG4gICAgfVxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLmdlb21ldHJ5LmRpc3Bvc2UoKTtcclxuICAgICAgICB0aGlzLm1hdGVyaWFsLmRpc3Bvc2UoKTtcclxuICAgIH1cclxuICAgIGFkZExpZ2h0U291cmNlKGNvbG9yOiBzdHJpbmcpIHtcclxuICAgICAgICAvLyB0aGlzLm1hdGVyaWFsLmVtaXNzaXZlID0gbmV3IENvbG9yKHRoaXMuY29sb3IpO1xyXG4gICAgICAgIGxldCBsaWdodCA9IG5ldyBQb2ludExpZ2h0KGNvbG9yKTtcclxuICAgICAgICB0aGlzLm1lc2guYWRkKGxpZ2h0KTtcclxuICAgIH1cclxuICAgIG9uRGVhdGgoKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5yZW1vdmUodGhpcy5tZXNoKTtcclxuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLnBhcnRpY2xlLm9uRGVhdGgoKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFZlY3RvcjMgfSBmcm9tIFwidGhyZWVcIjtcclxuaW1wb3J0IHsgSVBhcnRpY2xlR2VuZXJhdG9yLCBJVmVjdG9yR2VuZXJhdG9yIH0gZnJvbSBcIi4vaS1wYXJ0aWNsZS1nZW5lcmF0b3JcIjtcclxuaW1wb3J0IHsgRml4ZWRQb3NpdGlvbkdlbmVyYXRvciB9IGZyb20gXCIuL3Bvc2l0aW9uLWdlbmVyYXRvcnMvZml4ZWQtcG9zaXRpb24tZ2VuZXJhdG9yXCI7XHJcbmltcG9ydCB7IFJhbmRvbVZlbG9jaXR5R2VuZXJhdG9yIH0gZnJvbSBcIi4vdmVsb2NpdHktZ2VuZXJhdG9ycy9yYW5kb20tdmVsb2NpdHktZ2VuZXJhdG9yXCI7XHJcbmltcG9ydCB7IElQYXJ0aWNsZSwgUGFydGljbGUgfSBmcm9tIFwiLi4vcGFydGljbGUvcGFydGljbGVcIjtcclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgUGFydGljbGVzLiBTcGVjaWZ5IHlvdXIgb3duIGltcGxlbWVudGF0aW9uIG9mIHZlbG9jaXR5IGFuZCBwb3NpdGlvblxyXG4gKiBnZW5lcmF0b3JzIHRvIGN1c3RvbWl6ZSB3aGVyZSB0aGlzIHBhcnRpY2xlcyBhcmUgZ2VuZXJhdGVkIGFuZCBob3cgZmFzdCB0aGV5IFxyXG4gKiB0cmF2ZWxcclxuICogVE9ETzogSW1wbGVtZW50IHRoZSBzYW1lIHRvIGdlbmVyYXRlIGxpZmVzcGFucyBhbmQgb3RoZXIgcGFydGljbGUgcHJvcGVydGllc1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBhcnRpY2xlR2VuZXJhdG9yIGltcGxlbWVudHMgSVBhcnRpY2xlR2VuZXJhdG9yIHtcclxuICAgIHBvc2l0aW9uOiBWZWN0b3IzO1xyXG4gICAgbWFzc19taW46IG51bWJlcjtcclxuICAgIG1hc3NfbWF4OiBudW1iZXI7XHJcbiAgICBsaWZlc3BhbjogbnVtYmVyO1xyXG4gICAgdmVsb2NpdHlfZ2VuZXJhdG9yOiBJVmVjdG9yR2VuZXJhdG9yO1xyXG4gICAgcG9zaXRpb25fZ2VuZXJhdG9yOiBJVmVjdG9yR2VuZXJhdG9yO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgICAgIHRoaXMubGlmZXNwYW4gPSAwO1xyXG4gICAgICAgIHRoaXMucG9zaXRpb25fZ2VuZXJhdG9yID0gbmV3IEZpeGVkUG9zaXRpb25HZW5lcmF0b3IodGhpcy5wb3NpdGlvbik7XHJcbiAgICAgICAgdGhpcy52ZWxvY2l0eV9nZW5lcmF0b3IgPSBuZXcgUmFuZG9tVmVsb2NpdHlHZW5lcmF0b3IoKTtcclxuICAgIH1cclxuICAgIHNldFZlbG9jaXR5R2VuZXJhdG9yKGdlbmVyYXRvcjogSVZlY3RvckdlbmVyYXRvcikge1xyXG4gICAgICAgIHRoaXMudmVsb2NpdHlfZ2VuZXJhdG9yID0gZ2VuZXJhdG9yO1xyXG4gICAgfVxyXG4gICAgc2V0UG9zaXRpb25HZW5lcmF0b3IoZ2VuZXJhdG9yOiBJVmVjdG9yR2VuZXJhdG9yKSB7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbl9nZW5lcmF0b3IgPSBnZW5lcmF0b3I7XHJcbiAgICB9XHJcbiAgICBnZW5lcmF0ZSgpOiBJUGFydGljbGUge1xyXG4gICAgICAgIGNvbnN0IG1hc3MgPSB0aGlzLm1hc3NfbWluICsgTWF0aC5yYW5kb20oKSAqICh0aGlzLm1hc3NfbWF4IC0gdGhpcy5tYXNzX21pbik7XHJcbiAgICAgICAgY29uc3QgcGFydGljbGUgPSBuZXcgUGFydGljbGUobWFzcyk7XHJcbiAgICAgICAgY29uc3QgdmVsID0gdGhpcy52ZWxvY2l0eV9nZW5lcmF0b3IuZ2VuZXJhdGUoKTtcclxuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLnBvc2l0aW9uX2dlbmVyYXRvci5nZW5lcmF0ZSgpO1xyXG4gICAgICAgIHBhcnRpY2xlLnNldFZlbG9jaXR5KHZlbC54LCB2ZWwueSwgdmVsLnopO1xyXG4gICAgICAgIHBhcnRpY2xlLnNldFBvc2l0aW9uKHBvcy54LCBwb3MueSwgcG9zLnopO1xyXG4gICAgICAgIHBhcnRpY2xlLnNldExpZmVzcGFuKHRoaXMubGlmZXNwYW4pO1xyXG4gICAgICAgIHJldHVybiBwYXJ0aWNsZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgcG9zaXRpb25zIG9mIHRoZSBwYXJ0aWNsZSBnZW5lcmF0b3JcclxuICAgICAqIEBwYXJhbSB2IG5ldyBwb3NpdGlvblxyXG4gICAgICovXHJcbiAgICBzZXRQb3NpdGlvbih2OiBWZWN0b3IzKSB7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbi5jb3B5KHYpO1xyXG4gICAgfVxyXG4gICAgZ2V0UG9zaXRpb24oKTogVmVjdG9yMyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24uY2xvbmUoKTtcclxuICAgIH1cclxuICAgIHNldFBhcmFtZXRlcnMobWFzc19taW46IG51bWJlciwgbWFzc19tYXg6IG51bWJlciwgbGlmZXNwYW46IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMubWFzc19tYXggPSBtYXNzX21heDtcclxuICAgICAgICB0aGlzLm1hc3NfbWluID0gbWFzc19taW47XHJcbiAgICAgICAgdGhpcy5saWZlc3BhbiA9IGxpZmVzcGFuO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbiIsImltcG9ydCB7IElQYXJ0aWNsZSwgUGFydGljbGUgfSBmcm9tIFwiLi4vcGFydGljbGUtc3lzdGVtL3BhcnRpY2xlL3BhcnRpY2xlXCI7XHJcbmltcG9ydCB7IFZlY3RvcjIsIFNjZW5lIH0gZnJvbSBcInRocmVlXCI7XHJcbmltcG9ydCB7IFZpc2libGVQYXJ0aWNsZSB9IGZyb20gXCIuLi9wYXJ0aWNsZS1zeXN0ZW0vcGFydGljbGUvdmlzaWJsZS1wYXJ0aWNsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBpeGVsUmF5IGV4dGVuZHMgUGFydGljbGUge1xyXG4gICAgb3JpZ2luOiBWZWN0b3IyO1xyXG4gICAgb25IaXQ6IChwOiBJUGFydGljbGUpPT4ge307XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZTogU2NlbmUsIG9yaWdpbiA9IG5ldyBWZWN0b3IyKCkpIHtcclxuICAgICAgICBzdXBlcigwKTtcclxuICAgICAgICAvLyBzdXBlcihzY2VuZSwgXCJwaXhlbFJheVwiLCBcIiNmZmZmMDBcIiwgMSwgMCk7XHJcbiAgICAgICAgdGhpcy5vcmlnaW4gPSBvcmlnaW47XHJcbiAgICB9XHJcbiAgICBnZXRPcmlnaW5QaXhlbCgpIDogVmVjdG9yMiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZ2luO1xyXG4gICAgfVxyXG4gICAgc2V0T3JpZ2luUGl4ZWwoeDogbnVtYmVyLCB5OiBudW1iZXIpIDogYW55IHtcclxuICAgICAgICB0aGlzLm9yaWdpbi5zZXQoeCwgeSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBJVmVjdG9yR2VuZXJhdG9yIH0gZnJvbSBcIi4uL2ktcGFydGljbGUtZ2VuZXJhdG9yXCI7XHJcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tIFwidGhyZWVcIjtcclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgdW5pdCB2ZWxvY2l0aWVzIHRhbmdlbnRpYWwgdG8gYSB2ZWN0b3IgXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVGFuZ2VudGlhbFZlbG9jaXR5R2VuZXJhdG9yIGltcGxlbWVudHMgSVZlY3RvckdlbmVyYXRvciB7XHJcbiAgICBjZW50ZXI6IFZlY3RvcjM7XHJcbiAgICBwb3NpdGlvbjogVmVjdG9yMztcclxuICAgIGF4aXM6IFZlY3RvcjM7XHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIGNlbnRlciBUaGUgc3RhcnQgb2YgdGhlIHZlY3RvclxyXG4gICAgICogQHBhcmFtIHBvc2l0aW9uIFRoZSBlbmQgb2YgdGhlIHZlY3RvclxyXG4gICAgICogQHBhcmFtIGF4aXMgVGhlIGF4aXMgcGVycGVuZGljdWxhciB0byB3aGljaCB2ZWxvY2l0aWVzIHdpbGwgYmUgZ2VuZXJhdGVkXHJcbiAgICAgKi9cclxuICAgIHBhcmFtZXRlcnMoY2VudGVyOiBWZWN0b3IzLCBwb3NpdGlvbjogVmVjdG9yMywgYXhpczogVmVjdG9yMykge1xyXG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcclxuICAgICAgICB0aGlzLmNlbnRlciA9IGNlbnRlcjtcclxuICAgICAgICB0aGlzLmF4aXMgPSBheGlzLm5vcm1hbGl6ZSgpO1xyXG4gICAgfVxyXG4gICAgZ2VuZXJhdGUoKTogVmVjdG9yMyB7XHJcbiAgICAgICAgLy8gZ2V0IGEgcGVycGVuZGljdWxhciB2ZWN0b3IgZnJvbSB0aGUgY3VycmVudCB2ZWN0b3JcclxuICAgICAgICBjb25zdCBkaXIgPSBuZXcgVmVjdG9yMygpLnN1YlZlY3RvcnModGhpcy5wb3NpdGlvbiwgdGhpcy5jZW50ZXIpLm5vcm1hbGl6ZSgpO1xyXG4gICAgICAgIGNvbnN0IHZlbCA9IG5ldyBWZWN0b3IzKCkuY3Jvc3NWZWN0b3JzKGRpciwgdGhpcy5heGlzKTtcclxuICAgICAgICByZXR1cm4gdmVsO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IElWZWN0b3JHZW5lcmF0b3IgfSBmcm9tIFwiLi4vaS1wYXJ0aWNsZS1nZW5lcmF0b3JcIjtcclxuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCJ0aHJlZVwiO1xyXG5cclxuLyoqXHJcbiAqIEdlbmVyYXRlcyByYW5kb20gdmVsb2NpdGllcyB3aXRoIGNvbXBvbmVudHMgYmV0d2VlbiAwIGFuZCAxXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUGhvdG9uVmVsb2NpdHlHZW5lcmF0b3IgaW1wbGVtZW50cyBJVmVjdG9yR2VuZXJhdG9yIHtcclxuICAgIGMgPSAyOTk3OTI0NTg7XHJcbiAgICBwYXJhbWV0ZXIoYzogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5jID0gYztcclxuICAgIH1cclxuICAgIGdlbmVyYXRlKCk6IFZlY3RvcjMge1xyXG4gICAgICAgIGNvbnN0IHZlbCA9IG5ldyBWZWN0b3IzKC0xICsgMiAqIE1hdGgucmFuZG9tKCksIC0xICsgMiAqIE1hdGgucmFuZG9tKCksIC0xICsgMiAqIE1hdGgucmFuZG9tKCkpO1xyXG4gICAgICAgIHZlbC5tdWx0aXBseVNjYWxhcih0aGlzLmMpO1xyXG4gICAgICAgIHJldHVybiB2ZWw7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBJVmVjdG9yR2VuZXJhdG9yIH0gZnJvbSBcIi4uL2ktcGFydGljbGUtZ2VuZXJhdG9yXCI7XHJcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tIFwidGhyZWVcIjtcclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgcmFuZG9tIHZlbG9jaXRpZXMgd2l0aCBjb21wb25lbnRzIGJldHdlZW4gMCBhbmQgMVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFJhbmRvbVZlbG9jaXR5R2VuZXJhdG9yIGltcGxlbWVudHMgSVZlY3RvckdlbmVyYXRvciB7XHJcbiAgICBnZW5lcmF0ZSgpOiBWZWN0b3IzIHtcclxuICAgICAgICBjb25zdCB2ZWwgPSBuZXcgVmVjdG9yMygtMSArIDIgKiBNYXRoLnJhbmRvbSgpLCAtMSArIDIgKiBNYXRoLnJhbmRvbSgpLCAtMSArIDIgKiBNYXRoLnJhbmRvbSgpKTtcclxuICAgICAgICByZXR1cm4gdmVsO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUGFydGljbGVHZW5lcmF0b3IgfSBmcm9tIFwiLi9wYXJ0aWNsZS1nZW5lcmF0b3JcIjtcclxuaW1wb3J0IHsgUGhvdG9uVmVsb2NpdHlHZW5lcmF0b3IgfSBmcm9tIFwiLi92ZWxvY2l0eS1nZW5lcmF0b3JzL3Bob3Rvbi12ZWxvY2l0eS1nZW5lcmF0b3JcIjtcclxuaW1wb3J0IHsgSVBhcnRpY2xlIH0gZnJvbSBcIi4uL3BhcnRpY2xlL3BhcnRpY2xlXCI7XHJcbmltcG9ydCB7IFNwYWNlUGFydGljbGUgfSBmcm9tIFwiLi4vLi4vc3BhY2UtcGFydGljbGVcIjtcclxuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCJ0aHJlZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBob3RvbkdlbmVyYXRvciBleHRlbmRzIFBhcnRpY2xlR2VuZXJhdG9yIHtcclxuICAgIHNwZWVkT2ZMaWdodCA9IDI5OTc5MjQ1ODtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy52ZWxvY2l0eV9nZW5lcmF0b3IgPSBuZXcgUGhvdG9uVmVsb2NpdHlHZW5lcmF0b3IoKTtcclxuICAgICAgICB0aGlzLm1hc3NfbWF4ID0gMDtcclxuICAgICAgICB0aGlzLm1hc3NfbWluID0gMDtcclxuICAgICAgICB0aGlzLmxpZmVzcGFuID0gMDtcclxuICAgIH1cclxuICAgIGdlbmVyYXRlKCk6IElQYXJ0aWNsZSB7XHJcbiAgICAgICAgY29uc3QgcGFydGljbGUgPSBzdXBlci5nZW5lcmF0ZSgpO1xyXG4gICAgICAgIHBhcnRpY2xlLnNldFR5cGUoU3BhY2VQYXJ0aWNsZS5QSE9UT04pO1xyXG4gICAgICAgIHBhcnRpY2xlLnNldFJhZGl1cygwLjEpO1xyXG4gICAgICAgIHJldHVybiBwYXJ0aWNsZTtcclxuICAgIH1cclxuICAgIHNldFNwZWVkT2ZMaWdodChzOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnNwZWVkT2ZMaWdodCA9IHM7XHJcbiAgICAgICAgY29uc3QgdmVsID0gbmV3IFBob3RvblZlbG9jaXR5R2VuZXJhdG9yKCk7XHJcbiAgICAgICAgdGhpcy52ZWxvY2l0eV9nZW5lcmF0b3IgPSB2ZWw7XHJcbiAgICAgICAgdmVsLnBhcmFtZXRlcihzKTtcclxuICAgIH1cclxuICAgIHByb3RlY3RlZCByYW5kb21WZWxvY2l0eSgpOiBWZWN0b3IzIHtcclxuICAgICAgICBjb25zdCB2ZWwgPSBuZXcgVmVjdG9yMyhNYXRoLnJhbmRvbSgpLCBNYXRoLnJhbmRvbSgpLCBNYXRoLnJhbmRvbSgpKTtcclxuICAgICAgICB2ZWwubm9ybWFsaXplKCk7XHJcbiAgICAgICAgdmVsLm11bHRpcGx5U2NhbGFyKHRoaXMuc3BlZWRPZkxpZ2h0KTtcclxuICAgICAgICByZXR1cm4gdmVsO1xyXG4gICAgfSAgIFxyXG59IiwiaW1wb3J0IHsgSUZvcmNlIH0gZnJvbSBcIi4vSS1mb3JjZVwiO1xyXG5pbXBvcnQgeyBJUGFydGljbGUgfSBmcm9tIFwiLi4vcGFydGljbGUvcGFydGljbGVcIjtcclxuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCJ0aHJlZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdyYXZpdHlGb3JjZSBpbXBsZW1lbnRzIElGb3JjZSB7XHJcbiAgICBwcml2YXRlIF9HOiBudW1iZXI7XHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgR1JBVklUQVRJT05fQ09OU1RBTlQgPSA2LjY3NDMwZS0xMTsgLy8gVmFsdWUgb2YgRyBpbiBtIGtnIHNcclxuICAgIGNvbnN0cnVjdG9yKEc/OiBudW1iZXIpIHtcclxuICAgICAgICBpZiAoRykgdGhpcy5HID0gRztcclxuICAgICAgICBlbHNlIHRoaXMuRyA9IDE7XHJcbiAgICB9XHJcbiAgICB2ZWNfbGVuZ3RoX3NxdWFyZWQodmVjOiBWZWN0b3IzKTogbnVtYmVyIHtcclxuICAgICAgICBjb25zdCBsZW4gPSB2ZWMueCAqIHZlYy54ICsgdmVjLnkgKiB2ZWMueSArIHZlYy56ICogdmVjLno7XHJcbiAgICAgICAgcmV0dXJuIGxlbjtcclxuICAgIH1cclxuICAgIGFwcGx5KHAxOiBJUGFydGljbGUsIHAyOiBJUGFydGljbGUpOiBWZWN0b3IzW10ge1xyXG4gICAgICAgIGNvbnN0IHJfdmVjID0gcDEuZ2V0UG9zaXRpb24oKS5zdWIocDIuZ2V0UG9zaXRpb24oKSk7XHJcbiAgICAgICAgbGV0IHIgPSAxIC8gdGhpcy52ZWNfbGVuZ3RoX3NxdWFyZWQocl92ZWMpO1xyXG4gICAgICAgIGxldCBmMSA9IG5ldyBWZWN0b3IzKCk7XHJcbiAgICAgICAgbGV0IGYyID0gbmV3IFZlY3RvcjMoKTtcclxuICAgICAgICBpZiAociA+IDApIHtcclxuICAgICAgICAgICAgLy8gY29uc3QgdW5pdF9yID0gcl92ZWMuY2xvbmUoKTtcclxuICAgICAgICAgICAgY29uc3QgdW5pdF9yID0gcl92ZWMubm9ybWFsaXplKCk7XHJcbiAgICAgICAgICAgIGYxID0gdW5pdF9yLmNsb25lKCkubXVsdGlwbHlTY2FsYXIoLXRoaXMuRyAqIHAyLmdldE1hc3MoKSAqIChyKSk7XHJcbiAgICAgICAgICAgIGYyID0gdW5pdF9yLmNsb25lKCkubXVsdGlwbHlTY2FsYXIodGhpcy5HICogcDEuZ2V0TWFzcygpICogKHIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtmMSwgZjJdO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBjYWxjdWxhdGVzIHRoZSB2YWx1ZSBvZiBHIGZvciBuZXcgdW5pdHMgb2YgZGlzdGFuY2UsIG1hc3MgYW5kIHRpbWVcclxuICAgICAqIEBrZyBOdW1iZXIgb2YgS2lsb2dyYW1zIHRoYXQgZ28gaW50byB0aGUgbmV3IHVuaXQgb2YgbWFzc1xyXG4gICAgICogQG0gTnVtYmVyIG9mIG1ldGVycyB0aGF0IGdvIGludG8gdGhlIG5ldyB1bml0IG9mIGRpc3RhbmNlXHJcbiAgICAgKiBAcyBOdW1iZXIgb2Ygc2Vjb25kcyB0aGF0IGdvIGludG8gdGhlIG5ldyB1bml0IG9mIHRpbWVcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGNhbGN1bGF0ZShrZzogbnVtYmVyLCBtOiBudW1iZXIsIHM6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgY29uc3QgZyA9IHRoaXMuR1JBVklUQVRJT05fQ09OU1RBTlQgKiBrZyAqIHMgKiBzIC8gKG0gKiBtICogbSk7XHJcbiAgICAgICAgcmV0dXJuIGc7XHJcbiAgICB9XHJcbiAgICBzZXQgRyhnOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9HID0gZztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgRygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9HO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBhcnRpY2xlU3lzdGVtLCBQYXJ0aWNsZURlcml2YXRpdmUgfSBmcm9tIFwiLi9wYXJ0aWNsZS1zeXN0ZW0vcGFydGljbGUtc3lzdGVtXCI7XHJcbmltcG9ydCB7IFNwYWNlUGFydGljbGUgfSBmcm9tIFwiLi9zcGFjZS1wYXJ0aWNsZVwiO1xyXG5pbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSBcInRocmVlXCI7XHJcbmltcG9ydCB7IFRpbWVQcm9maWxlIH0gZnJvbSBcIi4vYm9pbGVycGxhdGUvdGltZS1wcm9maWxlXCI7XHJcbmltcG9ydCB7IFRpbWVQcm9maWxlciB9IGZyb20gXCIuL2JvaWxlcnBsYXRlL3RpbWUtcHJvZmlsZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBCbGFja0hvbGVQYXJ0aWNsZVN5c3RlbSBleHRlbmRzIFBhcnRpY2xlU3lzdGVtIHtcclxuICAgIGV2ZW50SG9yaXpvbiA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcclxuICAgIGV2ZW50SG9yaXpvbjIgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XHJcbiAgICBwcml2YXRlIG15cHJvZmlsZXIgPSBuZXcgVGltZVByb2ZpbGVyKCk7XHJcbiAgICBzZXRFdmVudEhvcml6b24oc2Nod2FyemNoaWxkUmFkaXVzOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLmV2ZW50SG9yaXpvbiA9IHNjaHdhcnpjaGlsZFJhZGl1cztcclxuXHJcbiAgICB9XHJcbiAgICBjYWxjdWxhdGVEZXJpdmF0aXZlKGRlcml2YXRpdmU6IFBhcnRpY2xlRGVyaXZhdGl2ZSk6IFBhcnRpY2xlRGVyaXZhdGl2ZSB7XHJcbiAgICAgICAgLy8gY2xlYXIgdGhlIGRlcml2YXRpdmUgZmlyc3RcclxuICAgICAgICB0aGlzLnBhcnRpY2xlcy5mb3JFYWNoKChwLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZlbCA9IHAuZ2V0VmVsb2NpdHkoKTtcclxuICAgICAgICAgICAgZGVyaXZhdGl2ZS5zZXQoaSwgW3ZlbC54LCB2ZWwueSwgdmVsLnosIDAsIDAsIDBdKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmZvcmNlcy5mb3JFYWNoKGZvcmNlID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaiA9IDA7IC8vIG9ubHkgY2FsY3VsYXRlIHdpdGggcmVzcGVjdCB0byB0aGUgYmxhY2sgaG9sZVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMucGFydGljbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgICAgICAgICAvLyBPbmx5IHVwZGF0ZSBwaG90b25zIHVudGlsIHdlIGZpZ3VyZSBvdXQgaG93IHRvIHVwZGF0ZSBwYXJ0aWNsZXMgaW4gT2N0cmVlXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJ0aWNsZXNbaV0uZ2V0VHlwZSgpID09IFNwYWNlUGFydGljbGUuUEhPVE9OKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZvcmNlcyA9IGZvcmNlLmFwcGx5KHRoaXMucGFydGljbGVzW2ldLCB0aGlzLnBhcnRpY2xlc1tqXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVyaXZhdGl2ZS5hZGQoaSwgWzAsIDAsIDAsIGZvcmNlc1swXS54LCBmb3JjZXNbMF0ueSwgZm9yY2VzWzBdLnpdKTtcclxuICAgICAgICAgICAgICAgICAgICBkZXJpdmF0aXZlLmFkZChqLCBbMCwgMCwgMCwgZm9yY2VzWzFdLngsIGZvcmNlc1sxXS55LCBmb3JjZXNbMV0uel0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgdGhpcyk7XHJcblxyXG4gICAgICAgIC8vIHRoaXMuZm9yY2VzLmZvckVhY2goZm9yY2UgPT4ge1xyXG4gICAgICAgIC8vICAgICBjb25zdCBqID0gMTsgLy8gb25seSBjYWxjdWxhdGUgd2l0aCByZXNwZWN0IHRvIHRoZSBibGFjayBob2xlXHJcbiAgICAgICAgLy8gICAgIGZvciAobGV0IGkgPSAyOyBpIDwgdGhpcy5wYXJ0aWNsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvLyAgICAgICAgIC8vIFRPRE9cclxuICAgICAgICAvLyAgICAgICAgIC8vIE9ubHkgdXBkYXRlIHBob3RvbnMgdW50aWwgd2UgZmlndXJlIG91dCBob3cgdG8gdXBkYXRlIHBhcnRpY2xlcyBpbiBPY3RyZWVcclxuICAgICAgICAvLyAgICAgICAgIGlmICh0aGlzLnBhcnRpY2xlc1tpXS5nZXRUeXBlKCkgPT0gU3BhY2VQYXJ0aWNsZS5QSE9UT04pIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBsZXQgZm9yY2VzID0gZm9yY2UuYXBwbHkodGhpcy5wYXJ0aWNsZXNbaV0sIHRoaXMucGFydGljbGVzW2pdKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICBkZXJpdmF0aXZlLmFkZChpLCBbMCwgMCwgMCwgZm9yY2VzWzBdLngsIGZvcmNlc1swXS55LCBmb3JjZXNbMF0uel0pO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGRlcml2YXRpdmUuYWRkKGosIFswLCAwLCAwLCBmb3JjZXNbMV0ueCwgZm9yY2VzWzFdLnksIGZvcmNlc1sxXS56XSk7XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9LCB0aGlzKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGRlcml2YXRpdmU7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVBbGxQYXJ0aWNsZXMoKSB7XHJcbiAgICAgICAgdGhpcy5wYXJ0aWNsZXMuZm9yRWFjaCgocGFydGljbGUsIGkpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGFydGljbGVzW2ldLmdldFR5cGUoKSA9PSBTcGFjZVBhcnRpY2xlLlBIT1RPTikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZCA9IHRoaXMuZGVyaXZhdGl2ZS5nZXQoaSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwb3MgPSBwYXJ0aWNsZS5nZXRQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdiA9IHBhcnRpY2xlLmdldFZlbG9jaXR5KCk7XHJcbiAgICAgICAgICAgICAgICBwYXJ0aWNsZS5zZXRQb3NpdGlvbihwb3MueCArIGRbMF0sIHBvcy55ICsgZFsxXSwgcG9zLnogKyBkWzJdKTtcclxuICAgICAgICAgICAgICAgIHBhcnRpY2xlLnNldFZlbG9jaXR5KHYueCArIGRbM10sIHYueSArIGRbNF0sIHYueiArIGRbNV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgdGhpcyk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVIb29rKCkge1xyXG4gICAgICAgIGNvbnN0IGxlbiA9IHRoaXMucGFydGljbGVzLmxlbmd0aDtcclxuICAgICAgICBmb3IgKGxldCBpID0gbGVuIC0gMTsgaSA+IDA7IGktLSkge1xyXG4gICAgICAgICAgICBsZXQgaG9sZSA9IHRoaXMucGFydGljbGVzWzBdO1xyXG4gICAgICAgICAgICBsZXQgdmVjID0gbmV3IFZlY3RvcjMoKS5zdWJWZWN0b3JzKGhvbGUuZ2V0UG9zaXRpb24oKSwgdGhpcy5wYXJ0aWNsZXNbaV0uZ2V0UG9zaXRpb24oKSk7XHJcbiAgICAgICAgICAgIGlmICh2ZWMubGVuZ3RoKCkgPCB0aGlzLmV2ZW50SG9yaXpvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJ0aWNsZXNbaV0ub25EZWF0aCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVQYXJ0aWNsZShpKTtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGhvbGUgPSB0aGlzLnBhcnRpY2xlc1sxXTtcclxuICAgICAgICAgICAgLy8gdmVjID0gbmV3IFZlY3RvcjMoKS5zdWJWZWN0b3JzKGhvbGUuZ2V0UG9zaXRpb24oKSwgdGhpcy5wYXJ0aWNsZXNbaV0uZ2V0UG9zaXRpb24oKSk7XHJcbiAgICAgICAgICAgIC8vIGlmICh2ZWMubGVuZ3RoKCkgPCB0aGlzLmV2ZW50SG9yaXpvbjIpIHtcclxuICAgICAgICAgICAgLy8gICAgIHRoaXMucGFydGljbGVzW2ldLm9uRGVhdGgoKTtcclxuICAgICAgICAgICAgLy8gICAgIHRoaXMucmVtb3ZlUGFydGljbGUoaSk7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBUaW1lUHJvZmlsZSB9IGZyb20gXCIuL3RpbWUtcHJvZmlsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRpbWVQcm9maWxlciB7XHJcbiAgICBwcml2YXRlIHRpbWVQcm9maWxlczogTWFwPHN0cmluZywgVGltZVByb2ZpbGU+XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnRpbWVQcm9maWxlcyA9IG5ldyBNYXA8c3RyaW5nLCBUaW1lUHJvZmlsZT4oKTtcclxuICAgIH1cclxuICAgIHN0YXJ0KG5hbWU6IHN0cmluZywgaW50ZXJ2YWwgPSAxKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudGltZVByb2ZpbGVzLmhhcyhuYW1lKSkge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVQcm9maWxlcy5nZXQobmFtZSkuc3RhcnQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBwcm9maWxlID0gbmV3IFRpbWVQcm9maWxlKG5hbWUsIGludGVydmFsKTtcclxuICAgICAgICAgICAgdGhpcy50aW1lUHJvZmlsZXMuc2V0KG5hbWUsIHByb2ZpbGUpO1xyXG4gICAgICAgICAgICBwcm9maWxlLnN0YXJ0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RvcChuYW1lOiBzdHJpbmcsIGludGVydmFsID0gMSkge1xyXG4gICAgICAgIGlmICh0aGlzLnRpbWVQcm9maWxlcy5oYXMobmFtZSkpIHtcclxuICAgICAgICAgICAgdGhpcy50aW1lUHJvZmlsZXMuZ2V0KG5hbWUpLnN0b3AoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBwcm9maWxlID0gbmV3IFRpbWVQcm9maWxlKG5hbWUsIGludGVydmFsKTtcclxuICAgICAgICAgICAgdGhpcy50aW1lUHJvZmlsZXMuc2V0KG5hbWUsIHByb2ZpbGUpO1xyXG4gICAgICAgICAgICBwcm9maWxlLnN0b3AoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBJUmF5RW1pdHRlciB9IGZyb20gXCIuL2ktcmF5LWVtaXR0ZXJcIjtcclxuaW1wb3J0IHsgVmVjdG9yMiwgTWl4T3BlcmF0aW9uLCBWZWN0b3IzIH0gZnJvbSBcInRocmVlXCI7XHJcbmltcG9ydCB7IElSYXlUcmFjZXIgfSBmcm9tIFwiLi9pLXJheXRyYWNlclwiO1xyXG5pbXBvcnQgeyBSYXlUcmFjaW5nUGhvdG9uR2VuZXJhdG9yIH0gZnJvbSBcIi4vcGluLWhvbGUtY2FtZXJhLlwiO1xyXG5pbXBvcnQgeyBQaXhlbFJheSB9IGZyb20gXCIuL3BpeGVsLXJheVwiO1xyXG5cclxuLyoqXHJcbiAqIFRoZSBWYXJpYWJsZVJheUVtaXR0ZXIgd2lsbCBlbWl0IHJheXMgZnJvbSB0aGUgY2FtZXJhXHJcbiAqIGluIGEgcmVjdXJzaXZlIG1hbm5lci4gSXQgd2lsbCBzdWJkaXZpZGUgdGhlIGNhbnZhcyBpbnRvXHJcbiAqIE4gcmVnaW9ucyBhbmQgc2VuZCBSIHJheXMgZnJvbSB0aGVzZSByZWdpb25zLiBJZiBzb21lIG9iamVjdFxyXG4gKiB3YXMgaGl0IGJ5IHRoZXNlIHJheXMsIGl0IHdvdWxkIHN1YmRpdmlkZSB0aGF0IHJlZ2lvbiBpbnRvIFxyXG4gKiBOIHNtYWxsZXIgcmVnaW9ucyBhbmQgcmVwZWF0XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVmFyaWFibGVSYXlFbWl0dGVyIGltcGxlbWVudHMgSVJheUVtaXR0ZXIge1xyXG4gICAgcHJpdmF0ZSByZXNvbHV0aW9uOiBWZWN0b3IyO1xyXG4gICAgcHJpdmF0ZSByZWdpb25zOiBBcnJheTxWZWN0b3IyPjtcclxuICAgIHByaXZhdGUgcGl4ZWxNYXA6IEFycmF5PG51bWJlcj47XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IE5fUkVHSU9OX0xFTiA9IDE2O1xyXG4gICAgcHJpdmF0ZSByYXl0cmFjZXI6IElSYXlUcmFjZXI7XHJcbiAgICBwcml2YXRlIGdlbmVyYXRvcjogUmF5VHJhY2luZ1Bob3RvbkdlbmVyYXRvcjtcclxuICAgIHByaXZhdGUgTUFYX0VNSVNTSU9OU19GUk9NX1BJWEVMID0gMTtcclxuICAgIHByaXZhdGUgcmF5RW1pdHRlZENvdW50OiBBcnJheTxudW1iZXI+O1xyXG4gICAgY29uc3RydWN0b3IocmVzb2x1dGlvbjogVmVjdG9yMiwgcmF5dHJhY2VyOiBJUmF5VHJhY2VyLCBnZW5lcmF0b3I6IFJheVRyYWNpbmdQaG90b25HZW5lcmF0b3IpIHtcclxuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xyXG4gICAgICAgIHRoaXMucGl4ZWxNYXAgPSBuZXcgQXJyYXk8bnVtYmVyPihyZXNvbHV0aW9uLnggKiByZXNvbHV0aW9uLnkpO1xyXG4gICAgICAgIHRoaXMucmF5RW1pdHRlZENvdW50ID0gbmV3IEFycmF5PG51bWJlcj4ocmVzb2x1dGlvbi54ICogcmVzb2x1dGlvbi55KTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMCA7IGkgPCB0aGlzLnJheUVtaXR0ZWRDb3VudC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnJheUVtaXR0ZWRDb3VudFtpXSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVnaW9ucyA9IG5ldyBBcnJheTxWZWN0b3IyPigpO1xyXG4gICAgICAgIHRoaXMucmF5dHJhY2VyID0gcmF5dHJhY2VyO1xyXG4gICAgICAgIHRoaXMuZ2VuZXJhdG9yID0gZ2VuZXJhdG9yO1xyXG4gICAgICAgIHRoaXMuZGl2aWRlQW5kUmFzc2lnblBpeGVscyhuZXcgVmVjdG9yMigwLCAwKSwgbmV3IFZlY3RvcjIocmVzb2x1dGlvbi54LCByZXNvbHV0aW9uLnkpKTtcclxuICAgIH1cclxuXHJcbiAgICBlbWl0KCk6IFBpeGVsUmF5W10ge1xyXG4gICAgICAgIGNvbnN0IGxlbiA9IHRoaXMucmVnaW9ucy5sZW5ndGggLyAyO1xyXG4gICAgICAgIGNvbnN0IHJheXMgPSBuZXcgQXJyYXk8UGl4ZWxSYXk+KCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBtaW4gPSB0aGlzLnJlZ2lvbnNbaSAqIDJdO1xyXG4gICAgICAgICAgICBjb25zdCBtYXggPSB0aGlzLnJlZ2lvbnNbaSAqIDIgKyAxXTtcclxuICAgICAgICAgICAgY29uc3QgcmF5ID0gdGhpcy5lbWl0RnJvbVJlZ2lvbihtaW4sIG1heCk7XHJcbiAgICAgICAgICAgIHJheXMucHVzaChyYXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmF5cztcclxuICAgIH1cclxuXHJcbiAgICB0ZXN0KCkge1xyXG4gICAgICAgIHRoaXMuZGl2aWRlQW5kUmFzc2lnblBpeGVscyhuZXcgVmVjdG9yMigwLCAwKSwgbmV3IFZlY3RvcjIoNjQsIDY0KSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJUaGUgcGl4ZWwgbWFwXCIsIHRoaXMucGl4ZWxNYXApO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmVnaW9uc1wiLCB0aGlzLnJlZ2lvbnMpO1xyXG4gICAgfVxyXG4gICAgZGl2aWRlQW5kUmFzc2lnblBpeGVscyhtaW46IFZlY3RvcjIsIG1heDogVmVjdG9yMikge1xyXG4gICAgICAgIGNvbnN0IGxlbiA9IHRoaXMucmVnaW9ucy5sZW5ndGg7XHJcbiAgICAgICAgY29uc3Qgd2lkdGggPSBtYXgueCAtIG1pbi54O1xyXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IG1heC55IC0gbWluLnk7XHJcbiAgICAgICAgaWYgKHdpZHRoIDw9IDEgfHwgaGVpZ2h0IDw9IDEpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLmRpdmlkZShtaW4sIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5OX1JFR0lPTl9MRU4gKiB0aGlzLk5fUkVHSU9OX0xFTjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCByZWdpb25fbWluID0gdGhpcy5yZWdpb25zW2xlbiArIChpICogMildO1xyXG4gICAgICAgICAgICBsZXQgcmVnaW9uX21heCA9IHRoaXMucmVnaW9uc1tsZW4gKyAoaSAqIDIpICsgMV07XHJcbiAgICAgICAgICAgIGxldCBtYXhfeCA9IE1hdGguZmxvb3IocmVnaW9uX21heC54KTtcclxuICAgICAgICAgICAgZm9yIChsZXQgdSA9IE1hdGguZmxvb3IocmVnaW9uX21pbi54KTsgdSA8IG1heF94OyB1KyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBtYXhfeSA9IE1hdGguZmxvb3IocmVnaW9uX21heC55KTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IHYgPSBNYXRoLmZsb29yKHJlZ2lvbl9taW4ueSk7IHYgPCBtYXhfeTsgdisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB2ICogdGhpcy5yZXNvbHV0aW9uLnggKyB1O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGl4ZWxNYXBbaW5kZXhdID0gbGVuICsgKDIgKiBpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBkaXZpZGUob2Zmc2V0OiBWZWN0b3IyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xyXG4gICAgICAgIGNvbnN0IE5fUkVHSU9OUyA9IHRoaXMuTl9SRUdJT05fTEVOICogdGhpcy5OX1JFR0lPTl9MRU47XHJcbiAgICAgICAgZm9yIChsZXQgdSA9IDA7IHUgPCBOX1JFR0lPTlM7IHUrKykge1xyXG4gICAgICAgICAgICBsZXQgaSA9IHUgJSB0aGlzLk5fUkVHSU9OX0xFTjtcclxuICAgICAgICAgICAgbGV0IGogPSBNYXRoLmZsb29yKHUgLyB0aGlzLk5fUkVHSU9OX0xFTik7XHJcbiAgICAgICAgICAgIGNvbnN0IG1pbiA9IG5ldyBWZWN0b3IyKHdpZHRoICogKGkgLyB0aGlzLk5fUkVHSU9OX0xFTiksIGhlaWdodCAqIChqIC8gdGhpcy5OX1JFR0lPTl9MRU4pKTtcclxuICAgICAgICAgICAgY29uc3QgbWF4ID0gbmV3IFZlY3RvcjIod2lkdGggKiAoKGkgKyAxKSAvIHRoaXMuTl9SRUdJT05fTEVOKSwgaGVpZ2h0ICogKChqICsgMSkgLyB0aGlzLk5fUkVHSU9OX0xFTikpO1xyXG4gICAgICAgICAgICBtaW4uYWRkKG9mZnNldCk7XHJcbiAgICAgICAgICAgIG1heC5hZGQob2Zmc2V0KTtcclxuICAgICAgICAgICAgdGhpcy5yZWdpb25zLnB1c2gobWluKTtcclxuICAgICAgICAgICAgdGhpcy5yZWdpb25zLnB1c2gobWF4KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbWl0RnJvbSh4OiBudW1iZXIsIHk6IG51bWJlcik6IFBpeGVsUmF5IHtcclxuICAgICAgICBjb25zdCByZWdpb25zID0gdGhpcy5nZXRSZWdpb24oeCwgeSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZW1pdEZyb21SZWdpb24ocmVnaW9uc1swXSwgcmVnaW9uc1sxXSk7XHJcbiAgICB9XHJcbiAgICBpbmNyZW1lbnRQaXhlbENvdW50KHg6IG51bWJlciwgeTogbnVtYmVyKSB7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSB5ICogdGhpcy5yZXNvbHV0aW9uLnggKyB4O1xyXG4gICAgICAgIHRoaXMucmF5RW1pdHRlZENvdW50W2luZGV4XSsrO1xyXG4gICAgfVxyXG4gICAgaGFzRXhjZWVkZWRSYXlDb3VudCh4OiBudW1iZXIsIHk6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0geSAqIHRoaXMucmVzb2x1dGlvbi54ICsgeDtcclxuICAgICAgICBjb25zdCBsaW1pdCA9IHRoaXMuTUFYX0VNSVNTSU9OU19GUk9NX1BJWEVMO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJheUVtaXR0ZWRDb3VudFtpbmRleF0gPiBsaW1pdDtcclxuICAgIH1cclxuICAgIGVtaXRGcm9tUmVnaW9uKG1pbjogVmVjdG9yMiwgbWF4OiBWZWN0b3IyKTogUGl4ZWxSYXkge1xyXG4gICAgICAgIGNvbnN0IHUgPSBNYXRoLmZsb29yKG1pbi54ICsgTWF0aC5yYW5kb20oKSAqIChtYXgueCAtIG1pbi54KSk7XHJcbiAgICAgICAgY29uc3QgdiA9IE1hdGguZmxvb3IobWluLnkgKyBNYXRoLnJhbmRvbSgpICogKG1heC55IC0gbWluLnkpKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbWl0RnJvbVBpeGVsKHUsIHYpO1xyXG4gICAgfVxyXG4gICAgZW1pdEZyb21QaXhlbChpOiBudW1iZXIsIGo6IG51bWJlcik6IFBpeGVsUmF5IHtcclxuICAgICAgICBpZiAodGhpcy5oYXNFeGNlZWRlZFJheUNvdW50KGksIGopKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiTWF4IGNvdW50IHdhcyByZWFjaGVkXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGVydHVyYnggPSAwOyBNYXRoLnJhbmRvbSgpICogMC42ICsgMC4yO1xyXG4gICAgICAgIGNvbnN0IHBlcnR1cmJ5ID0gMDsgTWF0aC5yYW5kb20oKSAqIDAuNiArIDAuMjtcclxuICAgICAgICBjb25zdCB4ID0gKGkgKyBwZXJ0dXJieCkgLyB0aGlzLnJlc29sdXRpb24ueCAqIHRoaXMucmF5dHJhY2VyLmdldFdpZHRoKCkgLSB0aGlzLnJheXRyYWNlci5nZXRXaWR0aCgpIC8gMjtcclxuICAgICAgICBjb25zdCB5ID0gKGogKyBwZXJ0dXJieSkgLyB0aGlzLnJlc29sdXRpb24ueSAqIHRoaXMucmF5dHJhY2VyLmdldEhlaWdodCgpIC0gdGhpcy5yYXl0cmFjZXIuZ2V0SGVpZ2h0KCkgLyAyO1xyXG4gICAgICAgIGNvbnN0IHogPSB0aGlzLnJheXRyYWNlci5nZXREaXN0YW5jZVRvQ2FudmFzKCk7XHJcbiAgICAgICAgLy8gVHJhbnNmb3JtIHRoaXMgdmVsb2NpdHkgYnkgdGhlIGNhbWVyYSdzIHRyYW5zZm9ybVxyXG4gICAgICAgIGNvbnN0IHZlbCA9IG5ldyBWZWN0b3IzKHgsIHksIHopO1xyXG4gICAgICAgIHZlbC5hcHBseVF1YXRlcm5pb24odGhpcy5yYXl0cmFjZXIuZ2V0Um90YXRpb24oKSk7XHJcbiAgICAgICAgdGhpcy5nZW5lcmF0b3IucGFyYW1ldGVyKGksIGosIHZlbCk7XHJcbiAgICAgICAgY29uc3QgcmF5ID0gdGhpcy5nZW5lcmF0b3IuZ2VuZXJhdGUoKTtcclxuICAgICAgICByYXkuc2V0UG9zaXRpb24odGhpcy5yYXl0cmFjZXIuZ2V0UG9zaXRpb24oKS54LCB0aGlzLnJheXRyYWNlci5nZXRQb3NpdGlvbigpLnksIHRoaXMucmF5dHJhY2VyLmdldFBvc2l0aW9uKCkueik7XHJcbiAgICAgICAgdGhpcy5pbmNyZW1lbnRQaXhlbENvdW50KGksIGopO1xyXG4gICAgICAgIHJldHVybiByYXk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGdldFJlZ2lvbkluZGV4KHg6IG51bWJlciwgeTogbnVtYmVyKSB7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSB5ICogdGhpcy5yZXNvbHV0aW9uLnggKyB4O1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBpeGVsTWFwW2luZGV4XTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgZ2V0UmVnaW9uKHg6IG51bWJlciwgeTogbnVtYmVyKTogVmVjdG9yMltdIHtcclxuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuZ2V0UmVnaW9uSW5kZXgoeCwgeSk7XHJcbiAgICAgICAgY29uc3QgbWluID0gdGhpcy5yZWdpb25zW2luZGV4XTtcclxuICAgICAgICBjb25zdCBtYXggPSB0aGlzLnJlZ2lvbnNbaW5kZXggKyAxXTtcclxuICAgICAgICByZXR1cm4gW21pbiwgbWF4XTtcclxuICAgIH1cclxuICAgIG9iamVjdFdhc0hpdCh4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiTmV3IEVtaXNzaW9uc1wiKTtcclxuICAgICAgICBjb25zdCByZWdpb25zID0gdGhpcy5nZXRSZWdpb24oeCwgeSk7XHJcbiAgICAgICAgY29uc3QgbGVuID0gdGhpcy5yZWdpb25zLmxlbmd0aDtcclxuICAgICAgICB0aGlzLmRpdmlkZUFuZFJhc3NpZ25QaXhlbHMocmVnaW9uc1swXSwgcmVnaW9uc1sxXSk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IGxlbjsgaSA8IHRoaXMucmVnaW9ucy5sZW5ndGg7IGkgKz0gMikge1xyXG4gICAgICAgICAgICBjb25zdCByYXkgPSB0aGlzLmVtaXRGcm9tUmVnaW9uKHRoaXMucmVnaW9uc1tpXSwgdGhpcy5yZWdpb25zW2kgKyAxXSk7XHJcbiAgICAgICAgICAgIHRoaXMucmF5dHJhY2VyLnBvc3RFbWl0KHJheSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSVJheVRyYWNlYWJsZSB9IGZyb20gXCIuLi9pLXJheXRyYWNlYWJsZVwiO1xyXG5pbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSBcInRocmVlXCI7XHJcblxyXG4vKipcclxuICogQW4gb2N0cmVlIGlzIGEgdHJlZSB3aGVyZSBlYWNoIG5vZGUgaGFzIDggY2hpbGRyZW4uIEhlcmUgd2UgcGFydGl0aW9uXHJcbiAqIHNwYWNlIGludG8gOCBjb21wb25lbnRzIGFuZCBrZWVwIGRvaW5nIHRoaXMgdW50aWwgd2UgcmVhY2ggYSBtYXhpbXVtIGRlcHRoXHJcbiAqIG9yIGhhdmUgbm8gY2hpbGRyZW4gaW4gdGhhdCBzcGFjZS5cclxuICogSG93IHdpbGwgd2UgdXBkYXRlIHRoZSBvY3RyZWUgd2hlbiB0aGUgcGFydGljbGVzIGFyZSBtb3Zpbmc/XHJcbiAqIEF4aXMgYWxpZ25lZCBwYXJ0aXRpb25pbmcgXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgT2N0cmVlIHtcclxuICAgIHByaXZhdGUgbm9kZTogQXJyYXk8T2N0cmVlPjtcclxuICAgIHByaXZhdGUgb2JqZWN0czogQXJyYXk8SVJheVRyYWNlYWJsZT47XHJcbiAgICBwcml2YXRlIGNvcm5lcnM6IEFycmF5PFZlY3RvcjM+O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBNQVhfT0JKRUNUU19JTl9OT0RFID0gMztcclxuICAgIHByaXZhdGUgbWluRGlhZ0xlbmd0aCA9IDA7XHJcbiAgICBwcml2YXRlIG1heERlcHRoID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xyXG4gICAgcHJpdmF0ZSBkZXB0aCA9IDA7XHJcbiAgICAvLyBUT0RPIDogdGhpcyBzaG91bGQgbm90IGJlIHJheSB0cmFjZWFibGUgYnV0IGNvbGxpZGFibGVcclxuICAgIGNvbnN0cnVjdG9yKG9iamVjdHM6IEFycmF5PElSYXlUcmFjZWFibGU+LCBjb3JuZXIxPzogVmVjdG9yMywgY29ybmVyMj86IFZlY3RvcjMsIG1pbkRpYWdMZW5ndGggPSAwLCBtYXhfZGVwdGggPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIGRlcHRoID0gMCkge1xyXG4gICAgICAgIHRoaXMubm9kZSA9IG5ldyBBcnJheTxPY3RyZWU+KCk7XHJcbiAgICAgICAgdGhpcy5zZXRNaW5EaWFnTGVuZ3RoKG1pbkRpYWdMZW5ndGgpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlKG9iamVjdHMsIGNvcm5lcjEsIGNvcm5lcjIpO1xyXG4gICAgICAgIHRoaXMuY29ybmVycyA9IG5ldyBBcnJheTxWZWN0b3IzPigyKTtcclxuICAgICAgICB0aGlzLmNvcm5lcnNbMF0gPSBjb3JuZXIxO1xyXG4gICAgICAgIHRoaXMuY29ybmVyc1sxXSA9IGNvcm5lcjI7XHJcbiAgICAgICAgdGhpcy5tYXhEZXB0aCA9IG1heF9kZXB0aDtcclxuICAgICAgICB0aGlzLmRlcHRoID0gZGVwdGg7XHJcbiAgICB9XHJcbiAgICBzZXRNaW5EaWFnTGVuZ3RoKGxlbmd0aDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5taW5EaWFnTGVuZ3RoID0gbGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRoaXMgY29kZSByYW4gZmxhd2xlc3NseSBvbiB0aGUgZmlyc3QgcnVuXHJcbiAgICBwcml2YXRlIGNyZWF0ZShvYmplY3RzOiBBcnJheTxJUmF5VHJhY2VhYmxlPiwgY29ybmVyMTogVmVjdG9yMywgY29ybmVyMjogVmVjdG9yMykge1xyXG4gICAgICAgIC8vIFB1dHRpbmcgdGhpcyBvdXRzaWRlIGZvciBsYXJnZXIgaW50ZXJzZWN0aW9uIHRlc3RzXHJcbiAgICAgICAgdGhpcy5vYmplY3RzID0gb2JqZWN0cztcclxuICAgICAgICBjb25zdCBkaW1lbnNpb25zID0gW2Nvcm5lcjIueCAtIGNvcm5lcjEueCwgY29ybmVyMi55IC0gY29ybmVyMS55LCBjb3JuZXIyLnogLSBjb3JuZXIxLnpdO1xyXG4gICAgICAgIC8vIERvbnQgY3JlYXRlIGNoaWxkcmVuIGlmIHRoZXkgYXJlIHNtYWxsZXIgdGhhbiB0aGlzIGxlbmd0aFxyXG4gICAgICAgIGxldCBkaWFnTGVuZ3RoID0gZGltZW5zaW9uc1swXSAqIGRpbWVuc2lvbnNbMF0gKyBkaW1lbnNpb25zWzFdICogZGltZW5zaW9uc1sxXSArIGRpbWVuc2lvbnNbMl0gKiBkaW1lbnNpb25zWzJdO1xyXG4gICAgICAgIGRpYWdMZW5ndGggPSBkaWFnTGVuZ3RoIC8gNDtcclxuICAgICAgICBpZiAob2JqZWN0cy5sZW5ndGggPD0gdGhpcy5NQVhfT0JKRUNUU19JTl9OT0RFIHx8IHRoaXMubWluRGlhZ0xlbmd0aCA+PSBkaWFnTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZGVwdGggPj0gdGhpcy5tYXhEZXB0aCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgY29ybmVycyBvZiB0aGUgbmV3IGN1YmVzXHJcbiAgICAgICAgY29uc3QgY29ybmVycyA9IG5ldyBBcnJheTxWZWN0b3IzPigpO1xyXG4gICAgICAgIGNvbnN0IG1pZCA9IG5ldyBWZWN0b3IzKCkuYWRkVmVjdG9ycyhjb3JuZXIxLCBjb3JuZXIyKS5tdWx0aXBseVNjYWxhcigwLjUpO1xyXG4gICAgICAgIGNvcm5lcnMucHVzaChjb3JuZXIxKTtcclxuICAgICAgICBjb3JuZXJzLnB1c2gobWlkKTtcclxuICAgICAgICBkaW1lbnNpb25zLmZvckVhY2goKGQsIGlkeCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBsZW4gPSBjb3JuZXJzLmxlbmd0aDtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYyA9IGNvcm5lcnNbaV0uY2xvbmUoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFyciA9IGMudG9BcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgYXJyW2lkeF0gPSBhcnJbaWR4XSArIGQgLyAyO1xyXG4gICAgICAgICAgICAgICAgYy5mcm9tQXJyYXkoYXJyKTtcclxuICAgICAgICAgICAgICAgIGNvcm5lcnMucHVzaChjKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFRPRE86IG9ubHkgY29uc2lkZXJpbmcgcG9pbnRzIGZvciBub3cgd2l0aCAwIHJhZGl1c1xyXG4gICAgICAgIC8vIGZvciBlYWNoIGN1YmUsIGNoZWNrIGlmIHRoZSBwYXJ0aWNsZSBpcyBpbiBpdFxyXG4gICAgICAgIC8vIGlmIGl0IGlzLCBhZGQgaXQgdG8gaXRzIGFycmF5IGxpc3RcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBzdWJvYmplY3RzID0gbmV3IEFycmF5PElSYXlUcmFjZWFibGU+KCk7XHJcbiAgICAgICAgICAgIG9iamVjdHMuZm9yRWFjaChvID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChvLmludGVyc2VjdHNXaXRoQm94KGNvcm5lcnNbMiAqIGldLCBjb3JuZXJzWzIgKiBpICsgMV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3Vib2JqZWN0cy5wdXNoKG8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gRmluaXNoZWQgY3JlYXRpbmcgYW4gYXJyYXkgb2Ygb2JqZWN0cyB0aGF0IGFyZSBjb250YWluZWQgaW4gdGhpcyBib3hcclxuICAgICAgICAgICAgLy8gQ3JlYXRlIGl0cyBvd24gb2N0cmVlXHJcbiAgICAgICAgICAgIGlmIChzdWJvYmplY3RzLmxlbmd0aCA+IDAgJiYgc3Vib2JqZWN0cy5sZW5ndGggPCBvYmplY3RzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJDcmVhdGluZyBhbiBvY3RyZWUgd2l0aCB7MH0gb2JqZWN0c1wiLCBzdWJvYmplY3RzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGUucHVzaChuZXcgT2N0cmVlKHN1Ym9iamVjdHMsIGNvcm5lcnNbMiAqIGldLCBjb3JuZXJzWzIgKiBpICsgMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5taW5EaWFnTGVuZ3RoLCB0aGlzLm1heERlcHRoLCB0aGlzLmRlcHRoICsgMSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldHVybnMgYW4gb2N0cmVlIG5vZGUgY29udGFpbmluZyB0aGUgcG9pbnRcclxuICAgIC8vIE9yIG5vbmUgaWYgaXQgZG9lc24ndFxyXG4gICAgcHVibGljIGZpbmQocG9pbnQ6IFZlY3RvcjMpOiBPY3RyZWUgfCBudWxsIHtcclxuICAgICAgICBpZiAodGhpcy5jb250YWlucyhwb2ludCkpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5vZGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRyZWUgPSB0aGlzLm5vZGVbaV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWFyY2ggPSB0cmVlLmZpbmQocG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlYXJjaCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWFyY2g7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUaGlzIGlzIHRyaWNreSBidXNpbmVzc1xyXG4gICAgLy8gVE9ETyA6IElmIGJvdGggdGhlIHBvaW50cyBhcmUgcHJlc2VudCBpbiBvbmUgbm9kZSwgd2UncmUgZ29vZCBhbmQgY2FuIHJlY3Vyc2UgZG93blxyXG4gICAgLy8gSG93ZXZlciwgaWYgYm90aCBhcmUgaW4gZGlmZmVyZW50IG5vZGVzLCB0aGlzIGJlY29tZXMgYSBjaGFsbGVuZ2VcclxuICAgIC8vIFdlIGNvdWxkIHJldHVybiBib3RoIG9mIHRob3NlIHdob2xlIG5vZGVzLCBidXQgdGhhdCB3b3VsZCBiZSB0b28gbWFueVxyXG4gICAgLy8gV2UgY291bGQgZmluZCB0aGUgaW50ZXJzZWN0aW9ucyBvZiB0aGUgbm9kZXMgd2l0aCB0aGUgZWRnZSBvZiB0aGUgYm94ZXNcclxuICAgIC8vIGFuZCBzZWFyY2ggdGhvc2VcclxuICAgIC8vIFdlJ2xsIGlnbm9yZSB0aGF0IHNjZW5hcmlvIGZvciBub3dcclxuICAgIHB1YmxpYyBmaW5kUmF5KGZyb206IFZlY3RvcjMsIHRvOiBWZWN0b3IzKTogT2N0cmVlIHwgbnVsbCB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29udGFpbnMoZnJvbSkgJiYgdGhpcy5jb250YWlucyh0bykpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubm9kZS5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5vZGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRyZWUgPSB0aGlzLm5vZGVbaV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWFyY2ggPSB0cmVlLmZpbmRSYXkoZnJvbSwgdG8pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlYXJjaCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWFyY2g7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjb250YWlucyhwb2ludDogVmVjdG9yMyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmIChwb2ludC54ID4gTWF0aC5tYXgodGhpcy5jb3JuZXJzWzBdLngsIHRoaXMuY29ybmVyc1sxXS54KSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmIChwb2ludC55ID4gTWF0aC5tYXgodGhpcy5jb3JuZXJzWzBdLnksIHRoaXMuY29ybmVyc1sxXS55KSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmIChwb2ludC56ID4gTWF0aC5tYXgodGhpcy5jb3JuZXJzWzBdLnosIHRoaXMuY29ybmVyc1sxXS56KSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmIChwb2ludC54IDwgTWF0aC5taW4odGhpcy5jb3JuZXJzWzBdLngsIHRoaXMuY29ybmVyc1sxXS54KSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmIChwb2ludC55IDwgTWF0aC5taW4odGhpcy5jb3JuZXJzWzBdLnksIHRoaXMuY29ybmVyc1sxXS55KSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmIChwb2ludC56IDwgTWF0aC5taW4odGhpcy5jb3JuZXJzWzBdLnosIHRoaXMuY29ybmVyc1sxXS56KSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRPYmplY3RzKCkgeyByZXR1cm4gdGhpcy5vYmplY3RzOyB9XHJcbn0iLCJleHBvcnQgY2xhc3MgU2NhbGVkVW5pdHMge1xyXG4gICAgcHJpdmF0ZSBfbWV0cmVzOiBudW1iZXI7IC8vIHRoZSBudW1iZXIgb2YgbWV0cmVzIGluIG5ldyB1bml0XHJcbiAgICBwcml2YXRlIF9raWxvZ3JhbXM6IG51bWJlcjsgLy8gdGhlIG51bWJlciBvZiBraWxvZ3JhbXMgaW4gbmV3IHVuaXRcclxuICAgIHByaXZhdGUgX3NlY29uZHM6IG51bWJlcjsgLy8gdGhlIG51bWJlciBvZiBraWxvZ3JhbXMgaW4gbmV3IHVuaXRcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihtZXRyZXMgPSAxLCBrZ3MgPSAxLCBzZWNvbmRzID0gMSkge1xyXG4gICAgICAgIHRoaXMuX21ldHJlcyA9IG1ldHJlcztcclxuICAgICAgICB0aGlzLl9raWxvZ3JhbXMgPSBrZ3M7XHJcbiAgICAgICAgdGhpcy5fc2Vjb25kcyA9IHNlY29uZHM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIG5ldyB1bml0IG9mIG1ldHJlc1xyXG4gICAgICogQHBhcmFtIHZhbCBUaGUgbnVtYmVyIG9mIG1ldGVycyB0aGF0IGdvIGludG8gdGhlIG5ldyB1bml0IHdydCB0byB0aGUgdmFsdWUgZ2l2ZW4gaW4gdG9cclxuICAgICAqIEBwYXJhbSB0byBcclxuICAgICAqL1xyXG4gICAgc2V0TWV0cmVzU2NhbGUodmFsOiBudW1iZXIsIHRvID0gMSkge1xyXG4gICAgICAgIHRoaXMuX21ldHJlcyA9IHZhbCAvIHRvO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgbmV3IHVuaXQgb2Yga2dzXHJcbiAgICAgKiBAcGFyYW0gdmFsIFRoZSBudW1iZXIgb2Yga2dzIHRoYXQgZ28gaW50byB0aGUgbmV3IHVuaXQgd3J0IHRvIHRoZSB2YWx1ZSBnaXZlbiBpbiB0b1xyXG4gICAgICogQHBhcmFtIHRvIFxyXG4gICAgICovXHJcbiAgICBzZXRLZ3NTY2FsZSh2YWw6IG51bWJlciwgdG8gPSAxKSB7XHJcbiAgICAgICAgdGhpcy5fa2lsb2dyYW1zID0gdmFsIC8gdG87XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAgKiBTZXRzIHRoZSBuZXcgdW5pdCBvZiB0aW1lXHJcbiAgICAgICogQHBhcmFtIHZhbCBUaGUgbnVtYmVyIG9mIHNlY29uZHMgdGhhdCBnbyBpbnRvIHRoZSBuZXcgdW5pdCB3cnQgdG8gdGhlIHZhbHVlIGdpdmVuIGluIHRvXHJcbiAgICAgICogQHBhcmFtIHRvIFxyXG4gICAgICAqL1xyXG4gICAgc2V0VGltZVNjYWxlKHZhbDogbnVtYmVyLCB0byA9IDEpIHtcclxuICAgICAgICB0aGlzLl9zZWNvbmRzID0gdmFsIC8gdG87XHJcbiAgICB9XHJcbiAgICBnZXQgbWV0cmVzKCk6IG51bWJlciB7IHJldHVybiB0aGlzLl9tZXRyZXM7IH07XHJcbiAgICBnZXQga2dzKCk6IG51bWJlciB7IHJldHVybiB0aGlzLl9raWxvZ3JhbXM7IH07XHJcbiAgICBnZXQgc2Vjb25kcygpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5fc2Vjb25kczsgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdmFsdWUgb2YgdGhlIGRpc3RhbmNlIGluIG5ldyB1bml0c1xyXG4gICAgICogQHBhcmFtIHZhbCBUaGUgZGlzdGFuY2UgaW4gbWV0cmVzIHlvdSB3YW50IGluIHRoZSBuZXcgdW5pdHNcclxuICAgICAqL1xyXG4gICAgZ2V0U2NhbGVkRGlzdGFuY2UodmFsOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB2YWwgLyB0aGlzLl9tZXRyZXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHZhbHVlIG9mIHRoZSBtYXNzIGluIG5ldyB1bml0c1xyXG4gICAgICogQHBhcmFtIHZhbCBUaGUgbWFzcyBpbiBrZ3MgeW91IHdhbnQgaW4gdGhlIG5ldyB1bml0c1xyXG4gICAgICovXHJcbiAgICBnZXRTY2FsZWRNYXNzKHZhbDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdmFsIC8gdGhpcy5fa2lsb2dyYW1zO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB2YWx1ZSBvZiB0aGUgdGltZSBpbiBuZXcgdW5pdHNcclxuICAgICAqIEBwYXJhbSB2YWwgVGhlIHRpbWUgaW4gc2Vjb25kcyB5b3Ugd2FudCBpbiB0aGUgbmV3IHVuaXRzXHJcbiAgICAgKi9cclxuICAgIGdldFNjYWxlZFRpbWUodmFsOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB2YWwgLyB0aGlzLl9zZWNvbmRzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB2YWx1ZSBvZiB0aGUgdGltZSBpbiBzZWNvbmRzXHJcbiAgICAgKiBAcGFyYW0gdmFsIFRoZSB0aW1lIGluIG5ldyB1bml0cyB0aGF0IHlvdSB3YW50IGluIHNlY29uZHNcclxuICAgICAqL1xyXG4gICAgZ2V0VW5zY2FsZWRUaW1lKHZhbDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdmFsICogdGhpcy5fc2Vjb25kcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdmFsdWUgb2YgdGhlIHZlbG9jaXR5IGluIG5ldyB1bml0c1xyXG4gICAgICogQHBhcmFtIHZhbCBUaGUgdmVsb2NpdHkgaW4gbWV0cmVzL3NlY29uZCB5b3Ugd2FudCBpbiB0aGUgbmV3IHVuaXRzXHJcbiAgICAgKi9cclxuICAgIGdldFNjYWxlZFZlbG9jaXR5KHZhbDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdmFsICogdGhpcy5zZWNvbmRzIC8gdGhpcy5tZXRyZXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHZhbHVlIG9mIHRoZSB0aW1lIGluIHNlY29uZHNcclxuICAgICAqIEBwYXJhbSB2YWwgVGhlIHZlbG9jaXR5IGluIG5ldyB1bml0cyB0aGF0IHlvdSB3YW50IGluIG0vc1xyXG4gICAgICovXHJcbiAgICBnZXRVbnNjYWxlZFZlbG9jaXR5KHZhbDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdmFsICogdGhpcy5fbWV0cmVzIC8gdGhpcy5fc2Vjb25kcztcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSBcInRocmVlXCI7XHJcbmltcG9ydCB7IElSYXlUcmFjZWFibGUgfSBmcm9tIFwiLi4vLi4vcmF5dHJhY2luZy9pLXJheXRyYWNlYWJsZVwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJUGFydGljbGUge1xyXG4gICAgZ2V0VHlwZSgpOiBudW1iZXI7XHJcbiAgICBzZXRUeXBlKHR5cGU6IG51bWJlcik6IG51bWJlcjtcclxuICAgIGdldE1hc3MoKTogbnVtYmVyO1xyXG4gICAgc2V0TWFzcyhtYXNzOiBudW1iZXIpOiBhbnk7XHJcbiAgICBnZXRWZWxvY2l0eSgpOiBWZWN0b3IzO1xyXG4gICAgZ2V0UG9zaXRpb24oKTogVmVjdG9yMztcclxuICAgIHNldFBvc2l0aW9uKHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIpOiBWZWN0b3IzO1xyXG4gICAgc2V0VmVsb2NpdHkoeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlcik6IFZlY3RvcjM7XHJcbiAgICBnZXRSYWRpdXMoKTogbnVtYmVyO1xyXG4gICAgc2V0UmFkaXVzKHI6IG51bWJlcik6IG51bWJlcjtcclxuICAgIGdldExpZmVzcGFuKCk6IG51bWJlcjtcclxuICAgIHNldExpZmVzcGFuKGw6IG51bWJlcik6IG51bWJlcjtcclxuICAgIGdldEFnZSgpOiBudW1iZXI7XHJcbiAgICBzZXRBZ2UoYTogbnVtYmVyKTogbnVtYmVyO1xyXG4gICAgb25EZWF0aCgpOiBhbnk7XHJcbiAgICBpc0FsaXZlKCk6IGJvb2xlYW47XHJcbiAgICB1cGRhdGUoKTogYW55O1xyXG4gICAgY29weShwOiBJUGFydGljbGUpOiBhbnk7XHJcbn1cclxuZXhwb3J0IGNsYXNzIFBhcnRpY2xlIGltcGxlbWVudHMgSVBhcnRpY2xlLCBJUmF5VHJhY2VhYmxlIHtcclxuICAgIHByaXZhdGUgdmVsb2NpdHk6IFZlY3RvcjM7XHJcbiAgICBwcml2YXRlIHBvc2l0aW9uOiBWZWN0b3IzO1xyXG4gICAgcHJpdmF0ZSBtYXNzOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHJhZGl1czogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBsaWZlU3BhbjogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBhZ2U6IG51bWJlcjtcclxuICAgIHByaXZhdGUgdHlwZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBhbGl2ZTogYm9vbGVhbjtcclxuICAgIGNvbnN0cnVjdG9yKG1hc3MgPSAxLCByYWRpdXMgPSAxLCBsaWZlc3BhbiA9IDAsIHR5cGUgPSAxKSB7XHJcbiAgICAgICAgdGhpcy52ZWxvY2l0eSA9IG5ldyBWZWN0b3IzKCk7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBWZWN0b3IzKCk7XHJcbiAgICAgICAgdGhpcy5tYXNzID0gbWFzcztcclxuICAgICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcclxuICAgICAgICB0aGlzLmxpZmVTcGFuID0gbGlmZXNwYW47XHJcbiAgICAgICAgdGhpcy5hZ2UgPSAwO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBpbnRlcnNlY3RzV2l0aEJveChmcm9tOiBWZWN0b3IzLCB0bzogVmVjdG9yMyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IHBvcyA9IHRoaXMuZ2V0UG9zaXRpb24oKTtcclxuICAgICAgICBpZiAocG9zLnggPiAoTWF0aC5tYXgoZnJvbS54LCB0by54KSArIHRoaXMuZ2V0UmFkaXVzKCkpKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgaWYgKHBvcy55ID4gKE1hdGgubWF4KGZyb20ueSwgdG8ueSkgKyB0aGlzLmdldFJhZGl1cygpKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmIChwb3MueiA+IChNYXRoLm1heChmcm9tLnosIHRvLnopICsgdGhpcy5nZXRSYWRpdXMoKSkpIHJldHVybiBmYWxzZTtcclxuICAgICAgICBpZiAocG9zLnggPCAoTWF0aC5taW4oZnJvbS54LCB0by54KSAtIHRoaXMuZ2V0UmFkaXVzKCkpKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgaWYgKHBvcy55IDwgKE1hdGgubWluKGZyb20ueSwgdG8ueSkgLSB0aGlzLmdldFJhZGl1cygpKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmIChwb3MueiA8IChNYXRoLm1pbihmcm9tLnosIHRvLnopIC0gdGhpcy5nZXRSYWRpdXMoKSkpIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHNldFJhZGl1cyhyYWRpdXM6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmFkaXVzO1xyXG4gICAgfVxyXG4gICAgaXNBbGl2ZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hbGl2ZTtcclxuICAgIH1cclxuICAgIGludGVyc2VjdHNXaXRoUmF5KGZyb206IFZlY3RvcjMsIHRvOiBWZWN0b3IzLCByYWRpdXM6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgcGVycGVuZGljdWxhciBkaXN0YW5jZSBvZiB0aGlzIGxpbmUgXHJcbiAgICAgICAgLy8gd2l0aCB0aGUgcGFydGljbGUgYW5kIHNlZSBpZiBpdCBpcyBpbnNpZGUgdGhlIHJhZGl1c1xyXG4gICAgICAgIGNvbnN0IEFCID0gbmV3IFZlY3RvcjMoKS5zdWJWZWN0b3JzKHRvLCBmcm9tKS5ub3JtYWxpemUoKTtcclxuICAgICAgICBjb25zdCBBTyA9IHRoaXMuZ2V0UG9zaXRpb24oKS5zdWIoZnJvbSk7XHJcbiAgICAgICAgY29uc3QgQk8gPSB0aGlzLmdldFBvc2l0aW9uKCkuc3ViKHRvKTtcclxuICAgICAgICBjb25zdCBBT1Byb2pBQiA9IEFPLmRvdChBQik7XHJcbiAgICAgICAgY29uc3QgQk9Qcm9qQUIgPSBCTy5kb3QoQUIpO1xyXG4gICAgICAgIGlmIChBT1Byb2pBQiAqIEJPUHJvakFCID4gMCkge1xyXG4gICAgICAgICAgICAvLyBCb3RoIHByb2plY3Rpb25zIG9uIHRoZSBzYW1lIHNpZGVcclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgcmVkdWNpbmcgYnkgdGhlIHJhZGl1cyBtYWtlcyB0aGVtIG9uIG9wcG9zaXRlIHNpZGVzXHJcbiAgICAgICAgICAgIGxldCBsZXNzZXJQcm9qZWN0aW9uID0gTWF0aC5taW4oTWF0aC5hYnMoQU9Qcm9qQUIpLCBNYXRoLmFicyhCT1Byb2pBQikpO1xyXG4gICAgICAgICAgICBsZXQgYmlnZ2VyUHJvamVjdGlvbiA9IE1hdGgubWF4KE1hdGguYWJzKEFPUHJvakFCKSwgTWF0aC5hYnMoQk9Qcm9qQUIpKTtcclxuICAgICAgICAgICAgbGVzc2VyUHJvamVjdGlvbiA9IGxlc3NlclByb2plY3Rpb24gLSB0aGlzLnJhZGl1cyAtIHJhZGl1cztcclxuICAgICAgICAgICAgaWYgKGxlc3NlclByb2plY3Rpb24gKiBiaWdnZXJQcm9qZWN0aW9uID4gMCkgXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHByb2ogPSBBTy5zdWIoQUIubXVsdGlwbHlTY2FsYXIoQU9Qcm9qQUIpKTtcclxuICAgICAgICBpZiAocHJvai5sZW5ndGgoKSA8PSB0aGlzLmdldFJhZGl1cygpICsgcmFkaXVzKVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBjb3B5KHA6IElQYXJ0aWNsZSkge1xyXG4gICAgICAgIHRoaXMudmVsb2NpdHkgPSBwLmdldFZlbG9jaXR5KCk7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHAuZ2V0UG9zaXRpb24oKTtcclxuICAgICAgICB0aGlzLmFnZSA9IHAuZ2V0QWdlKCk7XHJcbiAgICAgICAgdGhpcy5tYXNzID0gcC5nZXRNYXNzKCk7XHJcbiAgICAgICAgdGhpcy5yYWRpdXMgPSBwLmdldFJhZGl1cygpO1xyXG4gICAgICAgIHRoaXMubGlmZVNwYW4gPSBwLmdldExpZmVzcGFuKCk7XHJcbiAgICAgICAgdGhpcy50eXBlID0gcC5nZXRUeXBlKCk7XHJcbiAgICB9XHJcbiAgICBnZXRUeXBlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZTtcclxuICAgIH1cclxuICAgIHNldFR5cGUodHlwZTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgICAgIHJldHVybiB0eXBlO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgfVxyXG4gICAgc2V0TGlmZXNwYW4obGlmZXNwYW46IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgdGhpcy5saWZlU3BhbiA9IGxpZmVzcGFuO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxpZmVTcGFuO1xyXG4gICAgfVxyXG4gICAgc2V0QWdlKGFnZTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICB0aGlzLmFnZSA9IGFnZTtcclxuICAgICAgICByZXR1cm4gdGhpcy5hZ2U7XHJcbiAgICB9XHJcbiAgICBnZXRMaWZlc3BhbigpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxpZmVTcGFuO1xyXG4gICAgfVxyXG4gICAgZ2V0QWdlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWdlO1xyXG4gICAgfVxyXG4gICAgZ2V0TWFzcygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1hc3M7XHJcbiAgICB9O1xyXG4gICAgc2V0TWFzcyhtOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLm1hc3MgPSBtO1xyXG4gICAgfVxyXG4gICAgZ2V0VmVsb2NpdHkoKTogVmVjdG9yMyB7IHJldHVybiB0aGlzLnZlbG9jaXR5LmNsb25lKCk7IH1cclxuICAgIGdldFBvc2l0aW9uKCk6IFZlY3RvcjMgeyByZXR1cm4gdGhpcy5wb3NpdGlvbi5jbG9uZSgpOyB9XHJcbiAgICBzZXRQb3NpdGlvbih4OiBudW1iZXIsIHk6IG51bWJlciwgejogbnVtYmVyKTogVmVjdG9yMyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24uc2V0KHgsIHksIHopO1xyXG4gICAgfVxyXG4gICAgc2V0VmVsb2NpdHkoeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlcik6IFZlY3RvcjMge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZlbG9jaXR5LnNldCh4LCB5LCB6KTtcclxuICAgIH07XHJcbiAgICBnZXRSYWRpdXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmFkaXVzO1xyXG4gICAgfVxyXG4gICAgb25EZWF0aCgpIHtcclxuICAgICAgICB0aGlzLmFsaXZlID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG59XHJcbiIsImltcG9ydCB7IFZlY3RvcjMsIFNjZW5lIH0gZnJvbSBcInRocmVlXCI7XHJcbmltcG9ydCB7IFNjYWxlZFVuaXRzIH0gZnJvbSBcIi4vc2NhbGVkLXVuaXRzXCI7XHJcbmltcG9ydCB7IElQYXJ0aWNsZSwgUGFydGljbGUgfSBmcm9tIFwiLi9wYXJ0aWNsZS1zeXN0ZW0vcGFydGljbGUvcGFydGljbGVcIjtcclxuaW1wb3J0IHsgSVBhcnRpY2xlR2VuZXJhdG9yIH0gZnJvbSBcIi4vcGFydGljbGUtc3lzdGVtL2dlbmVyYXRvci9pLXBhcnRpY2xlLWdlbmVyYXRvclwiO1xyXG5pbXBvcnQgeyBQYXJ0aWNsZVN5c3RlbSB9IGZyb20gXCIuL3BhcnRpY2xlLXN5c3RlbS9wYXJ0aWNsZS1zeXN0ZW1cIjtcclxuaW1wb3J0IHsgUGFydGljbGVHZW5lcmF0b3IgfSBmcm9tIFwiLi9wYXJ0aWNsZS1zeXN0ZW0vZ2VuZXJhdG9yL3BhcnRpY2xlLWdlbmVyYXRvclwiO1xyXG5pbXBvcnQgeyBQaG90b25HZW5lcmF0b3IgfSBmcm9tIFwiLi9wYXJ0aWNsZS1zeXN0ZW0vZ2VuZXJhdG9yL3Bob3Rvbi1nZW5lcmF0b3JcIjtcclxuaW1wb3J0IHsgSVJheVRyYWNpbmdDdXN0b21pemVyIH0gZnJvbSBcIi4vcmF5dHJhY2luZy9wYXJ0aWNsZS1zeXN0ZW0tcmF5dHJhY2VyXCI7XHJcbmltcG9ydCB7IElSYXlUcmFjZWFibGUgfSBmcm9tIFwiLi9yYXl0cmFjaW5nL2ktcmF5dHJhY2VhYmxlXCI7XHJcbmltcG9ydCB7IFZpc2libGVQYXJ0aWNsZSB9IGZyb20gXCIuL3BhcnRpY2xlLXN5c3RlbS9wYXJ0aWNsZS92aXNpYmxlLXBhcnRpY2xlXCI7XHJcbi8qKlxyXG4gKiBTcGFjZSBQYXJ0aWNsZSBpcyB0aGUgcGFydGljbGUgdGhhdCB3aWxsIHJldm9sdmUgYXJvdW5kIHRoZSBibGFjayBob2xlXHJcbiAqIEl0IHdpbGwgaG9sZCB0aGUgdmlzaWJsZSBwYXJ0aWNsZSBjbGFzIGZvciBub3cgdG8gc2hvdyB0aGUgcGFydGljbGVcclxuICogQnV0IHdpbGwgYmUgc3dpdGNoZWQgb3V0IGZvciBhIHBhcnRpY2xlIHRoYXQgZW1pdHMgcGhvdG9ucyBpbnRvIHRoZSBzeXN0ZW1cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTcGFjZVBhcnRpY2xlIGltcGxlbWVudHMgSVBhcnRpY2xlLCBJUmF5VHJhY2VhYmxlIHtcclxuICAgIHBhcnRpY2xlOiBWaXNpYmxlUGFydGljbGU7XHJcbiAgICBnZW5lcmF0b3I6IElQYXJ0aWNsZUdlbmVyYXRvcjtcclxuICAgIHBzOiBQYXJ0aWNsZVN5c3RlbTtcclxuICAgIHN0YXRpYyByZWFkb25seSBQSE9UT04gPSAxMDEwO1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFNjZW5lLCBtYXNzOiBudW1iZXIsIHBzOiBQYXJ0aWNsZVN5c3RlbSwgdW5pdHM6IFNjYWxlZFVuaXRzKSB7XHJcbiAgICAgICAgdGhpcy5wYXJ0aWNsZSA9IG5ldyBWaXNpYmxlUGFydGljbGUoc2NlbmUsIFwicFwiLCBcIiNmZjAwMDBcIiwgMC4yMSwgbWFzcyk7XHJcbiAgICAgICAgLy8gdGhpcy5wYXJ0aWNsZSA9IG5ldyBQYXJ0aWNsZShtYXNzLCAwLjIxKTtcclxuICAgICAgICBjb25zdCBwaG90b25HZW5lcmF0b3IgPSBuZXcgUGhvdG9uR2VuZXJhdG9yKCk7XHJcbiAgICAgICAgcGhvdG9uR2VuZXJhdG9yLnNldFNwZWVkT2ZMaWdodCh1bml0cy5nZXRTY2FsZWRWZWxvY2l0eShwaG90b25HZW5lcmF0b3Iuc3BlZWRPZkxpZ2h0KSk7XHJcbiAgICAgICAgLy8gdGhpcy5nZW5lcmF0b3IgPSBuZXcgVmlzaWJsZVBhcnRpY2xlR2VuZXJhdG9yKHNjZW5lLCAwLjEsIFwiI2ZmZmYwMFwiLCBwaG90b25HZW5lcmF0b3IpO1xyXG4gICAgICAgIHRoaXMuZ2VuZXJhdG9yID0gcGhvdG9uR2VuZXJhdG9yO1xyXG4gICAgICAgIHRoaXMucHMgPSBwcztcclxuICAgIH1cclxuICAgIGludGVyc2VjdHNXaXRoQm94KGZyb206IFZlY3RvcjMsIHRvOiBWZWN0b3IzKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFydGljbGUuaW50ZXJzZWN0c1dpdGhCb3goZnJvbSwgdG8pO1xyXG4gICAgfVxyXG4gICAgc2V0UmFkaXVzKHI6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFydGljbGUuc2V0UmFkaXVzKHIpO1xyXG4gICAgfVxyXG4gICAgaW50ZXJzZWN0c1dpdGhSYXkoZnJvbTogVmVjdG9yMywgdG86IFZlY3RvcjMsIHJhZGl1czogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFydGljbGUuaW50ZXJzZWN0c1dpdGhSYXkoZnJvbSwgdG8sIHJhZGl1cyk7XHJcbiAgICB9XHJcbiAgICBpc0FsaXZlKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcnRpY2xlLmlzQWxpdmUoKTtcclxuICAgIH1cclxuICAgIGNvcHkocDogSVBhcnRpY2xlKSB7XHJcbiAgICAgICAgdGhpcy5wYXJ0aWNsZS5jb3B5KHApO1xyXG4gICAgfVxyXG4gICAgc2V0VHlwZSh0eXBlOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcnRpY2xlLnNldFR5cGUodHlwZSk7XHJcbiAgICB9XHJcbiAgICBnZXRUeXBlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFydGljbGUuZ2V0VHlwZSgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZSBwaG90b25zXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICAvLyBpZiAoTWF0aC5yYW5kb20oKSA+IDAuOTkpIHtcclxuICAgICAgICAvLyAgICAgY29uc3QgcGhvdG9uID0gdGhpcy5nZW5lcmF0b3IuZ2VuZXJhdGUoKTtcclxuICAgICAgICAvLyAgICAgY29uc3QgcG9zID0gdGhpcy5nZXRQb3NpdGlvbigpO1xyXG4gICAgICAgIC8vICAgICBwaG90b24uc2V0UG9zaXRpb24ocG9zLngsIHBvcy55LCBwb3Mueik7XHJcbiAgICAgICAgLy8gICAgIC8vIGNvbnNvbGUubG9nKHBob3Rvbi5nZXRNYXNzKCkpO1xyXG4gICAgICAgIC8vICAgICB0aGlzLnBzLmFkZFBhcnRpY2xlKHBob3Rvbik7ICAgIFxyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxuICAgIGdldE1hc3MoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYXJ0aWNsZS5nZXRNYXNzKCk7XHJcbiAgICB9XHJcbiAgICBzZXRNYXNzKG1hc3M6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMucGFydGljbGUuc2V0TWFzcyhtYXNzKTtcclxuICAgIH1cclxuICAgIGdldFZlbG9jaXR5KCk6IFZlY3RvcjMge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcnRpY2xlLmdldFZlbG9jaXR5KCk7XHJcbiAgICB9XHJcbiAgICBnZXRQb3NpdGlvbigpOiBWZWN0b3IzIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYXJ0aWNsZS5nZXRQb3NpdGlvbigpO1xyXG4gICAgfVxyXG4gICAgc2V0VmVsb2NpdHkoeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlcik6IFZlY3RvcjMge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcnRpY2xlLnNldFZlbG9jaXR5KHgsIHksIHopO1xyXG4gICAgfVxyXG4gICAgZ2V0UmFkaXVzKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFydGljbGUuZ2V0UmFkaXVzKCk7XHJcbiAgICB9XHJcbiAgICBnZXRMaWZlc3BhbigpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcnRpY2xlLmdldExpZmVzcGFuKCk7XHJcbiAgICB9XHJcbiAgICBzZXRMaWZlc3BhbihsOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcnRpY2xlLnNldExpZmVzcGFuKGwpO1xyXG4gICAgfVxyXG4gICAgZ2V0QWdlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFydGljbGUuZ2V0QWdlKCk7XHJcbiAgICB9XHJcbiAgICBzZXRBZ2UoYTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYXJ0aWNsZS5zZXRBZ2UoYSk7XHJcbiAgICB9XHJcbiAgICBvbkRlYXRoKCkge1xyXG4gICAgICAgIHRoaXMucGFydGljbGUub25EZWF0aCgpO1xyXG4gICAgfVxyXG4gICAgc2V0UG9zaXRpb24oeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlcik6IFZlY3RvcjMge1xyXG4gICAgICAgIHRoaXMuZ2VuZXJhdG9yLnNldFBvc2l0aW9uKG5ldyBWZWN0b3IzKHgsIHksIHopKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYXJ0aWNsZS5zZXRQb3NpdGlvbih4LCB5LCB6KTtcclxuXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTcGFjZVBhcnRpY2xlR2VuZXJhdG9yIGV4dGVuZHMgUGFydGljbGVHZW5lcmF0b3Ige1xyXG4gICAgc2NlbmU6IFNjZW5lO1xyXG4gICAgcHM6IFBhcnRpY2xlU3lzdGVtO1xyXG4gICAgdW5pdHM6IFNjYWxlZFVuaXRzO1xyXG4gICAgZ2VuZXJhdG9yOiBJUGFydGljbGVHZW5lcmF0b3I7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZTogU2NlbmUsIHBzOiBQYXJ0aWNsZVN5c3RlbSwgdW5pdHM6IFNjYWxlZFVuaXRzLCBnZW5lcmF0b3I6IElQYXJ0aWNsZUdlbmVyYXRvcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMucHMgPSBwcztcclxuICAgICAgICB0aGlzLnVuaXRzID0gdW5pdHM7XHJcbiAgICAgICAgdGhpcy5nZW5lcmF0b3IgPSBnZW5lcmF0b3I7XHJcbiAgICB9XHJcbiAgICBzZXRHZW5lcmF0b3IoZ2VuZXJhdG9yOiBQYXJ0aWNsZUdlbmVyYXRvcikge1xyXG4gICAgICAgIHRoaXMuZ2VuZXJhdG9yID0gZ2VuZXJhdG9yO1xyXG4gICAgfVxyXG4gICAgZ2VuZXJhdGUoKTogSVBhcnRpY2xlIHtcclxuICAgICAgICBsZXQgcGFydGljbGU6IElQYXJ0aWNsZTtcclxuICAgICAgICBpZiAodGhpcy5nZW5lcmF0b3IpIHtcclxuICAgICAgICAgICAgcGFydGljbGUgPSB0aGlzLmdlbmVyYXRvci5nZW5lcmF0ZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBhcnRpY2xlID0gc3VwZXIuZ2VuZXJhdGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHNwYWNlX3BhcnRpY2xlID0gbmV3IFNwYWNlUGFydGljbGUodGhpcy5zY2VuZSwgcGFydGljbGUuZ2V0TWFzcygpLCB0aGlzLnBzLCB0aGlzLnVuaXRzKTtcclxuICAgICAgICBjb25zdCBwb3MgPSBwYXJ0aWNsZS5nZXRQb3NpdGlvbigpLmFkZCh0aGlzLnBvc2l0aW9uKTtcclxuICAgICAgICBzcGFjZV9wYXJ0aWNsZS5zZXRWZWxvY2l0eShwYXJ0aWNsZS5nZXRWZWxvY2l0eSgpLngsIHBhcnRpY2xlLmdldFZlbG9jaXR5KCkueSwgcGFydGljbGUuZ2V0VmVsb2NpdHkoKS56KTtcclxuICAgICAgICBzcGFjZV9wYXJ0aWNsZS5zZXRQb3NpdGlvbihwb3MueCwgcG9zLnksIHBvcy56KTtcclxuICAgICAgICBzcGFjZV9wYXJ0aWNsZS5zZXRMaWZlc3BhbihwYXJ0aWNsZS5nZXRMaWZlc3BhbigpKTtcclxuICAgICAgICBzcGFjZV9wYXJ0aWNsZS5zZXRUeXBlKHBhcnRpY2xlLmdldFR5cGUoKSk7XHJcbiAgICAgICAgc3BhY2VfcGFydGljbGUuc2V0UmFkaXVzKDIpO1xyXG4gICAgICAgIHJldHVybiBzcGFjZV9wYXJ0aWNsZTtcclxuICAgIH1cclxufVxyXG5cclxuIiwiaW1wb3J0IHsgQmxhY2tIb2xlUGFydGljbGVTeXN0ZW0gfSBmcm9tIFwiLi9ibGFjay1ob2xlLXBhcnRpY2xlLXN5c3RlbVwiO1xyXG5pbXBvcnQgeyBTcGFjZVBhcnRpY2xlR2VuZXJhdG9yIH0gZnJvbSBcIi4vc3BhY2UtcGFydGljbGVcIjtcclxuaW1wb3J0IHsgVmVjdG9yMywgU2NlbmUsIFZlY3RvcjIsIEltYWdlQml0bWFwTG9hZGVyLCBJbWFnZUxvYWRlciwgVGV4dHVyZUxvYWRlciwgVGV4dHVyZSB9IGZyb20gXCJ0aHJlZVwiO1xyXG5pbXBvcnQgeyBTY2FsZWRVbml0cyB9IGZyb20gXCIuL3NjYWxlZC11bml0c1wiO1xyXG5pbXBvcnQgeyBWaXNpYmxlUGFydGljbGUgfSBmcm9tIFwiLi9wYXJ0aWNsZS1zeXN0ZW0vcGFydGljbGUvdmlzaWJsZS1wYXJ0aWNsZVwiO1xyXG5pbXBvcnQgeyBUcmFja2JhbGxDb250cm9scyB9IGZyb20gXCJ0aHJlZS9leGFtcGxlcy9qc20vY29udHJvbHMvVHJhY2tiYWxsQ29udHJvbHNcIjtcclxuaW1wb3J0IHsgUGhvdG9ncmFwaCwgUGhvdG9ncmFwaGljUGxhdGUgfSBmcm9tIFwiLi9yYXl0cmFjaW5nL3Bob3RvZ3JhcGhcIjtcclxuaW1wb3J0IHsgR3Jhdml0eUZvcmNlIH0gZnJvbSBcIi4vcGFydGljbGUtc3lzdGVtL2ZvcmNlcy9ncmF2aXR5LWZvcmNlXCI7XHJcbmltcG9ydCB7IElQYXJ0aWNsZSwgUGFydGljbGUgfSBmcm9tIFwiLi9wYXJ0aWNsZS1zeXN0ZW0vcGFydGljbGUvcGFydGljbGVcIjtcclxuaW1wb3J0IHsgSVBhcnRpY2xlR2VuZXJhdG9yIH0gZnJvbSBcIi4vcGFydGljbGUtc3lzdGVtL2dlbmVyYXRvci9pLXBhcnRpY2xlLWdlbmVyYXRvclwiO1xyXG5pbXBvcnQgeyBFbGxpcHRpY2FsUGFydGljbGVHZW5lcmF0b3IgfSBmcm9tIFwiLi9wYXJ0aWNsZS1zeXN0ZW0vZ2VuZXJhdG9yL2VsbGlwdGljYWwtcGFydGljbGUtZ2VuZXJhdG9yXCI7XHJcbmltcG9ydCB7IFZpc2libGVQYXJ0aWNsZUdlbmVyYXRvciB9IGZyb20gXCIuL3BhcnRpY2xlLXN5c3RlbS9nZW5lcmF0b3IvdmlzaWJsZS1wYXJ0aWNsZS1nZW5lcmF0b3JcIjtcclxuaW1wb3J0IHsgQXJjVmVsb2NpdHlHZW5lcmF0b3IgfSBmcm9tIFwiLi9wYXJ0aWNsZS1zeXN0ZW0vZ2VuZXJhdG9yL3ZlbG9jaXR5LWdlbmVyYXRvcnMvYXJjLXZlbG9jaXR5LWdlbmVyYXRvclwiO1xyXG5pbXBvcnQgeyBSYXlUcmFjaW5nUGhvdG9uR2VuZXJhdG9yLCBSYXlUcmFjZXIgfSBmcm9tIFwiLi9yYXl0cmFjaW5nL3Bpbi1ob2xlLWNhbWVyYS5cIjtcclxuaW1wb3J0IHsgUGFydGljbGVTeXN0ZW1DdXN0b21pemVyLCBJUmF5VHJhY2luZ0N1c3RvbWl6ZXIgfSBmcm9tIFwiLi9yYXl0cmFjaW5nL3BhcnRpY2xlLXN5c3RlbS1yYXl0cmFjZXJcIjtcclxuaW1wb3J0IHsgSVJheVRyYWNlYWJsZSB9IGZyb20gXCIuL3JheXRyYWNpbmcvaS1yYXl0cmFjZWFibGVcIjtcclxuaW1wb3J0IHsgT2N0cmVlIH0gZnJvbSBcIi4vcmF5dHJhY2luZy9jb2xsaXNpb25zL29jdHJlZVwiO1xyXG5pbXBvcnQgeyBUaW1lUHJvZmlsZSB9IGZyb20gXCIuL2JvaWxlcnBsYXRlL3RpbWUtcHJvZmlsZVwiO1xyXG5pbXBvcnQgeyBWYXJpYWJsZVJheUVtaXR0ZXIgfSBmcm9tIFwiLi9yYXl0cmFjaW5nL3ZhcmlhYmxlLXJheS1lbWl0dGVyXCI7XHJcbmltcG9ydCB7IEdyaWRFbWl0dGVyIH0gZnJvbSBcIi4vcmF5dHJhY2luZy9ncmlkLWVtaXR0ZXJcIjtcclxuXHJcbi8qKlxyXG4gKiBUaGlzIGNsYXNzIHdpbGwgZW5jYXBzdWxhdGUgYWxsIHRoZSB0aGluZ3MgbmVlZGVkIHRvIGdldCB0aGUgYmxhY2tcclxuICogaG9sZSBzeXN0ZW0gcnVubmluZ1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEJsYWNrSG9sZVN5c3RlbSB7XHJcbiAgICByZWFkb25seSBNSU5fQUNDUkVUSU9OX0RJU0tfVkVMID0gMTk5NzkyNDU4O1xyXG4gICAgcmVhZG9ubHkgTUFYX0FDQ1JFVElPTl9ESVNLX1ZFTCA9IDI5OTc5MjQ1ODtcclxuICAgIHJlYWRvbmx5IEJMQUNLX0hPTEVfTUFTUyA9IDQuM2U2O1xyXG4gICAgcmVhZG9ubHkgUkVTT0xVVElPTiA9IDUxMjtcclxuICAgIGNvbnRyb2xzOiBUcmFja2JhbGxDb250cm9scztcclxuICAgIHBzOiBCbGFja0hvbGVQYXJ0aWNsZVN5c3RlbTtcclxuICAgIGJsYWNrSG9sZTogVmlzaWJsZVBhcnRpY2xlO1xyXG4gICAgcGFydGljbGVHZW5lcmF0b3I6IElQYXJ0aWNsZUdlbmVyYXRvcjtcclxuICAgIHBhcnRpY2xlR2VuZXJhdG9yMjogSVBhcnRpY2xlR2VuZXJhdG9yO1xyXG4gICAgb2JzdGFjbGVzOiBBcnJheTxJUmF5VHJhY2VhYmxlPjtcclxuICAgIHRvdGFsVGltZSA9IDA7XHJcblxyXG4gICAgY3VzdG9taXplcjogUGFydGljbGVTeXN0ZW1DdXN0b21pemVyO1xyXG4gICAgcmF5dHJhY2VyOiBSYXlUcmFjZXI7XHJcbiAgICB1bml0czogU2NhbGVkVW5pdHM7XHJcbiAgICBwaG90b2dyYXBoOiBQaG90b2dyYXBoO1xyXG4gICAgY291bnQgPSAwO1xyXG4gICAgdGltZUJlZm9yZSA9IDA7XHJcbiAgICBwc3Byb2ZpbGVyIDogVGltZVByb2ZpbGU7XHJcbiAgICB0cmFjZXJwcm9maWxlciA6IFRpbWVQcm9maWxlO1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5wcyA9IG5ldyBCbGFja0hvbGVQYXJ0aWNsZVN5c3RlbSgpO1xyXG4gICAgICAgIHRoaXMucHNwcm9maWxlciA9IG5ldyBUaW1lUHJvZmlsZShcIlBhcnRpY2xlIFN5c3RlbVwiLCAxMDAwKTtcclxuICAgICAgICB0aGlzLnRyYWNlcnByb2ZpbGVyID0gbmV3IFRpbWVQcm9maWxlKFwiUmF5dHJhY2VyXCIsIDEwMDApO1xyXG4gICAgfVxyXG4gICAgaW5pdGlhbGl6ZVN5c3RlbShzY2VuZTogU2NlbmUpIHtcclxuICAgICAgICB0aGlzLnVuaXRzID0gbmV3IFNjYWxlZFVuaXRzKDEuNDk2ZTksIDEuOTg5ZTMwLCAxKTtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnVuaXRzLmdldFNjYWxlZFZlbG9jaXR5KHRoaXMuTUlOX0FDQ1JFVElPTl9ESVNLX1ZFTCkpO1xyXG4gICAgICAgIHRoaXMuYmxhY2tIb2xlID0gbmV3IFZpc2libGVQYXJ0aWNsZShzY2VuZSwgXCJibGFja0hvbGVcIiwgXCIjZmZmZmZmXCIsICAxLCB0aGlzLkJMQUNLX0hPTEVfTUFTUyk7XHJcbiAgICAgICAgLy8gY29uc3QgYmxhY2tIb2xlMiA9IG5ldyBWaXNpYmxlUGFydGljbGUoc2NlbmUsIFwiYmxhY2tIb2xlXCIsIFwiI2ZmZmZmZlwiLCAgMSwgdGhpcy5CTEFDS19IT0xFX01BU1MpO1xyXG4gICAgICAgIC8vIHRoaXMuYmxhY2tIb2xlLnNldFBvc2l0aW9uKDguNDkxMSwgMCwgMCk7XHJcbiAgICAgICAgLy8gYmxhY2tIb2xlMi5zZXRQb3NpdGlvbigtOC40OTExLCAwLCAwKTtcclxuICAgICAgICBjb25zdCBncmF2aXR5ID0gbmV3IEdyYXZpdHlGb3JjZShHcmF2aXR5Rm9yY2UuY2FsY3VsYXRlKHRoaXMudW5pdHMua2dzLCB0aGlzLnVuaXRzLm1ldHJlcywgdGhpcy51bml0cy5zZWNvbmRzKSk7XHJcbiAgICAgICAgdGhpcy5wcy5hZGRGb3JjZShncmF2aXR5KTtcclxuICAgICAgICB0aGlzLnBzLmFkZFBhcnRpY2xlKHRoaXMuYmxhY2tIb2xlKTtcclxuICAgICAgICAvLyB0aGlzLnBzLmFkZFBhcnRpY2xlKGJsYWNrSG9sZTIpO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVBhcnRpY2xlR2VuZXJhdG9yKHNjZW5lKTtcclxuICAgICAgICB0aGlzLnBzLnNldEV2ZW50SG9yaXpvbih0aGlzLmdldFNjaHdhcnpjaGlsZFJhZGl1cygpKTtcclxuICAgICAgICAvLyB0aGlzLnBzLmV2ZW50SG9yaXpvbjIgPSB0aGlzLmdldFNjaHdhcnpjaGlsZFJhZGl1cyh0aGlzLkJMQUNLX0hPTEVfTUFTUyk7XHJcbiAgICAgICAgdGhpcy5wcy5zZXRCb3VuZHMobmV3IFZlY3RvcjMoLTUwLCAtNTAsIC01MCksIG5ldyBWZWN0b3IzKDUwLCA1MCwgMjAwKSk7XHJcbiAgICAgICAgdGhpcy5yYXl0cmFjZXIgPSBuZXcgUmF5VHJhY2VyKHNjZW5lLCBuZXcgVmVjdG9yMygwLCAwLCAxMDApLCBuZXcgVmVjdG9yMygwLCAwLCAtMSksIE1hdGguUEkgLyA4LCB0aGlzLlJFU09MVVRJT04sIHRoaXMudW5pdHMuZ2V0U2NhbGVkVmVsb2NpdHkoMjk5NzkyNDU4KSk7XHJcbiAgICAgICAgLy8gY29uc3QgZ3JpZEVtaXR0ZXIgPSBuZXcgR3JpZEVtaXR0ZXIodGhpcy5yYXl0cmFjZXIsIG5ldyBWZWN0b3IyKHRoaXMuUkVTT0xVVElPTiwgdGhpcy5SRVNPTFVUSU9OKSwgbmV3IFJheVRyYWNpbmdQaG90b25HZW5lcmF0b3Ioc2NlbmUsIHRoaXMudW5pdHMuZ2V0U2NhbGVkVmVsb2NpdHkoMjk5NzkyNDU4KSkpO1xyXG4gICAgICAgIHRoaXMub2JzdGFjbGVzID0gbmV3IEFycmF5PElSYXlUcmFjZWFibGU+KCk7XHJcbiAgICAgICAgdGhpcy5lbWl0UGFydGljbGVzKCk7XHJcbiAgICAgICAgdGhpcy5jdXN0b21pemVyID0gbmV3IFBhcnRpY2xlU3lzdGVtQ3VzdG9taXplcih0aGlzLnBzLCB0aGlzLnJheXRyYWNlciwgdGhpcy5vYnN0YWNsZXMsIDApO1xyXG4gICAgICAgIHRoaXMucmF5dHJhY2VyLnNldEN1c3RvbWl6ZXIodGhpcy5jdXN0b21pemVyKVxyXG4gICAgICAgIHRoaXMucmF5dHJhY2VyLmVtaXRQaG90b25zKCk7XHJcbiAgICAgICAgLy8gdGhpcy5yYXl0cmFjZXIuZW1pdFBob3RvbnMoZ3JpZEVtaXR0ZXIpO1xyXG4gICAgICAgIHNjZW5lLmFkZCh0aGlzLnJheXRyYWNlci5nZXRQaG90bygpKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdGVzdE9jdHJlZSgpIHtcclxuICAgICAgICBsZXQgcGFydGljbGUgPSBuZXcgUGFydGljbGUoKTtcclxuICAgICAgICBwYXJ0aWNsZS5zZXRQb3NpdGlvbigtMTAsIC0xMCwgLTEwKTtcclxuICAgICAgICB0aGlzLm9ic3RhY2xlcy5wdXNoKHBhcnRpY2xlKTtcclxuICAgICAgICBwYXJ0aWNsZSA9IG5ldyBQYXJ0aWNsZSgpO1xyXG4gICAgICAgIHBhcnRpY2xlLnNldFBvc2l0aW9uKDEwLCAxMCwgMTApO1xyXG4gICAgICAgIHRoaXMub2JzdGFjbGVzLnB1c2gocGFydGljbGUpO1xyXG4gICAgICAgIHBhcnRpY2xlID0gbmV3IFBhcnRpY2xlKCk7XHJcbiAgICAgICAgcGFydGljbGUuc2V0UG9zaXRpb24oLTEwLCAtMTAsIDEwKTtcclxuICAgICAgICB0aGlzLm9ic3RhY2xlcy5wdXNoKHBhcnRpY2xlKTtcclxuICAgICAgICBwYXJ0aWNsZSA9IG5ldyBQYXJ0aWNsZSgpO1xyXG4gICAgICAgIHBhcnRpY2xlLnNldFBvc2l0aW9uKC0xMCwgMTAsIDEwKTtcclxuICAgICAgICB0aGlzLm9ic3RhY2xlcy5wdXNoKHBhcnRpY2xlKTtcclxuICAgICAgICBjb25zdCBvY3RyZWUgPSBuZXcgT2N0cmVlKHRoaXMub2JzdGFjbGVzLCBuZXcgVmVjdG9yMygtMjAsIC0yMCwgLTIwKSwgbmV3IFZlY3RvcjMoMjAsIDIwLCAyMCkpO1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IG9jdHJlZS5maW5kKHBhcnRpY2xlLmdldFBvc2l0aW9uKCkpIDtcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIGdldFNjaHdhcnpjaGlsZFJhZGl1cyhtYXNzID0gdGhpcy5CTEFDS19IT0xFX01BU1MpIHtcclxuICAgICAgICBjb25zdCBjID0gdGhpcy51bml0cy5nZXRTY2FsZWRWZWxvY2l0eSgyOTk3OTI0NTgpO1xyXG4gICAgICAgIGNvbnN0IGdyYXZpdHkgPSBuZXcgR3Jhdml0eUZvcmNlKEdyYXZpdHlGb3JjZS5jYWxjdWxhdGUodGhpcy51bml0cy5rZ3MsIHRoaXMudW5pdHMubWV0cmVzLCB0aGlzLnVuaXRzLnNlY29uZHMpKTtcclxuICAgICAgICBjb25zdCByYWRpdXMgPSAyICogZ3Jhdml0eS5HICogdGhpcy5CTEFDS19IT0xFX01BU1MgLyAoYyAqIGMpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiVGhlIFNjaHdhcnpjaGlsZCBSYWRpdXMgaXMgXCIsIHJhZGl1cyk7XHJcbiAgICAgICAgcmV0dXJuIHJhZGl1c1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRpYWxpemVQYXJ0aWNsZUdlbmVyYXRvcihzY2VuZTogU2NlbmUpIHtcclxuICAgICAgICBjb25zdCByYWRpdXMgPSB0aGlzLmdldFNjaHdhcnpjaGlsZFJhZGl1cygpO1xyXG4gICAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSAxLjU7XHJcbiAgICAgICAgY29uc3QgZ2VuZXJhdG9yID0gbmV3IEVsbGlwdGljYWxQYXJ0aWNsZUdlbmVyYXRvcihtdWx0aXBsaWVyICogcmFkaXVzLCBtdWx0aXBsaWVyICogcmFkaXVzLCB0aGlzLmJsYWNrSG9sZS5nZXRQb3NpdGlvbigpLFxyXG4gICAgICAgICAgICBuZXcgVmVjdG9yMygxLCAwLCAwKSwgbmV3IFZlY3RvcjMoMCwgMCwgMSksIG5ldyBWZWN0b3IzKDAsIC0xLCAwKSwgdGhpcy51bml0cy5nZXRTY2FsZWRWZWxvY2l0eSh0aGlzLk1JTl9BQ0NSRVRJT05fRElTS19WRUwpKTtcclxuICAgICAgICBnZW5lcmF0b3Iuc2V0UGFyYW1ldGVycygwLjAwMDEsIDAuMDAwMTUsIDApO1xyXG4gICAgICAgIGdlbmVyYXRvci5zZXRXaWR0aCgzICogcmFkaXVzKTtcclxuXHJcbiAgICAgICAgY29uc3QgcGFydGljbGVHZW5lcmF0b3IgPSBuZXcgU3BhY2VQYXJ0aWNsZUdlbmVyYXRvcihzY2VuZSwgdGhpcy5wcywgdGhpcy51bml0cywgZ2VuZXJhdG9yKTtcclxuICAgICAgICB0aGlzLnBhcnRpY2xlR2VuZXJhdG9yID0gcGFydGljbGVHZW5lcmF0b3I7XHJcbiAgICAgICAgdGhpcy5wYXJ0aWNsZUdlbmVyYXRvci5zZXRQb3NpdGlvbihuZXcgVmVjdG9yMygwLCAwLCAwKSk7XHJcbiAgICAgICAgdGhpcy5ibGFja0hvbGUuYWRkTGlnaHRTb3VyY2UoXCIjZmZmZmZmXCIpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKHRpbWVfc3RlcDogbnVtYmVyKSB7XHJcbiAgICAgICAgY29uc3QgTl9JVEVSQVRJT05TID0gMTAwO1xyXG4gICAgICAgIGNvbnN0IHRpbWVfYmVmb3JlID0gdGhpcy50b3RhbFRpbWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOX0lURVJBVElPTlM7IGkrKykge1xyXG4gICAgICAgICAgICAvLyB0aGlzLnBzcHJvZmlsZXIuc3RhcnQoKTtcclxuICAgICAgICAgICAgdGhpcy5wcy51cGRhdGUodGltZV9zdGVwKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5wc3Byb2ZpbGVyLnN0b3AoKTtcclxuICAgICAgICAgICAgLy8gdGhpcy50cmFjZXJwcm9maWxlci5zdGFydCgpO1xyXG4gICAgICAgICAgICB0aGlzLmN1c3RvbWl6ZXIuc2V0VGltZVN0ZXAodGltZV9zdGVwKTtcclxuICAgICAgICAgICAgdGhpcy5yYXl0cmFjZXIudXBkYXRlKCk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMudHJhY2VycHJvZmlsZXIuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnRvdGFsVGltZSArPSB0aW1lX3N0ZXA7XHJcbiAgICAgICAgICAgIC8vIGlmICh0aGlzLnRvdGFsVGltZSAtIHRoaXMudGltZUJlZm9yZSA+IDUwMCkge1xyXG4gICAgICAgICAgICAvLyAgICAgdGhpcy5yYXl0cmFjZXIuZW1pdFBob3RvbnMoKTtcclxuICAgICAgICAgICAgLy8gICAgIHRoaXMudGltZUJlZm9yZSA9IHRoaXMudG90YWxUaW1lO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGVtaXRQYXJ0aWNsZXMoKSB7XHJcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcclxuICAgICAgICBjb25zdCBQQVJUSUNMRV9DT1VOVCA9IDA7XHJcbiAgICAgICAgd2hpbGUoY291bnQgPCBQQVJUSUNMRV9DT1VOVCkge1xyXG4gICAgICAgICAgICBjb25zdCBwYXJ0aWNsZSA9IHRoaXMucGFydGljbGVHZW5lcmF0b3IuZ2VuZXJhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5wcy5hZGRQYXJ0aWNsZShwYXJ0aWNsZSk7XHJcbiAgICAgICAgICAgIHRoaXMub2JzdGFjbGVzLnB1c2gocGFydGljbGUgYXMgYW55IGFzIElSYXlUcmFjZWFibGUpO1xyXG4gICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgIH0gXHJcbiAgICB9XHJcbiAgICBzY2FsZVZlbG9jaXR5KHBhcnRpY2xlOiBJUGFydGljbGUpIHtcclxuICAgICAgICBjb25zdCBtYWcgPSB0aGlzLnVuaXRzLmdldFNjYWxlZFZlbG9jaXR5KHBhcnRpY2xlLmdldFZlbG9jaXR5KCkubGVuZ3RoKCkpO1xyXG4gICAgICAgIGNvbnN0IHZlbCA9IHBhcnRpY2xlLmdldFZlbG9jaXR5KCkubm9ybWFsaXplKCkubXVsdGlwbHlTY2FsYXIobWFnKTtcclxuICAgICAgICBjb25zb2xlLmxvZyh2ZWwpO1xyXG4gICAgICAgIHBhcnRpY2xlLnNldFZlbG9jaXR5KHZlbC54LCB2ZWwueSwgdmVsLnopO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEJvaWxlcnBsYXRlIH0gZnJvbSBcIi4vYm9pbGVycGxhdGUvYm9pbGVycGxhdGVcIjtcclxuaW1wb3J0IHsgQmxhY2tIb2xlU3lzdGVtIH0gZnJvbSBcIi4vYmxhY2staG9sZS1zeXN0ZW1cIjtcclxuaW1wb3J0IHsgVHJhY2tiYWxsQ29udHJvbHMgfSBmcm9tIFwidGhyZWUvZXhhbXBsZXMvanNtL2NvbnRyb2xzL1RyYWNrYmFsbENvbnRyb2xzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQmxhY2tIb2xlU3RhcnRlciBleHRlbmRzIEJvaWxlcnBsYXRlIHtcclxuICAgIHN5c3RlbTogQmxhY2tIb2xlU3lzdGVtO1xyXG4gICAgdGltZV9zdGVwOiBudW1iZXI7XHJcbiAgICBjb250cm9sczogVHJhY2tiYWxsQ29udHJvbHM7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcbiAgICBwb3N0SW5pdEhvb2soKSB7XHJcbiAgICAgICAgdGhpcy5zeXN0ZW0gPSBuZXcgQmxhY2tIb2xlU3lzdGVtKHRoaXMuc2NlbmUpO1xyXG4gICAgICAgIHRoaXMuc3lzdGVtLmluaXRpYWxpemVTeXN0ZW0odGhpcy5zY2VuZSk7XHJcbiAgICAgICAgdGhpcy5jb250cm9scyA9IG5ldyBUcmFja2JhbGxDb250cm9scyh0aGlzLmNhbWVyYSwgdGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBhbmltYXRlSG9vaygpIHtcclxuICAgICAgICB0aGlzLnRpbWVfc3RlcCA9IDAuMDY7XHJcbiAgICAgICAgdGhpcy5zeXN0ZW0udXBkYXRlKHRoaXMudGltZV9zdGVwKTtcclxuICAgICAgICB0aGlzLmNvbnRyb2xzLnVwZGF0ZSgpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSVBhcnRpY2xlIH0gZnJvbSBcIi4vcGFydGljbGUvcGFydGljbGVcIjtcclxuaW1wb3J0IHsgSUZvcmNlIH0gZnJvbSBcIi4vZm9yY2VzL0ktZm9yY2VcIjtcclxuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCJ0aHJlZVwiO1xyXG5pbXBvcnQgeyBUaW1lUHJvZmlsZXIgfSBmcm9tIFwiLi4vYm9pbGVycGxhdGUvdGltZS1wcm9maWxlclwiO1xyXG5cclxuLyoqXHJcbiAqIEhvbGRzIHRoZSBkZXJpdmF0aXZlIG9mIGEgcXVhbnRpdHlcclxuICogV2Ugc2hvdWxkIGJlIGFibGUgdG8gc3BlY2lmeSB0aGUgVFlQRSBvZiBhIGRlcml2YXRpdmUgZXhwbGljaXRseSBpbnN0ZWFkIG9mIGFzc3VtaW5nXHJcbiAqIGl0IHdpbGwgYWx3YXlzIGJlIDYgbnVtYmVycy4gXHJcbiAqIFRPRE86IG1ha2UgdGhpcyBnZW5lcmljXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUGFydGljbGVEZXJpdmF0aXZlIHtcclxuICAgIGRlcml2YXRpdmU6IEFycmF5PEFycmF5PG51bWJlcj4+O1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5kZXJpdmF0aXZlID0gbmV3IEFycmF5PEFycmF5PG51bWJlcj4+KCk7XHJcbiAgICB9XHJcbiAgICBsZW5ndGgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kZXJpdmF0aXZlLmxlbmd0aDtcclxuICAgIH1cclxuICAgIGFkZFBhcnRpY2xlKCkge1xyXG4gICAgICAgIHRoaXMuZGVyaXZhdGl2ZS5wdXNoKG5ldyBBcnJheTxudW1iZXI+KDAsIDAsIDAsIDAsIDAsIDApKTtcclxuICAgIH1cclxuICAgIGFkZChpOiBudW1iZXIsIGl0ZW1zOiBBcnJheTxudW1iZXI+KSB7XHJcbiAgICAgICAgLy8gQ291bGQgdGhpcyBiZSBmYXN0ZXI/XHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBpdGVtcy5sZW5ndGg7IGorKylcclxuICAgICAgICAgICAgdGhpcy5kZXJpdmF0aXZlW2ldW2pdICs9IGl0ZW1zW2pdO1xyXG4gICAgfVxyXG4gICAgcmVtb3ZlKGk6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuZGVyaXZhdGl2ZS5zcGxpY2UoaSwgMSk7XHJcbiAgICB9XHJcbiAgICBjbGVhcigpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZGVyaXZhdGl2ZS5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmRlcml2YXRpdmVbaV0ubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVyaXZhdGl2ZVtpXVtqXSA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgIH1cclxuICAgIHNldChpOiBudW1iZXIsIGl0ZW1zOiBBcnJheTxudW1iZXI+KSB7XHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBpdGVtcy5sZW5ndGg7IGorKylcclxuICAgICAgICAgICAgdGhpcy5kZXJpdmF0aXZlW2ldW2pdID0gaXRlbXNbal07XHJcblxyXG4gICAgfVxyXG4gICAgc2NhbGUobjogbnVtYmVyKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRlcml2YXRpdmUubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5kZXJpdmF0aXZlW2ldLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlcml2YXRpdmVbaV1bal0gKj0gbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0KGk6IG51bWJlcik6IEFycmF5PG51bWJlcj4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRlcml2YXRpdmVbaV07XHJcbiAgICB9XHJcbiAgICBwcmludCgpIHtcclxuICAgICAgICB0aGlzLmRlcml2YXRpdmUuZm9yRWFjaCgocCwgaSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBhcnRpY2xlIFwiICsgaSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVmVsb2NpdHkgXCIsIHBbMF0sIHBbMV0sIHBbMl0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFjY2VsZXJhdGlvbiBcIiwgcFszXSwgcFs0XSwgcFs1XSk7XHJcblxyXG4gICAgICAgIH0sIHRoaXMpO1xyXG4gICAgfVxyXG4gICAgcHJpbnRDb3VudCgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmRlcml2YXRpdmUubGVuZ3RoKTtcclxuICAgIH1cclxuICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgdGhpcy5kZXJpdmF0aXZlLmZvckVhY2goKHApID0+IHtcclxuICAgICAgICAgICAgcCA9IFtdO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZGVyaXZhdGl2ZSA9IFtdO1xyXG4gICAgfVxyXG4gICAgY2xvbmUoY2FjaGU/OiBQYXJ0aWNsZURlcml2YXRpdmUpOiBQYXJ0aWNsZURlcml2YXRpdmUge1xyXG4gICAgICAgIGlmIChjYWNoZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYWNoZUNsb25lKGNhY2hlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY29weSA9IG5ldyBQYXJ0aWNsZURlcml2YXRpdmUoKTtcclxuICAgICAgICB0aGlzLmRlcml2YXRpdmUuZm9yRWFjaCgocCwgaSkgPT4ge1xyXG4gICAgICAgICAgICBjb3B5LmFkZFBhcnRpY2xlKCk7XHJcbiAgICAgICAgICAgIGNvcHkuYWRkKGksIHApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBjb3B5O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBIb3BpbmcgdGhhdCB0aGlzIHdvdWxkIHNwZWVkIHVwIGNsb25pbmcgYnkganVzdCBjb3B5aW5nIGFuZFxyXG4gICAgICogbm90IGhhdmluZyB0byBhbGxvY2F0ZVxyXG4gICAgICogQ2F1c2VzIGEgbWFyZ2luYWwgaW1wcm92ZW1lbnQgKDE1JSlcclxuICAgICAqIEBwYXJhbSBjYWNoZSBBbiBhbHJlYWR5IGFsbG9jYXRlZCBhcnJheVxyXG4gICAgICovXHJcbiAgICBjYWNoZUNsb25lKGNhY2hlOiBQYXJ0aWNsZURlcml2YXRpdmUpOiBQYXJ0aWNsZURlcml2YXRpdmUge1xyXG4gICAgICAgIHRoaXMuZGVyaXZhdGl2ZS5mb3JFYWNoKChwLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGNhY2hlLmFkZChpLCBwKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gY2FjaGU7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFRoZSBQYXJ0aWNsZVN5c3RlbSBjbGFzcyB0YWtlcyBhbiBhcnJheSBvZiBwYXJ0aWNsZXMgYW5kIHVwZGF0ZXNcclxuICogdGhlbSBnaXZlbiBzb21lIHJ1bGVzXHJcbiAqIFRoZXNlIHJ1bGVzIHdpbGwgYmUgZGVmaW5lZCBieSB0aGUgZm9yY2VzIHRoYXQgYWN0IG9uIHRoZXNlIHBhcnRpY2xlc1xyXG4gKiB3aGljaCB3aWxsIGJlIGhlbGQgaW4gdGhlIGZvcmNlcyBhcnJheVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBhcnRpY2xlU3lzdGVtIHtcclxuICAgIHByb3RlY3RlZCBwYXJ0aWNsZXM6IEFycmF5PElQYXJ0aWNsZT47XHJcbiAgICBmb3JjZXM6IEFycmF5PElGb3JjZT47XHJcbiAgICBwcm90ZWN0ZWQgZGVyaXZhdGl2ZTogUGFydGljbGVEZXJpdmF0aXZlO1xyXG4gICAgcHJpdmF0ZSBtaW5Cb3VuZHM6IFZlY3RvcjM7XHJcbiAgICBwcml2YXRlIG1heEJvdW5kczogVmVjdG9yMztcclxuICAgIHByaXZhdGUgcHJvZmlsZXI6IFRpbWVQcm9maWxlcjtcclxuICAgIHByaXZhdGUgZGVyaXZhdGl2ZUNhY2hlczogQXJyYXk8UGFydGljbGVEZXJpdmF0aXZlPjtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMucGFydGljbGVzID0gbmV3IEFycmF5PElQYXJ0aWNsZT4oKTtcclxuICAgICAgICB0aGlzLmRlcml2YXRpdmUgPSBuZXcgUGFydGljbGVEZXJpdmF0aXZlKCk7XHJcbiAgICAgICAgdGhpcy5mb3JjZXMgPSBuZXcgQXJyYXk8SUZvcmNlPigpO1xyXG4gICAgICAgIHRoaXMucHJvZmlsZXIgPSBuZXcgVGltZVByb2ZpbGVyKCk7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVDYWNoZXMoKTtcclxuICAgIH1cclxuICAgIGNyZWF0ZUNhY2hlcygpIHtcclxuICAgICAgICB0aGlzLmRlcml2YXRpdmVDYWNoZXMgPSBuZXcgQXJyYXk8UGFydGljbGVEZXJpdmF0aXZlPig0KTtcclxuICAgICAgICBmb3IgKGxldCB1ID0gMDsgdSA8IDQ7IHUrKykge1xyXG4gICAgICAgICAgICB0aGlzLmRlcml2YXRpdmVDYWNoZXNbdV0gPSBuZXcgUGFydGljbGVEZXJpdmF0aXZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYWRkUGFydGljbGUocGFydGljbGU6IElQYXJ0aWNsZSkge1xyXG4gICAgICAgIHRoaXMucGFydGljbGVzLnB1c2gocGFydGljbGUpO1xyXG4gICAgICAgIHRoaXMuZGVyaXZhdGl2ZS5hZGRQYXJ0aWNsZSgpO1xyXG4gICAgICAgIHRoaXMuZGVyaXZhdGl2ZUNhY2hlcy5mb3JFYWNoKGMgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kZXJpdmF0aXZlLmxlbmd0aCgpID4gYy5sZW5ndGgoKSkgYy5hZGRQYXJ0aWNsZSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICByZW1vdmVQYXJ0aWNsZShpOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnBhcnRpY2xlcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgdGhpcy5kZXJpdmF0aXZlLnJlbW92ZShpKTtcclxuICAgICAgICAvLyBOb3QgcmVtb3ZpbmcgZnJvbSB0aGUgY2FjaGVzIHVubGVzcyBuZWVkZWRcclxuICAgIH1cclxuICAgIHByaW50Q091bnQoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJQYXJ0aWNsZSBDb3VudCAlcyBEZXJpdmF0aXZlIGNvdW50ICVzXCIsIHRoaXMucGFydGljbGVzLmxlbmd0aCwgdGhpcy5kZXJpdmF0aXZlLmxlbmd0aCgpKTtcclxuXHJcbiAgICB9XHJcbiAgICBhZGRGb3JjZShmb3JjZTogSUZvcmNlKSB7XHJcbiAgICAgICAgdGhpcy5mb3JjZXMucHVzaChmb3JjZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFdpbGwgY2FsY3VsYXRlIHRoZSBkZXJpdmF0aXZlIG9mIHRoZSBwYXJ0aWNsZXMgbW90aW9uIGFuZCB1cGRhdGVzIHRoZW1cclxuICAgICAqIGFjY29yZGluZyB0byB0aGUgaW50ZWdyYXRpb24gbWV0aG9kIChNaWRwb2ludCwgUkssIEV1bGVyIGV0YylcclxuICAgICAqIEBwYXJhbSB0aW1lX3N0ZXAgVGhlIHN0ZXAgYnkgd2hpY2ggdG8gYWR2YW5jZSB0aGUgc3lzdGVtXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZSh0aW1lX3N0ZXA6IG51bWJlcikge1xyXG4gICAgICAgIC8vIHRoaXMucHJvZmlsZXIuc3RhcnQoXCJSSzRcIiwgMTAwMCk7XHJcbiAgICAgICAgLy8gdGhpcy51cGRhdGVSSzQodGltZV9zdGVwKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZU1pZFBvaW50KHRpbWVfc3RlcCk7XHJcbiAgICAgICAgLy8gdGhpcy5wcm9maWxlci5zdG9wKFwiUks0XCIsIDEwMDApO1xyXG4gICAgICAgIHRoaXMudXBkYXRlSG9vaygpO1xyXG4gICAgICAgIHRoaXMucG9zdFVwZGF0ZSgpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlUGFydGljbGVMaXZlcyh0aW1lX3N0ZXApO1xyXG4gICAgICAgIHRoaXMuYm91bmRzQ2hlY2soKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZUhvb2soKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHBvc3RVcGRhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgbGVuID0gdGhpcy5wYXJ0aWNsZXMubGVuZ3RoO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGluZGV4ID0gbGVuIC0gaSAtIDE7XHJcbiAgICAgICAgICAgIGxldCBwID0gdGhpcy5wYXJ0aWNsZXNbaW5kZXhdO1xyXG4gICAgICAgICAgICBwLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICBpZiAoIXAuaXNBbGl2ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVBhcnRpY2xlKGluZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNldEJvdW5kcyhtaW46IFZlY3RvcjMsIG1heDogVmVjdG9yMykge1xyXG4gICAgICAgIHRoaXMubWluQm91bmRzID0gbWluO1xyXG4gICAgICAgIHRoaXMubWF4Qm91bmRzID0gbWF4O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUHV0IHRoaXMgaW4gYSBkaWZmZXJlbnQgY2xhc3MgdGhhdCBpcyBhYmxlIHRvIGRvIHBvc3QgcHJvY2Vzc2luZyBvbiBwYXJ0aWNsZVxyXG4gICAgICogc3lzdGVtIGFmdGVyIGl0IGlzIGRvbmUgaW50ZWdyYXRpbmdcclxuICAgICAqIEBwYXJhbSB0aW1lX3N0ZXAgXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZVBhcnRpY2xlTGl2ZXModGltZV9zdGVwOiBudW1iZXIpIHtcclxuICAgICAgICBjb25zdCBsZW4gPSB0aGlzLnBhcnRpY2xlcy5sZW5ndGg7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IGxlbiAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIGxldCBwYXJ0aWNsZSA9IHRoaXMucGFydGljbGVzW2ldO1xyXG4gICAgICAgICAgICBwYXJ0aWNsZS5zZXRBZ2UocGFydGljbGUuZ2V0QWdlKCkgKyB0aW1lX3N0ZXApO1xyXG4gICAgICAgICAgICBpZiAocGFydGljbGUuZ2V0TGlmZXNwYW4oKSA+IDAgJiYgcGFydGljbGUuZ2V0QWdlKCkgPiBwYXJ0aWNsZS5nZXRMaWZlc3BhbigpKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJ0aWNsZS5vbkRlYXRoKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVBhcnRpY2xlKGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGJvdW5kc0NoZWNrKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm1pbkJvdW5kcyAmJiB0aGlzLm1heEJvdW5kcykge1xyXG4gICAgICAgICAgICBjb25zdCBsZW4gPSB0aGlzLnBhcnRpY2xlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBsZW4gLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHBhcnRpY2xlID0gdGhpcy5wYXJ0aWNsZXNbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAocGFydGljbGUuZ2V0UG9zaXRpb24oKS54ID4gdGhpcy5tYXhCb3VuZHMueCB8fCBwYXJ0aWNsZS5nZXRQb3NpdGlvbigpLnkgPiB0aGlzLm1heEJvdW5kcy55XHJcbiAgICAgICAgICAgICAgICAgICAgfHwgcGFydGljbGUuZ2V0UG9zaXRpb24oKS54IDwgdGhpcy5taW5Cb3VuZHMueCB8fCBwYXJ0aWNsZS5nZXRQb3NpdGlvbigpLnkgPCB0aGlzLm1pbkJvdW5kcy55XHJcbiAgICAgICAgICAgICAgICAgICAgfHwgcGFydGljbGUuZ2V0UG9zaXRpb24oKS56IDwgdGhpcy5taW5Cb3VuZHMueiB8fCBwYXJ0aWNsZS5nZXRQb3NpdGlvbigpLnogPiB0aGlzLm1heEJvdW5kcy56KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFydGljbGUub25EZWF0aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlUGFydGljbGUoaSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHN0b3JlU3RhdGUoKTogQXJyYXk8QXJyYXk8bnVtYmVyPj4ge1xyXG4gICAgICAgIGNvbnN0IHN0YXRlID0gbmV3IEFycmF5PEFycmF5PG51bWJlcj4+KCk7XHJcbiAgICAgICAgdGhpcy5wYXJ0aWNsZXMuZm9yRWFjaCgocGFydGljbGUsIGkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcG9zID0gcGFydGljbGUuZ2V0UG9zaXRpb24oKTtcclxuICAgICAgICAgICAgY29uc3QgdiA9IHBhcnRpY2xlLmdldFZlbG9jaXR5KCk7XHJcbiAgICAgICAgICAgIHN0YXRlLnB1c2gobmV3IEFycmF5PG51bWJlcj4ocG9zLngsIHBvcy55LCBwb3Mueiwgdi54LCB2LnksIHYueikpO1xyXG4gICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgIHJldHVybiBzdGF0ZTtcclxuICAgIH1cclxuICAgIHJlc3RvcmVTdGF0ZShzdGF0ZTogQXJyYXk8QXJyYXk8bnVtYmVyPj4pIHtcclxuICAgICAgICB0aGlzLnBhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZSwgaSkgPT4ge1xyXG4gICAgICAgICAgICBwYXJ0aWNsZS5zZXRQb3NpdGlvbihzdGF0ZVtpXVswXSwgc3RhdGVbaV1bMV0sIHN0YXRlW2ldWzJdKTtcclxuICAgICAgICAgICAgcGFydGljbGUuc2V0VmVsb2NpdHkoc3RhdGVbaV1bM10sIHN0YXRlW2ldWzRdLCBzdGF0ZVtpXVs1XSk7XHJcbiAgICAgICAgfSwgdGhpcyk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVNaWRQb2ludCh0aW1lX3N0ZXA6IG51bWJlcikge1xyXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdG9yZVN0YXRlKCk7XHJcbiAgICAgICAgdGhpcy5kZXJpdmF0aXZlID0gdGhpcy5jYWxjdWxhdGVEZXJpdmF0aXZlKHRoaXMuZGVyaXZhdGl2ZSk7XHJcbiAgICAgICAgdGhpcy5kZXJpdmF0aXZlLnNjYWxlKHRpbWVfc3RlcCAvIDIpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCc9PT09PT09PUludGVybWVkaWF0ZT09PT09PT0nKTtcclxuICAgICAgICAvLyB0aGlzLmRlcml2YXRpdmUucHJpbnQoKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUFsbFBhcnRpY2xlcygpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCctLS0tLS0tLUludGVybWVkaWF0ZSBwYXJ0aWNsZS0tLS0tLScpO1xyXG4gICAgICAgIC8vIHRoaXMucHJpbnQoKTtcclxuICAgICAgICB0aGlzLmRlcml2YXRpdmUgPSB0aGlzLmNhbGN1bGF0ZURlcml2YXRpdmUodGhpcy5kZXJpdmF0aXZlKTtcclxuICAgICAgICB0aGlzLmRlcml2YXRpdmUuc2NhbGUodGltZV9zdGVwKTtcclxuICAgICAgICB0aGlzLnJlc3RvcmVTdGF0ZShzdGF0ZSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVBbGxQYXJ0aWNsZXMoKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZVJLNCh0aW1lX3N0ZXA6IG51bWJlcikge1xyXG4gICAgICAgIGNvbnN0IG9sZERlcml2YXRpdmUgPSB0aGlzLmRlcml2YXRpdmU7XHJcbiAgICAgICAgLy8gdGhpcy5wcm9maWxlci5zdGFydChcIlBTIDogU3RvcmVTdGF0ZVwiLCAxMDAwKTtcclxuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RvcmVTdGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuZGVyaXZhdGl2ZUNhY2hlc1swXSA9IHRoaXMuY2FsY3VsYXRlRGVyaXZhdGl2ZSh0aGlzLmRlcml2YXRpdmVDYWNoZXNbMF0pO1xyXG4gICAgICAgIHRoaXMuZGVyaXZhdGl2ZUNhY2hlc1swXS5zY2FsZSh0aW1lX3N0ZXAgLyAyKTtcclxuICAgICAgICBjb25zdCBrMSA9IHRoaXMuZGVyaXZhdGl2ZUNhY2hlc1swXTtcclxuICAgICAgICB0aGlzLmRlcml2YXRpdmUgPSBrMTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUFsbFBhcnRpY2xlcygpO1xyXG4gICAgICAgIHRoaXMuZGVyaXZhdGl2ZUNhY2hlc1sxXSA9IHRoaXMuY2FsY3VsYXRlRGVyaXZhdGl2ZSh0aGlzLmRlcml2YXRpdmVDYWNoZXNbMV0pO1xyXG4gICAgICAgIHRoaXMuZGVyaXZhdGl2ZUNhY2hlc1sxXS5zY2FsZSh0aW1lX3N0ZXAgLyAyKTtcclxuICAgICAgICBjb25zdCBrMiA9IHRoaXMuZGVyaXZhdGl2ZUNhY2hlc1sxXTtcclxuICAgICAgICB0aGlzLmRlcml2YXRpdmUgPSBrMjtcclxuICAgICAgICB0aGlzLnJlc3RvcmVTdGF0ZShzdGF0ZSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVBbGxQYXJ0aWNsZXMoKTtcclxuICAgICAgICB0aGlzLmRlcml2YXRpdmVDYWNoZXNbMl0gPSB0aGlzLmNhbGN1bGF0ZURlcml2YXRpdmUodGhpcy5kZXJpdmF0aXZlQ2FjaGVzWzJdKTtcclxuICAgICAgICB0aGlzLmRlcml2YXRpdmVDYWNoZXNbMl0uc2NhbGUodGltZV9zdGVwKTtcclxuICAgICAgICBjb25zdCBrMyA9IHRoaXMuZGVyaXZhdGl2ZUNhY2hlc1syXTtcclxuICAgICAgICB0aGlzLmRlcml2YXRpdmUgPSBrMztcclxuICAgICAgICB0aGlzLnJlc3RvcmVTdGF0ZShzdGF0ZSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVBbGxQYXJ0aWNsZXMoKTtcclxuICAgICAgICB0aGlzLmRlcml2YXRpdmVDYWNoZXNbM10gPSB0aGlzLmNhbGN1bGF0ZURlcml2YXRpdmUodGhpcy5kZXJpdmF0aXZlQ2FjaGVzWzNdKTtcclxuICAgICAgICB0aGlzLmRlcml2YXRpdmVDYWNoZXNbM10uc2NhbGUodGltZV9zdGVwKTtcclxuICAgICAgICBjb25zdCBrNCA9IHRoaXMuZGVyaXZhdGl2ZUNhY2hlc1szXTtcclxuICAgICAgICAvLyB0aGlzLnByb2ZpbGVyLnN0b3AoXCJQUyA6IFN0b3JlU3RhdGVcIiwgMTAwMCk7XHJcbiAgICAgICAgLy8gdGhpcy5wcm9maWxlci5zdGFydChcIlBTIDogUmVzdG9yZVN0YXRlXCIsIDEwMDApO1xyXG4gICAgICAgIHRoaXMuZGVyaXZhdGl2ZSA9IGs0O1xyXG4gICAgICAgIHRoaXMucmVzdG9yZVN0YXRlKHN0YXRlKTtcclxuICAgICAgICBrMS5zY2FsZSgxIC8gMyk7XHJcbiAgICAgICAgdGhpcy5kZXJpdmF0aXZlID0gazE7XHJcbiAgICAgICAgdGhpcy51cGRhdGVBbGxQYXJ0aWNsZXMoKTtcclxuICAgICAgICBrMi5zY2FsZSgyIC8gMyk7XHJcbiAgICAgICAgdGhpcy5kZXJpdmF0aXZlID0gazI7XHJcbiAgICAgICAgdGhpcy51cGRhdGVBbGxQYXJ0aWNsZXMoKTtcclxuICAgICAgICBrMy5zY2FsZSgxIC8gMyk7XHJcbiAgICAgICAgdGhpcy5kZXJpdmF0aXZlID0gazM7XHJcbiAgICAgICAgdGhpcy51cGRhdGVBbGxQYXJ0aWNsZXMoKTtcclxuICAgICAgICBrNC5zY2FsZSgxIC8gNik7XHJcbiAgICAgICAgdGhpcy5kZXJpdmF0aXZlID0gazQ7XHJcbiAgICAgICAgdGhpcy51cGRhdGVBbGxQYXJ0aWNsZXMoKTtcclxuICAgICAgICB0aGlzLmRlcml2YXRpdmUgPSBvbGREZXJpdmF0aXZlO1xyXG4gICAgICAgIC8vIHRoaXMucHJvZmlsZXIuc3RvcChcIlBTIDogUmVzdG9yZVN0YXRlXCIsIDEwMDApO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGNhbGN1bGF0ZURlcml2YXRpdmUoZGVyaXZhdGl2ZTogUGFydGljbGVEZXJpdmF0aXZlKTogUGFydGljbGVEZXJpdmF0aXZlIHtcclxuICAgICAgICAvLyBjbGVhciB0aGUgZGVyaXZhdGl2ZSBmaXJzdFxyXG4gICAgICAgIGRlcml2YXRpdmUuY2xlYXIoKTtcclxuICAgICAgICB0aGlzLnBhcnRpY2xlcy5mb3JFYWNoKChwLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGRlcml2YXRpdmUuYWRkKGksIFtwLmdldFZlbG9jaXR5KCkueCwgcC5nZXRWZWxvY2l0eSgpLnksIHAuZ2V0VmVsb2NpdHkoKS56LCAwLCAwLCAwXSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLmZvcmNlcy5mb3JFYWNoKGZvcmNlID0+IHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLnBhcnRpY2xlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBpOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZm9yY2VzID0gZm9yY2UuYXBwbHkodGhpcy5wYXJ0aWNsZXNbaV0sIHRoaXMucGFydGljbGVzW2pdKTtcclxuICAgICAgICAgICAgICAgICAgICBkZXJpdmF0aXZlLmFkZChpLCBbMCwgMCwgMCwgZm9yY2VzWzBdLngsIGZvcmNlc1swXS55LCBmb3JjZXNbMF0uel0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlcml2YXRpdmUuYWRkKGosIFswLCAwLCAwLCBmb3JjZXNbMV0ueCwgZm9yY2VzWzFdLnksIGZvcmNlc1sxXS56XSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB0aGlzKTtcclxuICAgICAgICByZXR1cm4gZGVyaXZhdGl2ZTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVBbGxQYXJ0aWNsZXMoKSB7XHJcbiAgICAgICAgdGhpcy5wYXJ0aWNsZXMuZm9yRWFjaCgocGFydGljbGUsIGkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZCA9IHRoaXMuZGVyaXZhdGl2ZS5nZXQoaSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBvcyA9IHBhcnRpY2xlLmdldFBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHYgPSBwYXJ0aWNsZS5nZXRWZWxvY2l0eSgpO1xyXG4gICAgICAgICAgICBwYXJ0aWNsZS5zZXRQb3NpdGlvbihwb3MueCArIGRbMF0sIHBvcy55ICsgZFsxXSwgcG9zLnogKyBkWzJdKTtcclxuICAgICAgICAgICAgcGFydGljbGUuc2V0VmVsb2NpdHkodi54ICsgZFszXSwgdi55ICsgZFs0XSwgdi56ICsgZFs1XSk7XHJcbiAgICAgICAgfSwgdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpbnQoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCItLS0tUGFydGljbGUgU3lzdGVtLS0tLS1cIik7XHJcblxyXG4gICAgICAgIHRoaXMucGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cIik7XHJcbiAgICAgICAgICAgIGNvbnN0IHBvcyA9IHBhcnRpY2xlLmdldFBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHYgPSBwYXJ0aWNsZS5nZXRWZWxvY2l0eSgpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBhcnRpY2xlIFwiICsgaSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTWFzcyBcIiwgcGFydGljbGUuZ2V0TWFzcygpKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJQb3NpdGlvbiBcIiwgcG9zLngsIHBvcy55LCBwb3Mueik7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVmVsb2NpdHkgXCIsIHYueCwgdi55LCB2LnopO1xyXG4gICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiLS0tLS0tLS0tLS0tWC0tLS0tLS0tLS0tXCIpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcmludERlcml2YXRpdmUoKSB7XHJcbiAgICAgICAgdGhpcy5kZXJpdmF0aXZlLnByaW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLnBhcnRpY2xlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuZm9yY2VzID0gW107XHJcbiAgICAgICAgdGhpcy5kZXJpdmF0aXZlLmRlc3Ryb3koKTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgeyBJVmVjdG9yR2VuZXJhdG9yIH0gZnJvbSBcIi4uL2ktcGFydGljbGUtZ2VuZXJhdG9yXCI7XHJcbmltcG9ydCB7IE1hdHJpeDQsIFZlY3RvcjMgfSBmcm9tIFwidGhyZWVcIjtcclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgcG9zaXRpb25zIGFzIGRlZmluZWQgYnkgYW4gZWxsaXBzZSBvZiBjZXJ0YWluIHdpZHRoXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgRWxsaXB0aWNhbFBvc2l0aW9uR2VuZXJhdG9yIGltcGxlbWVudHMgSVZlY3RvckdlbmVyYXRvciB7XHJcbiAgICB0cmFuc2Zvcm1NYXRyaXggPSBuZXcgTWF0cml4NCgpO1xyXG4gICAgdHJhbnNmb3JtTWF0cml4SW52ID0gbmV3IE1hdHJpeDQoKTtcclxuICAgIEE6IG51bWJlcjtcclxuICAgIEI6IG51bWJlcjtcclxuICAgIHdpZHRoID0gMDtcclxuICAgIGNvbnN0cnVjdG9yKEE6IG51bWJlciwgQjogbnVtYmVyLCBDPzogVmVjdG9yMywgeD86IFZlY3RvcjMsIHk/OiBWZWN0b3IzLCB6PzogVmVjdG9yMykge1xyXG4gICAgICAgIHRoaXMuQSA9IEE7XHJcbiAgICAgICAgdGhpcy5CID0gQjtcclxuICAgICAgICBpZiAoeCAhPT0gdW5kZWZpbmVkICYmIHkgIT09IHVuZGVmaW5lZCAmJiB6ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1NYXRyaXgubWFrZUJhc2lzKHgsIHksIHopO1xyXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybU1hdHJpeC50cmFuc3Bvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKEMpIHtcclxuICAgICAgICAgICAgQy5hcHBseU1hdHJpeDQodGhpcy50cmFuc2Zvcm1NYXRyaXhJbnYuZ2V0SW52ZXJzZSh0aGlzLnRyYW5zZm9ybU1hdHJpeCkpO1xyXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybU1hdHJpeC5zZXRQb3NpdGlvbihDKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1NYXRyaXhJbnYuZ2V0SW52ZXJzZSh0aGlzLnRyYW5zZm9ybU1hdHJpeCk7XHJcbiAgICB9XHJcbiAgICBzZXRXaWR0aCh3aWR0aDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgfVxyXG4gICAgZ2VuZXJhdGUoKTogVmVjdG9yMyB7XHJcbiAgICAgICAgY29uc3QgcG9zID0gbmV3IFZlY3RvcjMoKTtcclxuICAgICAgICB2YXIgdGhldGEgPSBNYXRoLlBJICogMiAqIE1hdGgucmFuZG9tKCk7XHJcbiAgICAgICAgLy8gV291bGQgc3RpbGwgYmUgdGhyZWUgY29vcmRpbmF0ZSBheGVzXHJcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gbmV3IFZlY3RvcjMoKHRoaXMuQSArIHRoaXMud2lkdGggKiBNYXRoLnJhbmRvbSgpKSAqIE1hdGguY29zKHRoZXRhKSxcclxuICAgICAgICAgICAgKHRoaXMud2lkdGggKiBNYXRoLnJhbmRvbSgpICsgdGhpcy5CKSAqIE1hdGguc2luKHRoZXRhKSk7XHJcbiAgICAgICAgcG9zaXRpb24uYXBwbHlNYXRyaXg0KHRoaXMudHJhbnNmb3JtTWF0cml4SW52KTtcclxuICAgICAgICByZXR1cm4gcG9zaXRpb247XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUGl4ZWxSYXkgfSBmcm9tIFwiLi9waXhlbC1yYXlcIjtcclxuaW1wb3J0IHsgUGFydGljbGVTeXN0ZW0gfSBmcm9tIFwiLi4vcGFydGljbGUtc3lzdGVtL3BhcnRpY2xlLXN5c3RlbVwiO1xyXG5pbXBvcnQgeyBSYXlUcmFjaW5nQ29sbGlzaW9uTWFuYWdlciB9IGZyb20gXCIuL2NvbGxpc2lvbi1tYW5hZ2VyXCI7XHJcbmltcG9ydCB7IElSYXlUcmFjZXIgfSBmcm9tIFwiLi9pLXJheXRyYWNlclwiO1xyXG5pbXBvcnQgeyBJUmF5VHJhY2VhYmxlIH0gZnJvbSBcIi4vaS1yYXl0cmFjZWFibGVcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVJheVRyYWNpbmdDdXN0b21pemVyIHtcclxuICAgIHBvc3RFbWl0KHJheTogUGl4ZWxSYXkpOiBhbnk7XHJcbiAgICB1cGRhdGUoKTogYW55O1xyXG59XHJcbi8qKlxyXG4gKiBMZXQncyB0cnkgYSBwbHVnIGFuZCBwbGF5IGFwcHJvYWNoIGluc3RlYWQgb2YgZXh0ZW5kaW5nIHRoZSBtYWluIHJheS10cmFjZXJcclxuICogVGhhdCB3YXkgd2UgZG9uJ3QgaGF2ZSB0byBvdmVycmlkZSBhbnkgb2YgaXRzIGV4aXN0aW5nIG1ldGhvZHMsIGtlZXBpbmcgdGhpbmdzXHJcbiAqIHNpbXBsZS5cclxuICogSG93ZXZlciwgd2UgZG9uJ3QgZ2V0IHRvdGFsIGFjY2VzcyB0byB0aGUgc3VwZXIgY2xhc3MsIGJ1dCBvbmx5IGF0IGNlcnRhaW4gcG9pbnRzXHJcbiAqIGFuZCB3aXRoIGNlcnRhaW4gdmFyaWFibGVzXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUGFydGljbGVTeXN0ZW1DdXN0b21pemVyIGltcGxlbWVudHMgSVJheVRyYWNpbmdDdXN0b21pemVyIHtcclxuICAgIHByaXZhdGUgcGFydGljbGVTeXN0ZW06IFBhcnRpY2xlU3lzdGVtO1xyXG4gICAgcHJpdmF0ZSByYXlzOiBBcnJheTxQaXhlbFJheT47XHJcbiAgICBwcml2YXRlIGNvbGxpc2lvbk1hbmFnZXI6IFJheVRyYWNpbmdDb2xsaXNpb25NYW5hZ2VyO1xyXG4gICAgcmF5dHJhY2VyOiBJUmF5VHJhY2VyO1xyXG4gICAgcHJpdmF0ZSB0aW1lX3N0ZXA6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwczogUGFydGljbGVTeXN0ZW0sIHJheXRyYWNlcjogSVJheVRyYWNlciwgb2JzdGFjbGVzOiBBcnJheTxJUmF5VHJhY2VhYmxlPiwgdGltZV9zdGVwOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnJheXMgPSBuZXcgQXJyYXk8UGl4ZWxSYXk+KCk7XHJcbiAgICAgICAgdGhpcy5wYXJ0aWNsZVN5c3RlbSA9IHBzO1xyXG4gICAgICAgIHRoaXMuY29sbGlzaW9uTWFuYWdlciA9IG5ldyBSYXlUcmFjaW5nQ29sbGlzaW9uTWFuYWdlcihyYXl0cmFjZXIpO1xyXG4gICAgICAgIHRoaXMuY29sbGlzaW9uTWFuYWdlci5zZXRSYXlzKHRoaXMucmF5cyk7XHJcbiAgICAgICAgdGhpcy50aW1lX3N0ZXAgPSB0aW1lX3N0ZXA7XHJcbiAgICAgICAgdGhpcy5jb2xsaXNpb25NYW5hZ2VyLnNldE9ic3RhY2xlcyhvYnN0YWNsZXMpXHJcbiAgICAgICAgdGhpcy5yYXl0cmFjZXIgPSByYXl0cmFjZXI7XHJcbiAgICB9XHJcbiAgICBwb3N0RW1pdChyYXk6IFBpeGVsUmF5KTogYW55IHtcclxuICAgICAgICBpZiAocmF5ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJ0aWNsZVN5c3RlbS5hZGRQYXJ0aWNsZShyYXkpO1xyXG4gICAgICAgICAgICB0aGlzLnJheXMucHVzaChyYXkpOyAgICBcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzZXRUaW1lU3RlcCh0aW1lX3N0ZXA6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMudGltZV9zdGVwID0gdGltZV9zdGVwO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIC8vIHRoaXMgaXMgbm90IGdvb2QuIFRoaXMgbmVlZHMgdG8gYmUgbWFuYWdlZCBzb21ld2hlcmUgZWxzZVxyXG4gICAgICAgIGNvbnN0IGxlbiA9IHRoaXMucmF5cy5sZW5ndGg7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IGxlbiAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJheSA9IHRoaXMucmF5c1tpXTtcclxuICAgICAgICAgICAgaWYgKCFyYXkuaXNBbGl2ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJheXMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yYXl0cmFjZXIuZW1pdEZyb20ocmF5LmdldE9yaWdpblBpeGVsKCkueCwgcmF5LmdldE9yaWdpblBpeGVsKCkueSk7ICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMucmF5dHJhY2VyLmVtaXRGcm9tUmFuZG9tUGl4ZWwoKTsgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5wYXJ0aWNsZVN5c3RlbS5wcmludENPdW50KCk7ICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIk5vLiBvZiByYXlzIFwiLCB0aGlzLnJheXMubGVuZ3RoKTtcclxuICAgICAgICB0aGlzLmNvbGxpc2lvbk1hbmFnZXIudXBkYXRlKHRoaXMudGltZV9zdGVwKTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgeyBJVmVjdG9yR2VuZXJhdG9yIH0gZnJvbSBcIi4uL2ktcGFydGljbGUtZ2VuZXJhdG9yXCI7XHJcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tIFwidGhyZWVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBGaXhlZFBvc2l0aW9uR2VuZXJhdG9yIGltcGxlbWVudHMgSVZlY3RvckdlbmVyYXRvciB7XHJcbiAgICBwb3M6IFZlY3RvcjM7XHJcbiAgICBjb25zdHJ1Y3RvcihmaXg6IFZlY3RvcjMpIHtcclxuICAgICAgICB0aGlzLnBvcyA9IGZpeDtcclxuICAgIH1cclxuICAgIGdlbmVyYXRlKCk6IFZlY3RvcjMge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBvcztcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgeyBXZWJHTFJlbmRlcmVyLCBTY2VuZSwgUGVyc3BlY3RpdmVDYW1lcmEsIFJheWNhc3RlciwgQ29sb3IsIE9iamVjdDNEIH0gZnJvbSBcInRocmVlXCI7XHJcbmltcG9ydCB7IFBvaW50U2V0IH0gZnJvbSBcIi4vcG9pbnQtc2V0XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQm9pbGVycGxhdGUge1xyXG5cclxuICAgIHJlbmRlcmVyOiBXZWJHTFJlbmRlcmVyO1xyXG4gICAgc2NlbmU6IFNjZW5lO1xyXG4gICAgY2FtZXJhOiBQZXJzcGVjdGl2ZUNhbWVyYTtcclxuICAgIHJheWNhc3RlcjogUmF5Y2FzdGVyO1xyXG4gICAgbW91c2UgPSB7IHg6IDAsIHk6IDAgfTtcclxuICAgIHBvaW50U2V0OiBQb2ludFNldDtcclxuICAgIGludGVycG9sYXRlZFBvaW50czogUG9pbnRTZXQ7XHJcbiAgICBwb2ludFNlbGVjdGVkICE6IE9iamVjdDNEIHwgbnVsbDtcclxuICAgIHQ6IG51bWJlcjtcclxuICAgIGFzcGVjdFJhdGlvOiBudW1iZXI7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHRoaXMucmF5Y2FzdGVyID0gbmV3IFJheWNhc3RlcigpO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFdlYkdMUmVuZGVyZXIoKTtcclxuICAgICAgICAvLyB0aGlzLnJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xyXG4gICAgICAgIHZhciB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgICAgIHZhciBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICAgICAgLy8gdmFyIHdpZHRoID0gd2luZG93Lm91dGVyV2lkdGg7XHJcbiAgICAgICAgLy8gdmFyIGhlaWdodCA9IHdpbmRvdy5vdXRlckhlaWdodDtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XHJcbiAgICAgICAgY29uc29sZS5sb2cod2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xyXG4gICAgICAgIHRoaXMuYXNwZWN0UmF0aW8gPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgICAgICB0aGlzLmNhbWVyYSA9IG5ldyBQZXJzcGVjdGl2ZUNhbWVyYSg0NSwgd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsIDEsIDIwMDAwKTtcclxuICAgICAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi5zZXQoMCwgMCwgMjAwKTtcclxuICAgICAgICB0aGlzLmNhbWVyYS5sb29rQXQoMCwgMCwgMCk7XHJcbiAgICAgICAgLy8gc2V0VGltZW91dCh0aGlzLm9uV2luZG93UmVzaXplLmJpbmQodGhpcyksIDMwMDApO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBuZXcgU2NlbmUoKTtcclxuICAgICAgICB0aGlzLnNjZW5lLmJhY2tncm91bmQgPSBuZXcgQ29sb3IoJyMwMDAwMDAnKTtcclxuICAgICAgICBjb25zb2xlLmxvZyh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vbldpbmRvd1Jlc2l6ZS5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIHRoaXMucG9zdEluaXRIb29rKCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIFBvc3QgY3JlYXRpb24gaG9vayBcclxuICAgIHBvc3RJbml0SG9vaygpIHtcclxuICAgIH1cclxuXHJcbiAgICBvbldpbmRvd1Jlc2l6ZSgpIHtcclxuICAgICAgICB2YXIgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgICAgICB2YXIgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLmFzcGVjdCA9IHdpZHRoIC9oZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xyXG4gICAgICAgIHRoaXMuYXNwZWN0UmF0aW8gPSB3aWR0aCAvIGhlaWdodDtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm1heFdpZHRoID0gd2lkdGgrXCJweFwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubWF4SGVpZ2h0ID0gaGVpZ2h0K1wicHhcIjtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vXHJcblxyXG4gICAgYW5pbWF0ZSgpIHtcclxuICAgICAgICAvLyB0aGlzLm9uV2luZG93UmVzaXplKCk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRlSG9vaygpO1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGUuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgICAgICB0aGlzLnQgKz0gMTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBVc2UgdGhpcyBmdW5jdGlvbiB0byBwbGFjZSBhbGwgYW5pbWF0aW9uIGNvZGVcclxuICAgIGFuaW1hdGVIb29rKCkge1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuXHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/5+L":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RayTracingPhotonGenerator=e.RayTracingPhotonVelocityGenerator=e.RayTracer=void 0;var o=i("4kaQ"),r=i("Womt"),n=i("Uj6v"),s=i("wBSO"),a=i("L5Ia"),c=i("anZJ"),h=function(){function t(t,e,i,o,n,s){void 0===e&&(e=new r.Vector3),void 0===i&&(i=new r.Vector3(0,0,1)),void 0===o&&(o=Math.PI/4),void 0===n&&(n=100),void 0===s&&(s=299792458),this.DIST_TO_PLATE=1,this.ASPECT_RATIO=1,this.hole=e,this.createPlate(o,n),this.scene=t,this.image=new r.DataTexture(this.plate.getImage(),this.plate.resolution.x,this.plate.resolution.y,r.RGBAFormat),this.photo=new r.MeshBasicMaterial,this.photo.map=this.image,this.mesh=new r.Mesh(new r.PlaneGeometry(10,10),this.photo),this.mesh.position.copy(this.hole),this.rotation=(new r.Quaternion).setFromUnitVectors(new r.Vector3(0,0,1),i.normalize()),this.createGenerator(s),this.emitter=new c.VariableRayEmitter(this.getResolution(),this,this.generator)}return t.prototype.objectWasHit=function(t,e){this.emitter.objectWasHit(t,e)},t.prototype.getWidth=function(){return this.plate.width},t.prototype.getHeight=function(){return this.plate.height},t.prototype.getRotation=function(){return this.rotation},t.prototype.getDistanceToCanvas=function(){return this.DIST_TO_PLATE},t.prototype.getPosition=function(){return this.hole.clone()},t.prototype.setCustomizer=function(t){this.customizer=t},t.prototype.createGenerator=function(t){this.generator=new u(this.scene,t)},t.prototype.createPlate=function(t,e){var i=2*this.DIST_TO_PLATE*Math.tan(t),n=this.ASPECT_RATIO*i,s=this.ASPECT_RATIO*e,a=new o.PhotographicPlate(i,n,e,s,new r.Vector3(0,0,this.DIST_TO_PLATE),new r.Vector3(0,0,-1));this.plate=a},t.prototype.getPhoto=function(){return this.mesh},t.prototype.getResolution=function(){return this.plate.resolution},t.prototype.update=function(){this.customizer&&this.customizer.update(),this.image.needsUpdate=!0},t.prototype.emitPhotons=function(t){var e=this;t||(t=this.emitter),t.emit().forEach((function(t){e.postEmit(t)}))},t.prototype.emitFrom=function(t,e){var i=this.emitter.emitFrom(t,e);this.postEmit(i)},t.prototype.emitFromRandomPixel=function(){var t=Math.floor(Math.random()*this.plate.resolution.x),e=Math.floor(Math.random()*this.plate.resolution.x);this.emitFrom(t,e)},t.prototype.postEmit=function(t){this.customizer&&null!=t&&this.customizer.postEmit(t)},t.prototype.setPixel=function(t,e,i,o){this.plate.setPixel(t,e,i)},t}();e.RayTracer=h;var p=function(){function t(t){void 0===t&&(t=299792458),this.c=299792458,this.c=t}return t.prototype.parameter=function(t){this.dir=t.normalize()},t.prototype.generate=function(){var t=this.dir.clone();return t.multiplyScalar(this.c),t},t}();e.RayTracingPhotonVelocityGenerator=p;var u=function(){function t(t,e){void 0===e&&(e=299792458),this.x=0,this.y=0,this.generator=new n.PhotonGenerator,this.velocity_generator=new p(e),this.generator.setVelocityGenerator(this.velocity_generator),this.generator.setPositionGenerator(new s.FixedPositionGenerator(new r.Vector3)),this.scene=t}return t.prototype.parameter=function(t,e,i){this.x=t,this.y=e,this.velocity_generator.parameter(i)},t.prototype.generate=function(){var t=this.generator.generate(),e=new a.PixelRay(this.scene,new r.Vector2(this.x,this.y));return e.copy(t),e},t}();e.RayTracingPhotonGenerator=u},"/7QA":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(new(i("lelv").BlackHoleStarter)).animate()},"4kaQ":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PhotographicPlate=e.Photograph=void 0;var o=i("Womt"),r=i("fyR2"),n=function(){function t(t){this.plate=t,this.image=new o.DataTexture(this.plate.getImage(),t.resolution.x,t.resolution.y,o.RGBAFormat),this.photo=new o.MeshBasicMaterial,this.photo.map=this.image,this.mesh=new o.Mesh(new o.PlaneGeometry(10,10),this.photo)}return t.prototype.getPhoto=function(){return this.mesh},t.prototype.update=function(t,e){this.plate.expose(t,e),this.image.needsUpdate=!0},t}();e.Photograph=n;var s=function(){function t(t,e,i,r,n,s){void 0===t&&(t=1),void 0===e&&(e=1),void 0===i&&(i=100),void 0===r&&(r=100),void 0===n&&(n=new o.Vector3),void 0===s&&(s=new o.Vector3(0,0,1)),this.width=t,this.height=e,this.position=n,this.normal=s.normalize(),this.resolution=new o.Vector2(i,r),this.data=new Uint8Array(4*i*r)}return t.prototype.getImage=function(){return this.data},t.prototype.expose=function(t,e){var i=this,n=(new o.Quaternion).setFromUnitVectors(this.normal,new o.Vector3(0,0,1)),s=[16,0,0,0];t.forEach((function(t){if(t.getType()==r.SpaceParticle.PHOTON){var a=t.getPosition(),c=(new o.Vector3).addVectors(t.getPosition(),t.getVelocity().multiplyScalar(e)),h=i.intersectsWithPlate(a,c);if(h.x!=Number.POSITIVE_INFINITY){var p=h.sub(i.position);p.applyQuaternion(n),p.x=i.width/2+p.x*i.resolution.x/i.width,p.y=i.height/2+p.y*i.resolution.y/i.height,p.x=4*Math.round(p.x),p.y=4*Math.round(p.y);var u=p.y*i.resolution.x+p.x;s.forEach((function(t,e){i.data[u+e]=Math.min(i.data[u+e]+t,255)}))}}}))},t.prototype.setPixel=function(t,e,i){var o=this;t=4*Math.floor(t);var r=(e=4*Math.floor(e))*this.resolution.x+t;i.forEach((function(t,e){o.data[r+e]=Math.min(o.data[r+e]+t,255)}))},t.prototype.intersectsWithPlate=function(t,e){var i=new o.Vector3(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),r=(new o.Vector3).subVectors(e,t),n=(new o.Vector3).subVectors(t,this.position).dot(this.normal),s=(new o.Vector3).subVectors(e,this.position).dot(this.normal);if(n*s>0)return i;if(0==n)return t;if(0==s)return e;var a=Math.abs(n)/(Math.abs(n)+Math.abs(s));i=t.add(r.multiplyScalar(a));var c=(new o.Vector3).subVectors(i,this.position);return(Math.abs(c.x)>this.width||Math.abs(c.y)>this.height)&&i.set(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),i},t}();e.PhotographicPlate=s},"4xLO":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TimeProfile=void 0;var o=function(){function t(t,e){void 0===t&&(t="Method"),void 0===e&&(e=1),this.updateCount=0,this.updateEvery=e,this.name=t}return t.prototype.start=function(){this.startTime=(new Date).getTime()},t.prototype.stop=function(){var t=(new Date).getTime(),e=t-this.startTime;return this.startTime=t,this.updateCount++,this.updateCount>this.updateEvery&&(this.updateCount=0,this.print(),this.interval=0),this.interval+=e,this.interval},t.prototype.print=function(){console.log("%s took %s ms",this.name,this.interval)},t}();e.TimeProfile=o},"5OmT":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RayTracingCollisionManager=void 0;var o=i("Womt"),r=i("bJLd"),n=function(){function t(t){this.raytracer=t,this.bg=new s(this.raytracer.getResolution().x,this.raytracer.getResolution().y,1)}return t.prototype.setRays=function(t){this.rays=t},t.prototype.setObstacles=function(t){this.obstacles=t,this.octree=new r.Octree(this.obstacles,new o.Vector3(-50,-50,-50),new o.Vector3(50,50,50),4,10)},t.prototype.updateParticleInOctree=function(t){},t.prototype.onCollision=function(t,e){var i=[200,0,0,0];i=this.dopplerShiftColor(i,t.getVelocity(),e.getVelocity()),this.raytracer.setPixel(e.getOriginPixel().x,e.getOriginPixel().y,i,new o.Vector3),this.raytracer.objectWasHit(e.getOriginPixel().x,e.getOriginPixel().y)},t.prototype.dopplerShiftColor=function(t,e,i){var o=i.clone().normalize(),r=e.dot(o),n=o.multiplyScalar(e.dot(o)).length()/i.length();return r>0?t[0]=Math.min(t[0]+Math.ceil(128*n),255):t[2]=Math.min(t[2]+Math.ceil(128*n),255),t},t.prototype.update=function(t){var e=this;this.rays.forEach((function(i){var r=i.getPosition(),n=i.getPosition().addScaledVector(i.getVelocity(),t);if(r.z<-45){var s=e.raytracer.getResolution().x/2+Math.floor(r.x/100*e.raytracer.getResolution().x),a=e.raytracer.getResolution().y/2+Math.floor(r.y/100*e.raytracer.getResolution().y);if(Math.random()<0&&e.bg.shouldFill(s,a)){i.onDeath();var c=[255,255,255,0];e.raytracer.setPixel(i.getOriginPixel().x,i.getOriginPixel().y,c,new o.Vector3)}}else{var h=e.octree.findRay(r,n);if(h)h.getObjects().forEach((function(t){if(t.intersectsWithRay(r,n,i.getRadius())){i.onDeath();e.onCollision(t,i)}}))}}))},t}();e.RayTracingCollisionManager=n;var s=function(){function t(t,e,i){this.pixels=new Array(t*e),this.dimensions=new o.Vector2(t,e),this.assign(i*(t*e))}return t.prototype.assign=function(t){for(var e=0;e<this.dimensions.x;e++)for(var i=0;i<this.dimensions.y;i++)if(e%16==0||i%16==0){var o=i*this.dimensions.x+e;this.pixels[o]=1}},t.prototype.shouldFill=function(t,e){var i=e*this.dimensions.x+t;return 1==this.pixels[i]},t}()},BNAQ:function(t,e,i){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.EllipticalParticleGenerator=void 0;var n=i("KD8D"),s=i("P8No"),a=i("bYUt"),c=i("t9Jl"),h=function(t){function e(e,i,o,r,n,a,h){var p=t.call(this)||this;return p.velocity_generator=new s.TangentialVelocityGenerator,p.position_generator=new c.EllipticalPositionGenerator(e,i,o,r,n,a),p.center=o,p.axis=a,p.mag=h,p}return r(e,t),e.prototype.setWidth=function(t){this.position_generator.setWidth(t)},e.prototype.generate=function(){var t=this.mass_min+Math.random()*(this.mass_max-this.mass_min),e=new a.Particle(t),i=this.position_generator.generate();this.velocity_generator.parameters(this.center,i,this.axis);var o=this.velocity_generator.generate();return o.multiplyScalar(this.mag),e.setVelocity(o.x,o.y,o.z),e.setPosition(i.x,i.y,i.z),e.setLifespan(this.lifespan),e},e}(n.ParticleGenerator);e.EllipticalParticleGenerator=h},DFd6:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleParticle=void 0;var o=i("Womt"),r=i("bYUt"),n=function(){function t(t,e,i,n,s){void 0===i&&(i="#ff0000"),void 0===n&&(n=1),void 0===s&&(s=1),this.name=e,this.geometry=new o.SphereBufferGeometry(1),this.material=new o.MeshBasicMaterial({color:i}),this.mesh=new o.Mesh(this.geometry,this.material),this.mesh.scale.set(n,n,n),this.particle=new r.Particle(s,n),this.color=i,this.scene=t,this.scene.add(this.mesh)}return t.prototype.intersectsWithBox=function(t,e){return this.particle.intersectsWithBox(t,e)},t.prototype.setRadius=function(t){return this.mesh.scale.set(t,t,t),this.particle.setRadius(t)},t.prototype.intersectsWithRay=function(t,e,i){return this.particle.intersectsWithRay(t,e,i)},t.prototype.isAlive=function(){return this.particle.isAlive()},t.prototype.copy=function(t){this.particle.copy(t),this.mesh.scale.set(this.particle.getRadius(),this.particle.getRadius(),this.particle.getRadius())},t.prototype.setType=function(t){return this.particle.setType(t)},t.prototype.getType=function(){return this.particle.getType()},t.prototype.update=function(){},t.prototype.getLifespan=function(){return this.particle.getLifespan()},t.prototype.setLifespan=function(t){return this.particle.setLifespan(t)},t.prototype.getAge=function(){return this.particle.getAge()},t.prototype.setAge=function(t){return this.particle.setAge(t)},t.prototype.position=function(t){return void 0!==t&&this.mesh.position.copy(t),this.mesh.position.clone()},t.prototype.setMass=function(t){this.particle.setMass(t)},t.prototype.getMass=function(){return this.particle.getMass()},t.prototype.getVelocity=function(){return this.particle.getVelocity()},t.prototype.getPosition=function(){return this.position()},t.prototype.setPosition=function(t,e,i){var r=this.position(new o.Vector3(t,e,i));return this.particle.setPosition(t,e,i),r},t.prototype.setVelocity=function(t,e,i){return this.particle.setVelocity(t,e,i)},t.prototype.getRadius=function(){return this.particle.getRadius()},t.prototype.destroy=function(){this.geometry.dispose(),this.material.dispose()},t.prototype.addLightSource=function(t){var e=new o.PointLight(t);this.mesh.add(e)},t.prototype.onDeath=function(){this.scene.remove(this.mesh),this.destroy(),this.particle.onDeath()},t}();e.VisibleParticle=n},KD8D:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParticleGenerator=void 0;var o=i("Womt"),r=i("wBSO"),n=i("PeOb"),s=i("bYUt"),a=function(){function t(){this.position=new o.Vector3,this.lifespan=0,this.position_generator=new r.FixedPositionGenerator(this.position),this.velocity_generator=new n.RandomVelocityGenerator}return t.prototype.setVelocityGenerator=function(t){this.velocity_generator=t},t.prototype.setPositionGenerator=function(t){this.position_generator=t},t.prototype.generate=function(){var t=this.mass_min+Math.random()*(this.mass_max-this.mass_min),e=new s.Particle(t),i=this.velocity_generator.generate(),o=this.position_generator.generate();return e.setVelocity(i.x,i.y,i.z),e.setPosition(o.x,o.y,o.z),e.setLifespan(this.lifespan),e},t.prototype.setPosition=function(t){this.position.copy(t)},t.prototype.getPosition=function(){return this.position.clone()},t.prototype.setParameters=function(t,e,i){this.mass_max=e,this.mass_min=t,this.lifespan=i},t}();e.ParticleGenerator=a},L5Ia:function(t,e,i){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.PixelRay=void 0;var n=i("bYUt"),s=i("Womt"),a=function(t){function e(e,i){void 0===i&&(i=new s.Vector2);var o=t.call(this,0)||this;return o.origin=i,o}return r(e,t),e.prototype.getOriginPixel=function(){return this.origin},e.prototype.setOriginPixel=function(t,e){this.origin.set(t,e)},e}(n.Particle);e.PixelRay=a},P8No:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TangentialVelocityGenerator=void 0;var o=i("Womt"),r=function(){function t(){}return t.prototype.parameters=function(t,e,i){this.position=e,this.center=t,this.axis=i.normalize()},t.prototype.generate=function(){var t=(new o.Vector3).subVectors(this.position,this.center).normalize();return(new o.Vector3).crossVectors(t,this.axis)},t}();e.TangentialVelocityGenerator=r},PXhL:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PhotonVelocityGenerator=void 0;var o=i("Womt"),r=function(){function t(){this.c=299792458}return t.prototype.parameter=function(t){this.c=t},t.prototype.generate=function(){var t=new o.Vector3(2*Math.random()-1,2*Math.random()-1,2*Math.random()-1);return t.multiplyScalar(this.c),t},t}();e.PhotonVelocityGenerator=r},PeOb:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomVelocityGenerator=void 0;var o=i("Womt"),r=function(){function t(){}return t.prototype.generate=function(){return new o.Vector3(2*Math.random()-1,2*Math.random()-1,2*Math.random()-1)},t}();e.RandomVelocityGenerator=r},Uj6v:function(t,e,i){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.PhotonGenerator=void 0;var n=i("KD8D"),s=i("PXhL"),a=i("fyR2"),c=i("Womt"),h=function(t){function e(){var e=t.call(this)||this;return e.speedOfLight=299792458,e.velocity_generator=new s.PhotonVelocityGenerator,e.mass_max=0,e.mass_min=0,e.lifespan=0,e}return r(e,t),e.prototype.generate=function(){var e=t.prototype.generate.call(this);return e.setType(a.SpaceParticle.PHOTON),e.setRadius(.1),e},e.prototype.setSpeedOfLight=function(t){this.speedOfLight=t;var e=new s.PhotonVelocityGenerator;this.velocity_generator=e,e.parameter(t)},e.prototype.randomVelocity=function(){var t=new c.Vector3(Math.random(),Math.random(),Math.random());return t.normalize(),t.multiplyScalar(this.speedOfLight),t},e}(n.ParticleGenerator);e.PhotonGenerator=h},W87h:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GravityForce=void 0;var o=i("Womt"),r=function(){function t(t){this.G=t||1}return t.prototype.vec_length_squared=function(t){return t.x*t.x+t.y*t.y+t.z*t.z},t.prototype.apply=function(t,e){var i=t.getPosition().sub(e.getPosition()),r=1/this.vec_length_squared(i),n=new o.Vector3,s=new o.Vector3;if(r>0){var a=i.normalize();n=a.clone().multiplyScalar(-this.G*e.getMass()*r),s=a.clone().multiplyScalar(this.G*t.getMass()*r)}return[n,s]},t.calculate=function(t,e,i){return this.GRAVITATION_CONSTANT*t*i*i/(e*e*e)},Object.defineProperty(t.prototype,"G",{get:function(){return this._G},set:function(t){this._G=t},enumerable:!1,configurable:!0}),t.GRAVITATION_CONSTANT=66743e-15,t}();e.GravityForce=r},XZJ1:function(t,e,i){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.BlackHoleParticleSystem=void 0;var n=i("ltrx"),s=i("fyR2"),a=i("Womt"),c=i("Ysi0"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eventHorizon=Number.POSITIVE_INFINITY,e.eventHorizon2=Number.POSITIVE_INFINITY,e.myprofiler=new c.TimeProfiler,e}return r(e,t),e.prototype.setEventHorizon=function(t){this.eventHorizon=t},e.prototype.calculateDerivative=function(t){var e=this;return this.particles.forEach((function(e,i){var o=e.getVelocity();t.set(i,[o.x,o.y,o.z,0,0,0])})),this.forces.forEach((function(i){for(var o=1;o<e.particles.length;o++)if(e.particles[o].getType()==s.SpaceParticle.PHOTON){var r=i.apply(e.particles[o],e.particles[0]);t.add(o,[0,0,0,r[0].x,r[0].y,r[0].z]),t.add(0,[0,0,0,r[1].x,r[1].y,r[1].z])}}),this),t},e.prototype.updateAllParticles=function(){var t=this;this.particles.forEach((function(e,i){if(t.particles[i].getType()==s.SpaceParticle.PHOTON){var o=t.derivative.get(i),r=e.getPosition(),n=e.getVelocity();e.setPosition(r.x+o[0],r.y+o[1],r.z+o[2]),e.setVelocity(n.x+o[3],n.y+o[4],n.z+o[5])}}),this)},e.prototype.updateHook=function(){for(var t=this.particles.length-1;t>0;t--){var e=this.particles[0];(new a.Vector3).subVectors(e.getPosition(),this.particles[t].getPosition()).length()<this.eventHorizon&&(this.particles[t].onDeath(),this.removeParticle(t))}},e}(n.ParticleSystem);e.BlackHoleParticleSystem=h},Ysi0:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TimeProfiler=void 0;var o=i("4xLO"),r=function(){function t(){this.timeProfiles=new Map}return t.prototype.start=function(t,e){if(void 0===e&&(e=1),this.timeProfiles.has(t))this.timeProfiles.get(t).start();else{var i=new o.TimeProfile(t,e);this.timeProfiles.set(t,i),i.start()}},t.prototype.stop=function(t,e){if(void 0===e&&(e=1),this.timeProfiles.has(t))this.timeProfiles.get(t).stop();else{var i=new o.TimeProfile(t,e);this.timeProfiles.set(t,i),i.stop()}},t}();e.TimeProfiler=r},anZJ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VariableRayEmitter=void 0;var o=i("Womt"),r=function(){function t(t,e,i){this.N_REGION_LEN=16,this.MAX_EMISSIONS_FROM_PIXEL=1,this.resolution=t,this.pixelMap=new Array(t.x*t.y),this.rayEmittedCount=new Array(t.x*t.y);for(var r=0;r<this.rayEmittedCount.length;r++)this.rayEmittedCount[r]=0;this.regions=new Array,this.raytracer=e,this.generator=i,this.divideAndRassignPixels(new o.Vector2(0,0),new o.Vector2(t.x,t.y))}return t.prototype.emit=function(){for(var t=this.regions.length/2,e=new Array,i=0;i<t;i++){var o=this.regions[2*i],r=this.regions[2*i+1],n=this.emitFromRegion(o,r);e.push(n)}return e},t.prototype.test=function(){this.divideAndRassignPixels(new o.Vector2(0,0),new o.Vector2(64,64)),console.log("The pixel map",this.pixelMap),console.log("Regions",this.regions)},t.prototype.divideAndRassignPixels=function(t,e){var i=this.regions.length,o=e.x-t.x,r=e.y-t.y;if(!(o<=1||r<=1)){this.divide(t,o,r);for(var n=0;n<this.N_REGION_LEN*this.N_REGION_LEN;n++)for(var s=this.regions[i+2*n],a=this.regions[i+2*n+1],c=Math.floor(a.x),h=Math.floor(s.x);h<c;h++)for(var p=Math.floor(a.y),u=Math.floor(s.y);u<p;u++){var l=u*this.resolution.x+h;this.pixelMap[l]=i+2*n}}},t.prototype.divide=function(t,e,i){for(var r=this.N_REGION_LEN*this.N_REGION_LEN,n=0;n<r;n++){var s=n%this.N_REGION_LEN,a=Math.floor(n/this.N_REGION_LEN),c=new o.Vector2(e*(s/this.N_REGION_LEN),i*(a/this.N_REGION_LEN)),h=new o.Vector2(e*((s+1)/this.N_REGION_LEN),i*((a+1)/this.N_REGION_LEN));c.add(t),h.add(t),this.regions.push(c),this.regions.push(h)}},t.prototype.emitFrom=function(t,e){var i=this.getRegion(t,e);return this.emitFromRegion(i[0],i[1])},t.prototype.incrementPixelCount=function(t,e){var i=e*this.resolution.x+t;this.rayEmittedCount[i]++},t.prototype.hasExceededRayCount=function(t,e){var i=e*this.resolution.x+t,o=this.MAX_EMISSIONS_FROM_PIXEL;return this.rayEmittedCount[i]>o},t.prototype.emitFromRegion=function(t,e){var i=Math.floor(t.x+Math.random()*(e.x-t.x)),o=Math.floor(t.y+Math.random()*(e.y-t.y));return this.emitFromPixel(i,o)},t.prototype.emitFromPixel=function(t,e){if(this.hasExceededRayCount(t,e))return null;Math.random();Math.random();var i=(t+0)/this.resolution.x*this.raytracer.getWidth()-this.raytracer.getWidth()/2,r=(e+0)/this.resolution.y*this.raytracer.getHeight()-this.raytracer.getHeight()/2,n=this.raytracer.getDistanceToCanvas(),s=new o.Vector3(i,r,n);s.applyQuaternion(this.raytracer.getRotation()),this.generator.parameter(t,e,s);var a=this.generator.generate();return a.setPosition(this.raytracer.getPosition().x,this.raytracer.getPosition().y,this.raytracer.getPosition().z),this.incrementPixelCount(t,e),a},t.prototype.getRegionIndex=function(t,e){var i=e*this.resolution.x+t;return this.pixelMap[i]},t.prototype.getRegion=function(t,e){var i=this.getRegionIndex(t,e);return[this.regions[i],this.regions[i+1]]},t.prototype.objectWasHit=function(t,e){var i=this.getRegion(t,e),o=this.regions.length;this.divideAndRassignPixels(i[0],i[1]);for(var r=o;r<this.regions.length;r+=2){var n=this.emitFromRegion(this.regions[r],this.regions[r+1]);this.raytracer.postEmit(n)}},t}();e.VariableRayEmitter=r},bJLd:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Octree=void 0;var o=i("Womt"),r=function(){function t(t,e,i,o,r,n){void 0===o&&(o=0),void 0===r&&(r=Number.POSITIVE_INFINITY),void 0===n&&(n=0),this.MAX_OBJECTS_IN_NODE=3,this.minDiagLength=0,this.maxDepth=Number.POSITIVE_INFINITY,this.depth=0,this.node=new Array,this.setMinDiagLength(o),this.create(t,e,i),this.corners=new Array(2),this.corners[0]=e,this.corners[1]=i,this.maxDepth=r,this.depth=n}return t.prototype.setMinDiagLength=function(t){this.minDiagLength=t},t.prototype.create=function(e,i,r){this.objects=e;var n=[r.x-i.x,r.y-i.y,r.z-i.z],s=n[0]*n[0]+n[1]*n[1]+n[2]*n[2];if(s/=4,!(e.length<=this.MAX_OBJECTS_IN_NODE||this.minDiagLength>=s||this.depth>=this.maxDepth)){var a=new Array,c=(new o.Vector3).addVectors(i,r).multiplyScalar(.5);a.push(i),a.push(c),n.forEach((function(t,e){for(var i=a.length,o=0;o<i;o++){var r=a[o].clone(),n=r.toArray();n[e]=n[e]+t/2,r.fromArray(n),a.push(r)}}));for(var h=function(i){var o=new Array;e.forEach((function(t){t.intersectsWithBox(a[2*i],a[2*i+1])&&o.push(t)})),o.length>0&&o.length<e.length&&p.node.push(new t(o,a[2*i],a[2*i+1],p.minDiagLength,p.maxDepth,p.depth+1))},p=this,u=0;u<8;u++)h(u)}},t.prototype.find=function(t){if(this.contains(t)){for(var e=0;e<this.node.length;e++){var i=this.node[e].find(t);if(null!==i)return i}return this}return null},t.prototype.findRay=function(t,e){if(this.contains(t)&&this.contains(e)){if(0==this.node.length)return this;for(var i=0;i<this.node.length;i++){var o=this.node[i].findRay(t,e);if(null!==o)return o}}return null},t.prototype.contains=function(t){return!(t.x>Math.max(this.corners[0].x,this.corners[1].x))&&(!(t.y>Math.max(this.corners[0].y,this.corners[1].y))&&(!(t.z>Math.max(this.corners[0].z,this.corners[1].z))&&(!(t.x<Math.min(this.corners[0].x,this.corners[1].x))&&(!(t.y<Math.min(this.corners[0].y,this.corners[1].y))&&!(t.z<Math.min(this.corners[0].z,this.corners[1].z))))))},t.prototype.getObjects=function(){return this.objects},t}();e.Octree=r},bQUK:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScaledUnits=void 0;var o=function(){function t(t,e,i){void 0===t&&(t=1),void 0===e&&(e=1),void 0===i&&(i=1),this._metres=t,this._kilograms=e,this._seconds=i}return t.prototype.setMetresScale=function(t,e){void 0===e&&(e=1),this._metres=t/e},t.prototype.setKgsScale=function(t,e){void 0===e&&(e=1),this._kilograms=t/e},t.prototype.setTimeScale=function(t,e){void 0===e&&(e=1),this._seconds=t/e},Object.defineProperty(t.prototype,"metres",{get:function(){return this._metres},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"kgs",{get:function(){return this._kilograms},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seconds",{get:function(){return this._seconds},enumerable:!1,configurable:!0}),t.prototype.getScaledDistance=function(t){return t/this._metres},t.prototype.getScaledMass=function(t){return t/this._kilograms},t.prototype.getScaledTime=function(t){return t/this._seconds},t.prototype.getUnscaledTime=function(t){return t*this._seconds},t.prototype.getScaledVelocity=function(t){return t*this.seconds/this.metres},t.prototype.getUnscaledVelocity=function(t){return t*this._metres/this._seconds},t}();e.ScaledUnits=o},bYUt:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Particle=void 0;var o=i("Womt"),r=function(){function t(t,e,i,r){void 0===t&&(t=1),void 0===e&&(e=1),void 0===i&&(i=0),void 0===r&&(r=1),this.velocity=new o.Vector3,this.position=new o.Vector3,this.mass=t,this.radius=e,this.lifeSpan=i,this.age=0,this.type=r,this.alive=!0}return t.prototype.intersectsWithBox=function(t,e){var i=this.getPosition();return!(i.x>Math.max(t.x,e.x)+this.getRadius())&&(!(i.y>Math.max(t.y,e.y)+this.getRadius())&&(!(i.z>Math.max(t.z,e.z)+this.getRadius())&&(!(i.x<Math.min(t.x,e.x)-this.getRadius())&&(!(i.y<Math.min(t.y,e.y)-this.getRadius())&&!(i.z<Math.min(t.z,e.z)-this.getRadius())))))},t.prototype.setRadius=function(t){return this.radius=t,this.radius},t.prototype.isAlive=function(){return this.alive},t.prototype.intersectsWithRay=function(t,e,i){var r=(new o.Vector3).subVectors(e,t).normalize(),n=this.getPosition().sub(t),s=this.getPosition().sub(e),a=n.dot(r),c=s.dot(r);if(a*c>0){var h=Math.min(Math.abs(a),Math.abs(c)),p=Math.max(Math.abs(a),Math.abs(c));if((h=h-this.radius-i)*p>0)return!1}return n.sub(r.multiplyScalar(a)).length()<=this.getRadius()+i},t.prototype.copy=function(t){this.velocity=t.getVelocity(),this.position=t.getPosition(),this.age=t.getAge(),this.mass=t.getMass(),this.radius=t.getRadius(),this.lifeSpan=t.getLifespan(),this.type=t.getType()},t.prototype.getType=function(){return this.type},t.prototype.setType=function(t){return this.type=t,t},t.prototype.update=function(){},t.prototype.setLifespan=function(t){return this.lifeSpan=t,this.lifeSpan},t.prototype.setAge=function(t){return this.age=t,this.age},t.prototype.getLifespan=function(){return this.lifeSpan},t.prototype.getAge=function(){return this.age},t.prototype.getMass=function(){return this.mass},t.prototype.setMass=function(t){this.mass=t},t.prototype.getVelocity=function(){return this.velocity.clone()},t.prototype.getPosition=function(){return this.position.clone()},t.prototype.setPosition=function(t,e,i){return this.position.set(t,e,i)},t.prototype.setVelocity=function(t,e,i){return this.velocity.set(t,e,i)},t.prototype.getRadius=function(){return this.radius},t.prototype.onDeath=function(){this.alive=!1},t}();e.Particle=r},fyR2:function(t,e,i){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.SpaceParticleGenerator=e.SpaceParticle=void 0;var n=i("Womt"),s=i("bYUt"),a=i("KD8D"),c=i("Uj6v"),h=function(){function t(t,e,i,o){this.particle=new s.Particle(e,.21);var r=new c.PhotonGenerator;r.setSpeedOfLight(o.getScaledVelocity(r.speedOfLight)),this.generator=r,this.ps=i}return t.prototype.intersectsWithBox=function(t,e){return this.particle.intersectsWithBox(t,e)},t.prototype.setRadius=function(t){return this.particle.setRadius(t)},t.prototype.intersectsWithRay=function(t,e,i){return this.particle.intersectsWithRay(t,e,i)},t.prototype.isAlive=function(){return this.particle.isAlive()},t.prototype.copy=function(t){this.particle.copy(t)},t.prototype.setType=function(t){return this.particle.setType(t)},t.prototype.getType=function(){return this.particle.getType()},t.prototype.update=function(){},t.prototype.getMass=function(){return this.particle.getMass()},t.prototype.setMass=function(t){this.particle.setMass(t)},t.prototype.getVelocity=function(){return this.particle.getVelocity()},t.prototype.getPosition=function(){return this.particle.getPosition()},t.prototype.setVelocity=function(t,e,i){return this.particle.setVelocity(t,e,i)},t.prototype.getRadius=function(){return this.particle.getRadius()},t.prototype.getLifespan=function(){return this.particle.getLifespan()},t.prototype.setLifespan=function(t){return this.particle.setLifespan(t)},t.prototype.getAge=function(){return this.particle.getAge()},t.prototype.setAge=function(t){return this.particle.setAge(t)},t.prototype.onDeath=function(){this.particle.onDeath()},t.prototype.setPosition=function(t,e,i){return this.generator.setPosition(new n.Vector3(t,e,i)),this.particle.setPosition(t,e,i)},t.PHOTON=1010,t}();e.SpaceParticle=h;var p=function(t){function e(e,i,o,r){var n=t.call(this)||this;return n.scene=e,n.ps=i,n.units=o,n.generator=r,n}return r(e,t),e.prototype.setGenerator=function(t){this.generator=t},e.prototype.generate=function(){var e;e=this.generator?this.generator.generate():t.prototype.generate.call(this);var i=new h(this.scene,e.getMass(),this.ps,this.units),o=e.getPosition().add(this.position);return i.setVelocity(e.getVelocity().x,e.getVelocity().y,e.getVelocity().z),i.setPosition(o.x,o.y,o.z),i.setLifespan(e.getLifespan()),i.setType(e.getType()),i.setRadius(2),i},e}(a.ParticleGenerator);e.SpaceParticleGenerator=p},kEKz:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlackHoleSystem=void 0;var o=i("XZJ1"),r=i("fyR2"),n=i("Womt"),s=i("bQUK"),a=i("DFd6"),c=i("W87h"),h=i("bYUt"),p=i("BNAQ"),u=i("/5+L"),l=i("u0N3"),y=i("bJLd"),f=i("4xLO"),d=function(){function t(t){this.MIN_ACCRETION_DISK_VEL=199792458,this.MAX_ACCRETION_DISK_VEL=299792458,this.BLACK_HOLE_MASS=43e5,this.RESOLUTION=512,this.totalTime=0,this.count=0,this.timeBefore=0,this.ps=new o.BlackHoleParticleSystem,this.psprofiler=new f.TimeProfile("Particle System",1e3),this.tracerprofiler=new f.TimeProfile("Raytracer",1e3)}return t.prototype.initializeSystem=function(t){this.units=new s.ScaledUnits(1496e6,1.989e30,1),console.log(this.units.getScaledVelocity(this.MIN_ACCRETION_DISK_VEL)),this.blackHole=new a.VisibleParticle(t,"blackHole","#ffffff",1,this.BLACK_HOLE_MASS);var e=new c.GravityForce(c.GravityForce.calculate(this.units.kgs,this.units.metres,this.units.seconds));this.ps.addForce(e),this.ps.addParticle(this.blackHole),this.initializeParticleGenerator(t),this.ps.setEventHorizon(this.getSchwarzchildRadius()),this.ps.setBounds(new n.Vector3(-50,-50,-50),new n.Vector3(50,50,200)),this.raytracer=new u.RayTracer(t,new n.Vector3(0,0,100),new n.Vector3(0,0,-1),Math.PI/8,this.RESOLUTION,this.units.getScaledVelocity(299792458)),this.obstacles=new Array,this.emitParticles(),this.customizer=new l.ParticleSystemCustomizer(this.ps,this.raytracer,this.obstacles,0),this.raytracer.setCustomizer(this.customizer),this.raytracer.emitPhotons(),t.add(this.raytracer.getPhoto())},t.prototype.testOctree=function(){var t=new h.Particle;t.setPosition(-10,-10,-10),this.obstacles.push(t),(t=new h.Particle).setPosition(10,10,10),this.obstacles.push(t),(t=new h.Particle).setPosition(-10,-10,10),this.obstacles.push(t),(t=new h.Particle).setPosition(-10,10,10),this.obstacles.push(t);new y.Octree(this.obstacles,new n.Vector3(-20,-20,-20),new n.Vector3(20,20,20)).find(t.getPosition())},t.prototype.getSchwarzchildRadius=function(t){void 0===t&&(t=this.BLACK_HOLE_MASS);var e=this.units.getScaledVelocity(299792458),i=2*new c.GravityForce(c.GravityForce.calculate(this.units.kgs,this.units.metres,this.units.seconds)).G*this.BLACK_HOLE_MASS/(e*e);return console.log("The Schwarzchild Radius is ",i),i},t.prototype.initializeParticleGenerator=function(t){var e=this.getSchwarzchildRadius(),i=new p.EllipticalParticleGenerator(1.5*e,1.5*e,this.blackHole.getPosition(),new n.Vector3(1,0,0),new n.Vector3(0,0,1),new n.Vector3(0,-1,0),this.units.getScaledVelocity(this.MIN_ACCRETION_DISK_VEL));i.setParameters(1e-4,15e-5,0),i.setWidth(3*e);var o=new r.SpaceParticleGenerator(t,this.ps,this.units,i);this.particleGenerator=o,this.particleGenerator.setPosition(new n.Vector3(0,0,0)),this.blackHole.addLightSource("#ffffff")},t.prototype.update=function(t){this.totalTime;for(var e=0;e<100;e++)this.ps.update(t),this.customizer.setTimeStep(t),this.raytracer.update(),this.totalTime+=t},t.prototype.emitParticles=function(){for(var t=0;t<100;){var e=this.particleGenerator.generate();this.ps.addParticle(e),this.obstacles.push(e),t++}},t.prototype.scaleVelocity=function(t){var e=this.units.getScaledVelocity(t.getVelocity().length()),i=t.getVelocity().normalize().multiplyScalar(e);console.log(i),t.setVelocity(i.x,i.y,i.z)},t}();e.BlackHoleSystem=d},lelv:function(t,e,i){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.BlackHoleStarter=void 0;var n=i("zq37"),s=i("kEKz"),a=i("kgy+"),c=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.postInitHook=function(){this.system=new s.BlackHoleSystem(this.scene),this.system.initializeSystem(this.scene),this.controls=new a.TrackballControls(this.camera,this.renderer.domElement)},e.prototype.animateHook=function(){this.time_step=.06,this.system.update(this.time_step),this.controls.update()},e}(n.Boilerplate);e.BlackHoleStarter=c},ltrx:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParticleSystem=e.ParticleDerivative=void 0;var o=i("Ysi0"),r=function(){function t(){this.derivative=new Array}return t.prototype.length=function(){return this.derivative.length},t.prototype.addParticle=function(){this.derivative.push(new Array(0,0,0,0,0,0))},t.prototype.add=function(t,e){for(var i=0;i<e.length;i++)this.derivative[t][i]+=e[i]},t.prototype.remove=function(t){this.derivative.splice(t,1)},t.prototype.clear=function(){for(var t=0;t<this.derivative.length;t++)for(var e=0;e<this.derivative[t].length;e++)this.derivative[t][e]=0},t.prototype.set=function(t,e){for(var i=0;i<e.length;i++)this.derivative[t][i]=e[i]},t.prototype.scale=function(t){for(var e=0;e<this.derivative.length;e++)for(var i=0;i<this.derivative[e].length;i++)this.derivative[e][i]*=t},t.prototype.get=function(t){return this.derivative[t]},t.prototype.print=function(){this.derivative.forEach((function(t,e){console.log("Particle "+e),console.log("Velocity ",t[0],t[1],t[2]),console.log("Acceleration ",t[3],t[4],t[5])}),this)},t.prototype.printCount=function(){console.log(this.derivative.length)},t.prototype.destroy=function(){this.derivative.forEach((function(t){[]})),this.derivative=[]},t.prototype.clone=function(e){if(e)return this.cacheClone(e);var i=new t;return this.derivative.forEach((function(t,e){i.addParticle(),i.add(e,t)})),i},t.prototype.cacheClone=function(t){return this.derivative.forEach((function(e,i){t.add(i,e)})),t},t}();e.ParticleDerivative=r;var n=function(){function t(){this.particles=new Array,this.derivative=new r,this.forces=new Array,this.profiler=new o.TimeProfiler,this.createCaches()}return t.prototype.createCaches=function(){this.derivativeCaches=new Array(4);for(var t=0;t<4;t++)this.derivativeCaches[t]=new r},t.prototype.addParticle=function(t){var e=this;this.particles.push(t),this.derivative.addParticle(),this.derivativeCaches.forEach((function(t){e.derivative.length()>t.length()&&t.addParticle()}))},t.prototype.removeParticle=function(t){this.particles.splice(t,1),this.derivative.remove(t)},t.prototype.printCOunt=function(){console.log("Particle Count %s Derivative count %s",this.particles.length,this.derivative.length())},t.prototype.addForce=function(t){this.forces.push(t)},t.prototype.update=function(t){this.updateMidPoint(t),this.updateHook(),this.postUpdate(),this.updateParticleLives(t),this.boundsCheck()},t.prototype.updateHook=function(){},t.prototype.postUpdate=function(){for(var t=this.particles.length,e=0;e<t;e++){var i=t-e-1,o=this.particles[i];o.update(),o.isAlive()||this.removeParticle(i)}},t.prototype.setBounds=function(t,e){this.minBounds=t,this.maxBounds=e},t.prototype.updateParticleLives=function(t){for(var e=this.particles.length-1;e>=0;e--){var i=this.particles[e];i.setAge(i.getAge()+t),i.getLifespan()>0&&i.getAge()>i.getLifespan()&&(i.onDeath(),this.removeParticle(e))}},t.prototype.boundsCheck=function(){if(this.minBounds&&this.maxBounds)for(var t=this.particles.length-1;t>=0;t--){var e=this.particles[t];(e.getPosition().x>this.maxBounds.x||e.getPosition().y>this.maxBounds.y||e.getPosition().x<this.minBounds.x||e.getPosition().y<this.minBounds.y||e.getPosition().z<this.minBounds.z||e.getPosition().z>this.maxBounds.z)&&(e.onDeath(),this.removeParticle(t))}},t.prototype.storeState=function(){var t=new Array;return this.particles.forEach((function(e,i){var o=e.getPosition(),r=e.getVelocity();t.push(new Array(o.x,o.y,o.z,r.x,r.y,r.z))}),this),t},t.prototype.restoreState=function(t){this.particles.forEach((function(e,i){e.setPosition(t[i][0],t[i][1],t[i][2]),e.setVelocity(t[i][3],t[i][4],t[i][5])}),this)},t.prototype.updateMidPoint=function(t){var e=this.storeState();this.derivative=this.calculateDerivative(this.derivative),this.derivative.scale(t/2),this.updateAllParticles(),this.derivative=this.calculateDerivative(this.derivative),this.derivative.scale(t),this.restoreState(e),this.updateAllParticles()},t.prototype.updateRK4=function(t){var e=this.derivative,i=this.storeState();this.derivativeCaches[0]=this.calculateDerivative(this.derivativeCaches[0]),this.derivativeCaches[0].scale(t/2);var o=this.derivativeCaches[0];this.derivative=o,this.updateAllParticles(),this.derivativeCaches[1]=this.calculateDerivative(this.derivativeCaches[1]),this.derivativeCaches[1].scale(t/2);var r=this.derivativeCaches[1];this.derivative=r,this.restoreState(i),this.updateAllParticles(),this.derivativeCaches[2]=this.calculateDerivative(this.derivativeCaches[2]),this.derivativeCaches[2].scale(t);var n=this.derivativeCaches[2];this.derivative=n,this.restoreState(i),this.updateAllParticles(),this.derivativeCaches[3]=this.calculateDerivative(this.derivativeCaches[3]),this.derivativeCaches[3].scale(t);var s=this.derivativeCaches[3];this.derivative=s,this.restoreState(i),o.scale(1/3),this.derivative=o,this.updateAllParticles(),r.scale(2/3),this.derivative=r,this.updateAllParticles(),n.scale(1/3),this.derivative=n,this.updateAllParticles(),s.scale(1/6),this.derivative=s,this.updateAllParticles(),this.derivative=e},t.prototype.calculateDerivative=function(t){var e=this;return t.clear(),this.particles.forEach((function(e,i){t.add(i,[e.getVelocity().x,e.getVelocity().y,e.getVelocity().z,0,0,0])})),this.forces.forEach((function(i){for(var o=1;o<e.particles.length;o++)for(var r=0;r<o;r++){var n=i.apply(e.particles[o],e.particles[r]);t.add(o,[0,0,0,n[0].x,n[0].y,n[0].z]),t.add(r,[0,0,0,n[1].x,n[1].y,n[1].z])}}),this),t},t.prototype.updateAllParticles=function(){var t=this;this.particles.forEach((function(e,i){var o=t.derivative.get(i),r=e.getPosition(),n=e.getVelocity();e.setPosition(r.x+o[0],r.y+o[1],r.z+o[2]),e.setVelocity(n.x+o[3],n.y+o[4],n.z+o[5])}),this)},t.prototype.print=function(){console.log("----Particle System-----"),this.particles.forEach((function(t,e){console.log("--------------------------");var i=t.getPosition(),o=t.getVelocity();console.log("Particle "+e),console.log("Mass ",t.getMass()),console.log("Position ",i.x,i.y,i.z),console.log("Velocity ",o.x,o.y,o.z)}),this),console.log("------------X-----------")},t.prototype.printDerivative=function(){this.derivative.print()},t.prototype.destroy=function(){this.particles=[],this.forces=[],this.derivative.destroy()},t}();e.ParticleSystem=n},t9Jl:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EllipticalPositionGenerator=void 0;var o=i("Womt"),r=function(){function t(t,e,i,r,n,s){this.transformMatrix=new o.Matrix4,this.transformMatrixInv=new o.Matrix4,this.width=0,this.A=t,this.B=e,void 0!==r&&void 0!==n&&void 0!==s&&(this.transformMatrix.makeBasis(r,n,s),this.transformMatrix.transpose()),i&&(i.applyMatrix4(this.transformMatrixInv.getInverse(this.transformMatrix)),this.transformMatrix.setPosition(i)),this.transformMatrixInv.getInverse(this.transformMatrix)}return t.prototype.setWidth=function(t){this.width=t},t.prototype.generate=function(){new o.Vector3;var t=2*Math.PI*Math.random(),e=new o.Vector3((this.A+this.width*Math.random())*Math.cos(t),(this.width*Math.random()+this.B)*Math.sin(t));return e.applyMatrix4(this.transformMatrixInv),e},t}();e.EllipticalPositionGenerator=r},u0N3:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParticleSystemCustomizer=void 0;var o=i("5OmT"),r=function(){function t(t,e,i,r){this.rays=new Array,this.particleSystem=t,this.collisionManager=new o.RayTracingCollisionManager(e),this.collisionManager.setRays(this.rays),this.time_step=r,this.collisionManager.setObstacles(i),this.raytracer=e}return t.prototype.postEmit=function(t){null!=t&&(this.particleSystem.addParticle(t),this.rays.push(t))},t.prototype.setTimeStep=function(t){this.time_step=t},t.prototype.update=function(){for(var t=this.rays.length-1;t>=0;t--){var e=this.rays[t];e.isAlive()||(this.rays.splice(t,1),this.raytracer.emitFrom(e.getOriginPixel().x,e.getOriginPixel().y))}this.collisionManager.update(this.time_step)},t}();e.ParticleSystemCustomizer=r},wBSO:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FixedPositionGenerator=void 0;var o=function(){function t(t){this.pos=t}return t.prototype.generate=function(){return this.pos},t}();e.FixedPositionGenerator=o},zq37:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Boilerplate=void 0;var o=i("Womt"),r=function(){function t(){this.mouse={x:0,y:0};var t=document.createElement("div");this.raycaster=new o.Raycaster,document.body.appendChild(t),this.renderer=new o.WebGLRenderer;var e=window.innerWidth,i=window.innerHeight;this.renderer.setSize(e,i),t.appendChild(this.renderer.domElement),console.log(window.devicePixelRatio),this.aspectRatio=window.innerWidth/window.innerHeight,this.camera=new o.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,2e4),this.camera.position.set(0,0,200),this.camera.lookAt(0,0,0),this.scene=new o.Scene,this.scene.background=new o.Color("#000000"),console.log(window.innerWidth,window.innerHeight),window.addEventListener("resize",this.onWindowResize.bind(this),!1),this.postInitHook()}return t.prototype.postInitHook=function(){},t.prototype.onWindowResize=function(){var t=window.innerWidth,e=window.innerHeight;this.camera.aspect=t/e,this.camera.updateProjectionMatrix(),this.aspectRatio=t/e,document.body.style.maxWidth=t+"px",document.body.style.maxHeight=e+"px",this.renderer.setSize(t,e)},t.prototype.animate=function(){this.animateHook(),requestAnimationFrame(this.animate.bind(this)),this.render(),this.t+=1},t.prototype.animateHook=function(){},t.prototype.render=function(){this.renderer.render(this.scene,this.camera)},t}();e.Boilerplate=r}},[["/7QA",1,2]]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmF5dHJhY2luZy9waW4taG9sZS1jYW1lcmEuLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcmF5dHJhY2luZy9waG90b2dyYXBoLnRzIiwid2VicGFjazovLy8uL3NyYy9ib2lsZXJwbGF0ZS90aW1lLXByb2ZpbGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JheXRyYWNpbmcvY29sbGlzaW9uLW1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhcnRpY2xlLXN5c3RlbS9nZW5lcmF0b3IvZWxsaXB0aWNhbC1wYXJ0aWNsZS1nZW5lcmF0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhcnRpY2xlLXN5c3RlbS9wYXJ0aWNsZS92aXNpYmxlLXBhcnRpY2xlLnRzIiwid2VicGFjazovLy8uL3NyYy9wYXJ0aWNsZS1zeXN0ZW0vZ2VuZXJhdG9yL3BhcnRpY2xlLWdlbmVyYXRvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcmF5dHJhY2luZy9waXhlbC1yYXkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhcnRpY2xlLXN5c3RlbS9nZW5lcmF0b3IvdmVsb2NpdHktZ2VuZXJhdG9ycy90YW5nZW50aWFsLXZlbG9jaXR5LWdlbmVyYXRvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFydGljbGUtc3lzdGVtL2dlbmVyYXRvci92ZWxvY2l0eS1nZW5lcmF0b3JzL3Bob3Rvbi12ZWxvY2l0eS1nZW5lcmF0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhcnRpY2xlLXN5c3RlbS9nZW5lcmF0b3IvdmVsb2NpdHktZ2VuZXJhdG9ycy9yYW5kb20tdmVsb2NpdHktZ2VuZXJhdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9wYXJ0aWNsZS1zeXN0ZW0vZ2VuZXJhdG9yL3Bob3Rvbi1nZW5lcmF0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhcnRpY2xlLXN5c3RlbS9mb3JjZXMvZ3Jhdml0eS1mb3JjZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxhY2staG9sZS1wYXJ0aWNsZS1zeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JvaWxlcnBsYXRlL3RpbWUtcHJvZmlsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JheXRyYWNpbmcvdmFyaWFibGUtcmF5LWVtaXR0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JheXRyYWNpbmcvY29sbGlzaW9ucy9vY3RyZWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjYWxlZC11bml0cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFydGljbGUtc3lzdGVtL3BhcnRpY2xlL3BhcnRpY2xlLnRzIiwid2VicGFjazovLy8uL3NyYy9zcGFjZS1wYXJ0aWNsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxhY2staG9sZS1zeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JsYWNrLWhvbGUtc3RhcnRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFydGljbGUtc3lzdGVtL3BhcnRpY2xlLXN5c3RlbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFydGljbGUtc3lzdGVtL2dlbmVyYXRvci9wb3NpdGlvbi1nZW5lcmF0b3JzL2VsbGlwdGljYWwtcG9zaXRpb24tZ2VuZXJhdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9yYXl0cmFjaW5nL3BhcnRpY2xlLXN5c3RlbS1yYXl0cmFjZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhcnRpY2xlLXN5c3RlbS9nZW5lcmF0b3IvcG9zaXRpb24tZ2VuZXJhdG9ycy9maXhlZC1wb3NpdGlvbi1nZW5lcmF0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JvaWxlcnBsYXRlL2JvaWxlcnBsYXRlLnRzIl0sIm5hbWVzIjpbInNjZW5lIiwiaG9sZSIsImxvb2tBdCIsImZvdiIsInJlc29sdXRpb25YIiwiYyIsIlZlY3RvcjMiLCJNYXRoIiwiUEkiLCJESVNUX1RPX1BMQVRFIiwiQVNQRUNUX1JBVElPIiwidGhpcyIsImNyZWF0ZVBsYXRlIiwiaW1hZ2UiLCJEYXRhVGV4dHVyZSIsInBsYXRlIiwiZ2V0SW1hZ2UiLCJyZXNvbHV0aW9uIiwieCIsInkiLCJSR0JBRm9ybWF0IiwicGhvdG8iLCJNZXNoQmFzaWNNYXRlcmlhbCIsIm1hcCIsIm1lc2giLCJNZXNoIiwiUGxhbmVHZW9tZXRyeSIsInBvc2l0aW9uIiwiY29weSIsInJvdGF0aW9uIiwiUXVhdGVybmlvbiIsInNldEZyb21Vbml0VmVjdG9ycyIsIm5vcm1hbGl6ZSIsImNyZWF0ZUdlbmVyYXRvciIsImVtaXR0ZXIiLCJWYXJpYWJsZVJheUVtaXR0ZXIiLCJnZXRSZXNvbHV0aW9uIiwiZ2VuZXJhdG9yIiwib2JqZWN0V2FzSGl0IiwiZ2V0V2lkdGgiLCJ3aWR0aCIsImdldEhlaWdodCIsImhlaWdodCIsImdldFJvdGF0aW9uIiwiZ2V0RGlzdGFuY2VUb0NhbnZhcyIsImdldFBvc2l0aW9uIiwiY2xvbmUiLCJzZXRDdXN0b21pemVyIiwiY3VzdG9taXplIiwiY3VzdG9taXplciIsIlJheVRyYWNpbmdQaG90b25HZW5lcmF0b3IiLCJyZXNfeCIsInRhbiIsInJlc195IiwiUGhvdG9ncmFwaGljUGxhdGUiLCJnZXRQaG90byIsInVwZGF0ZSIsIm5lZWRzVXBkYXRlIiwiZW1pdFBob3RvbnMiLCJlbWl0IiwiZm9yRWFjaCIsInJheSIsInBvc3RFbWl0IiwiZW1pdEZyb20iLCJpIiwiaiIsImVtaXRGcm9tUmFuZG9tUGl4ZWwiLCJmbG9vciIsInJhbmRvbSIsInNldFBpeGVsIiwiY29sb3IiLCJSYXlUcmFjZXIiLCJwYXJhbWV0ZXIiLCJkaXIiLCJnZW5lcmF0ZSIsInZlbCIsIm11bHRpcGx5U2NhbGFyIiwiUmF5VHJhY2luZ1Bob3RvblZlbG9jaXR5R2VuZXJhdG9yIiwiUGhvdG9uR2VuZXJhdG9yIiwidmVsb2NpdHlfZ2VuZXJhdG9yIiwic2V0VmVsb2NpdHlHZW5lcmF0b3IiLCJzZXRQb3NpdGlvbkdlbmVyYXRvciIsIkZpeGVkUG9zaXRpb25HZW5lcmF0b3IiLCJiYXNlUGFydGljbGUiLCJwYXJ0aWNsZSIsIlBpeGVsUmF5IiwiVmVjdG9yMiIsIkJsYWNrSG9sZVN0YXJ0ZXIiLCJhbmltYXRlIiwicGFydGljbGVzIiwiZGVsdGFUIiwiZXhwb3NlIiwiUGhvdG9ncmFwaCIsInJlc29sdXRpb25ZIiwibm9ybWFsIiwiZGF0YSIsIlVpbnQ4QXJyYXkiLCJxdWFydGVybmlvbiIsInAiLCJnZXRUeXBlIiwiU3BhY2VQYXJ0aWNsZSIsIlBIT1RPTiIsImZyb20iLCJ0byIsImFkZFZlY3RvcnMiLCJnZXRWZWxvY2l0eSIsImludGVyc2VjdGlvbiIsImludGVyc2VjdHNXaXRoUGxhdGUiLCJOdW1iZXIiLCJQT1NJVElWRV9JTkZJTklUWSIsInJlbGF0aXZlQ29vcmRpbmF0ZXMiLCJzdWIiLCJhcHBseVF1YXRlcm5pb24iLCJyb3VuZCIsIm1pbiIsImluZGV4IiwibGluZSIsInN1YlZlY3RvcnMiLCJkb3QxIiwiZG90IiwiZG90MiIsInJhdGlvIiwiYWJzIiwiYWRkIiwiZGltZW5zaW9ucyIsInNldCIsIm5hbWUiLCJ1cGRhdGVFdmVyeSIsInVwZGF0ZUNvdW50Iiwic3RhcnQiLCJzdGFydFRpbWUiLCJEYXRlIiwiZ2V0VGltZSIsInN0b3AiLCJuZXdUaW1lIiwiaW50ZXJ2YWwiLCJwcmludCIsImNvbnNvbGUiLCJsb2ciLCJUaW1lUHJvZmlsZSIsInJheXRyYWNlciIsImJnIiwiQmFja2dyb3VuZEltYWdlIiwic2V0UmF5cyIsInJheXMiLCJzZXRPYnN0YWNsZXMiLCJvYnN0YWNsZXMiLCJvY3RyZWUiLCJPY3RyZWUiLCJ1cGRhdGVQYXJ0aWNsZUluT2N0cmVlIiwib25Db2xsaXNpb24iLCJkb3BwbGVyU2hpZnRDb2xvciIsImdldE9yaWdpblBpeGVsIiwidmVsX3BhcnRpY2xlIiwidmVsX3JheSIsImxlbmd0aCIsImNlaWwiLCJ0aW1lX3N0ZXAiLCJyIiwiYWRkU2NhbGVkVmVjdG9yIiwieiIsInNob3VsZEZpbGwiLCJvbkRlYXRoIiwibm9kZSIsImZpbmRSYXkiLCJnZXRPYmplY3RzIiwibyIsImludGVyc2VjdHNXaXRoUmF5IiwiZ2V0UmFkaXVzIiwiUmF5VHJhY2luZ0NvbGxpc2lvbk1hbmFnZXIiLCJmaWxsIiwicGl4ZWxzIiwiQXJyYXkiLCJhc3NpZ24iLCJhIiwiYiIsImNlbnRlciIsIlRhbmdlbnRpYWxWZWxvY2l0eUdlbmVyYXRvciIsInBvc2l0aW9uX2dlbmVyYXRvciIsIkVsbGlwdGljYWxQb3NpdGlvbkdlbmVyYXRvciIsImF4aXMiLCJtYWciLCJzZXRXaWR0aCIsIm1hc3MiLCJtYXNzX21pbiIsIm1hc3NfbWF4IiwiUGFydGljbGUiLCJwb3MiLCJwYXJhbWV0ZXJzIiwic2V0VmVsb2NpdHkiLCJzZXRQb3NpdGlvbiIsInNldExpZmVzcGFuIiwibGlmZXNwYW4iLCJQYXJ0aWNsZUdlbmVyYXRvciIsIkVsbGlwdGljYWxQYXJ0aWNsZUdlbmVyYXRvciIsInJhZGl1cyIsImdlb21ldHJ5IiwiU3BoZXJlQnVmZmVyR2VvbWV0cnkiLCJtYXRlcmlhbCIsInNjYWxlIiwiaW50ZXJzZWN0c1dpdGhCb3giLCJzZXRSYWRpdXMiLCJpc0FsaXZlIiwic2V0VHlwZSIsInR5cGUiLCJnZXRMaWZlc3BhbiIsImwiLCJnZXRBZ2UiLCJzZXRBZ2UiLCJ2IiwidW5kZWZpbmVkIiwic2V0TWFzcyIsIm0iLCJnZXRNYXNzIiwiZGVzdHJveSIsImRpc3Bvc2UiLCJhZGRMaWdodFNvdXJjZSIsImxpZ2h0IiwiUG9pbnRMaWdodCIsInJlbW92ZSIsIlZpc2libGVQYXJ0aWNsZSIsIlJhbmRvbVZlbG9jaXR5R2VuZXJhdG9yIiwic2V0UGFyYW1ldGVycyIsIm9yaWdpbiIsInNldE9yaWdpblBpeGVsIiwiY3Jvc3NWZWN0b3JzIiwiUGhvdG9uVmVsb2NpdHlHZW5lcmF0b3IiLCJzcGVlZE9mTGlnaHQiLCJzZXRTcGVlZE9mTGlnaHQiLCJzIiwicmFuZG9tVmVsb2NpdHkiLCJHIiwidmVjX2xlbmd0aF9zcXVhcmVkIiwidmVjIiwiYXBwbHkiLCJwMSIsInAyIiwicl92ZWMiLCJmMSIsImYyIiwidW5pdF9yIiwiY2FsY3VsYXRlIiwia2ciLCJHUkFWSVRBVElPTl9DT05TVEFOVCIsIl9HIiwiZyIsIkdyYXZpdHlGb3JjZSIsImV2ZW50SG9yaXpvbiIsImV2ZW50SG9yaXpvbjIiLCJteXByb2ZpbGVyIiwiVGltZVByb2ZpbGVyIiwic2V0RXZlbnRIb3Jpem9uIiwic2Nod2FyemNoaWxkUmFkaXVzIiwiY2FsY3VsYXRlRGVyaXZhdGl2ZSIsImRlcml2YXRpdmUiLCJmb3JjZXMiLCJmb3JjZSIsInVwZGF0ZUFsbFBhcnRpY2xlcyIsImQiLCJnZXQiLCJ1cGRhdGVIb29rIiwicmVtb3ZlUGFydGljbGUiLCJQYXJ0aWNsZVN5c3RlbSIsIkJsYWNrSG9sZVBhcnRpY2xlU3lzdGVtIiwidGltZVByb2ZpbGVzIiwiTWFwIiwiaGFzIiwicHJvZmlsZSIsIk5fUkVHSU9OX0xFTiIsIk1BWF9FTUlTU0lPTlNfRlJPTV9QSVhFTCIsInBpeGVsTWFwIiwicmF5RW1pdHRlZENvdW50IiwicmVnaW9ucyIsImRpdmlkZUFuZFJhc3NpZ25QaXhlbHMiLCJsZW4iLCJtYXgiLCJlbWl0RnJvbVJlZ2lvbiIsInB1c2giLCJ0ZXN0IiwiZGl2aWRlIiwicmVnaW9uX21pbiIsInJlZ2lvbl9tYXgiLCJtYXhfeCIsInUiLCJtYXhfeSIsIm9mZnNldCIsIk5fUkVHSU9OUyIsImdldFJlZ2lvbiIsImluY3JlbWVudFBpeGVsQ291bnQiLCJoYXNFeGNlZWRlZFJheUNvdW50IiwibGltaXQiLCJlbWl0RnJvbVBpeGVsIiwiZ2V0UmVnaW9uSW5kZXgiLCJvYmplY3RzIiwiY29ybmVyMSIsImNvcm5lcjIiLCJtaW5EaWFnTGVuZ3RoIiwibWF4X2RlcHRoIiwiZGVwdGgiLCJNQVhfT0JKRUNUU19JTl9OT0RFIiwibWF4RGVwdGgiLCJzZXRNaW5EaWFnTGVuZ3RoIiwiY3JlYXRlIiwiY29ybmVycyIsImRpYWdMZW5ndGgiLCJtaWQiLCJpZHgiLCJhcnIiLCJ0b0FycmF5IiwiZnJvbUFycmF5Iiwic3Vib2JqZWN0cyIsImZpbmQiLCJwb2ludCIsImNvbnRhaW5zIiwic2VhcmNoIiwibWV0cmVzIiwia2dzIiwic2Vjb25kcyIsIl9tZXRyZXMiLCJfa2lsb2dyYW1zIiwiX3NlY29uZHMiLCJzZXRNZXRyZXNTY2FsZSIsInZhbCIsInNldEtnc1NjYWxlIiwic2V0VGltZVNjYWxlIiwiZ2V0U2NhbGVkRGlzdGFuY2UiLCJnZXRTY2FsZWRNYXNzIiwiZ2V0U2NhbGVkVGltZSIsImdldFVuc2NhbGVkVGltZSIsImdldFNjYWxlZFZlbG9jaXR5IiwiZ2V0VW5zY2FsZWRWZWxvY2l0eSIsIlNjYWxlZFVuaXRzIiwidmVsb2NpdHkiLCJsaWZlU3BhbiIsImFnZSIsImFsaXZlIiwiQUIiLCJBTyIsIkJPIiwiQU9Qcm9qQUIiLCJCT1Byb2pBQiIsImxlc3NlclByb2plY3Rpb24iLCJiaWdnZXJQcm9qZWN0aW9uIiwicHMiLCJ1bml0cyIsInBob3RvbkdlbmVyYXRvciIsInNldEdlbmVyYXRvciIsInNwYWNlX3BhcnRpY2xlIiwiU3BhY2VQYXJ0aWNsZUdlbmVyYXRvciIsIk1JTl9BQ0NSRVRJT05fRElTS19WRUwiLCJNQVhfQUNDUkVUSU9OX0RJU0tfVkVMIiwiQkxBQ0tfSE9MRV9NQVNTIiwiUkVTT0xVVElPTiIsInRvdGFsVGltZSIsImNvdW50IiwidGltZUJlZm9yZSIsInBzcHJvZmlsZXIiLCJ0cmFjZXJwcm9maWxlciIsImluaXRpYWxpemVTeXN0ZW0iLCJibGFja0hvbGUiLCJncmF2aXR5IiwiYWRkRm9yY2UiLCJhZGRQYXJ0aWNsZSIsImluaXRpYWxpemVQYXJ0aWNsZUdlbmVyYXRvciIsImdldFNjaHdhcnpjaGlsZFJhZGl1cyIsInNldEJvdW5kcyIsImVtaXRQYXJ0aWNsZXMiLCJQYXJ0aWNsZVN5c3RlbUN1c3RvbWl6ZXIiLCJ0ZXN0T2N0cmVlIiwicGFydGljbGVHZW5lcmF0b3IiLCJzZXRUaW1lU3RlcCIsInNjYWxlVmVsb2NpdHkiLCJCbGFja0hvbGVTeXN0ZW0iLCJwb3N0SW5pdEhvb2siLCJzeXN0ZW0iLCJjb250cm9scyIsIlRyYWNrYmFsbENvbnRyb2xzIiwiY2FtZXJhIiwicmVuZGVyZXIiLCJkb21FbGVtZW50IiwiYW5pbWF0ZUhvb2siLCJCb2lsZXJwbGF0ZSIsIml0ZW1zIiwic3BsaWNlIiwiY2xlYXIiLCJuIiwicHJpbnRDb3VudCIsImNhY2hlIiwiY2FjaGVDbG9uZSIsIlBhcnRpY2xlRGVyaXZhdGl2ZSIsInByb2ZpbGVyIiwiY3JlYXRlQ2FjaGVzIiwiZGVyaXZhdGl2ZUNhY2hlcyIsInByaW50Q091bnQiLCJ1cGRhdGVNaWRQb2ludCIsInBvc3RVcGRhdGUiLCJ1cGRhdGVQYXJ0aWNsZUxpdmVzIiwiYm91bmRzQ2hlY2siLCJtaW5Cb3VuZHMiLCJtYXhCb3VuZHMiLCJzdG9yZVN0YXRlIiwic3RhdGUiLCJyZXN0b3JlU3RhdGUiLCJ1cGRhdGVSSzQiLCJvbGREZXJpdmF0aXZlIiwiazEiLCJrMiIsImszIiwiazQiLCJwcmludERlcml2YXRpdmUiLCJBIiwiQiIsIkMiLCJ0cmFuc2Zvcm1NYXRyaXgiLCJNYXRyaXg0IiwidHJhbnNmb3JtTWF0cml4SW52IiwibWFrZUJhc2lzIiwidHJhbnNwb3NlIiwiYXBwbHlNYXRyaXg0IiwiZ2V0SW52ZXJzZSIsInRoZXRhIiwiY29zIiwic2luIiwicGFydGljbGVTeXN0ZW0iLCJjb2xsaXNpb25NYW5hZ2VyIiwiZml4IiwibW91c2UiLCJjb250YWluZXIiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJyYXljYXN0ZXIiLCJSYXljYXN0ZXIiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJXZWJHTFJlbmRlcmVyIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0Iiwic2V0U2l6ZSIsImRldmljZVBpeGVsUmF0aW8iLCJhc3BlY3RSYXRpbyIsIlBlcnNwZWN0aXZlQ2FtZXJhIiwiU2NlbmUiLCJiYWNrZ3JvdW5kIiwiQ29sb3IiLCJhZGRFdmVudExpc3RlbmVyIiwib25XaW5kb3dSZXNpemUiLCJiaW5kIiwiYXNwZWN0IiwidXBkYXRlUHJvamVjdGlvbk1hdHJpeCIsInN0eWxlIiwibWF4V2lk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LEVBN0VBLEdBQWEsRUFBQUksZ0IiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBUaGlzIGNsYXNzIHdpbGwgaG9sZCBhIHJheXRyYWNpbmcgcGluIGhvbGUgY2FtZXJhXHJcbiAqIFBob3RvbnMgd2lsbCBiZSByZWxlYXNlZCBmcm9tIHRoZSBwbGF0ZSBvbiB0aGlzIGNhbWVyYVxyXG4gKiBUaGF0IHdpbGwgcGFzcyB0aHJvdWdoIGl0cyBhcGVydHVyZVxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFBob3RvZ3JhcGhpY1BsYXRlIH0gZnJvbSBcIi4vcGhvdG9ncmFwaFwiO1xyXG5pbXBvcnQgeyBUZXh0dXJlLCBNZXNoQmFzaWNNYXRlcmlhbCwgTWVzaCwgRGF0YVRleHR1cmUsIFJHQkFGb3JtYXQsIFBsYW5lR2VvbWV0cnksIFZlY3RvcjMsIENvbG9yLCBRdWF0ZXJuaW9uLCBWZWN0b3IyLCBTY2VuZSB9IGZyb20gXCJ0aHJlZVwiO1xyXG5pbXBvcnQgeyBQaG90b25HZW5lcmF0b3IgfSBmcm9tIFwiLi4vcGFydGljbGUtc3lzdGVtL2dlbmVyYXRvci9waG90b24tZ2VuZXJhdG9yXCI7XHJcbmltcG9ydCB7IEZpeGVkUG9zaXRpb25HZW5lcmF0b3IgfSBmcm9tIFwiLi4vcGFydGljbGUtc3lzdGVtL2dlbmVyYXRvci9wb3NpdGlvbi1nZW5lcmF0b3JzL2ZpeGVkLXBvc2l0aW9uLWdlbmVyYXRvclwiO1xyXG5pbXBvcnQgeyBJVmVjdG9yR2VuZXJhdG9yIH0gZnJvbSBcIi4uL3BhcnRpY2xlLXN5c3RlbS9nZW5lcmF0b3IvaS1wYXJ0aWNsZS1nZW5lcmF0b3JcIjtcclxuaW1wb3J0IHsgSVJheVRyYWNlciB9IGZyb20gXCIuL2ktcmF5dHJhY2VyXCI7XHJcbmltcG9ydCB7IFBpeGVsUmF5IH0gZnJvbSBcIi4vcGl4ZWwtcmF5XCI7XHJcbmltcG9ydCB7IElSYXlUcmFjaW5nQ3VzdG9taXplciB9IGZyb20gXCIuL3BhcnRpY2xlLXN5c3RlbS1yYXl0cmFjZXJcIjtcclxuaW1wb3J0IHsgSVJheUVtaXR0ZXIgfSBmcm9tIFwiLi9pLXJheS1lbWl0dGVyXCI7XHJcbmltcG9ydCB7IFZhcmlhYmxlUmF5RW1pdHRlciB9IGZyb20gXCIuL3ZhcmlhYmxlLXJheS1lbWl0dGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUmF5VHJhY2VyIGltcGxlbWVudHMgSVJheVRyYWNlciB7XHJcbiAgICBwcml2YXRlIHBsYXRlOiBQaG90b2dyYXBoaWNQbGF0ZTtcclxuICAgIHByaXZhdGUgaW1hZ2U6IFRleHR1cmU7XHJcbiAgICBwcml2YXRlIHBob3RvOiBNZXNoQmFzaWNNYXRlcmlhbDtcclxuICAgIHByaXZhdGUgbWVzaDogTWVzaDtcclxuICAgIHByaXZhdGUgaG9sZTogVmVjdG9yMztcclxuICAgIHByaXZhdGUgZm92OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGdlbmVyYXRvcjogUmF5VHJhY2luZ1Bob3RvbkdlbmVyYXRvcjtcclxuICAgIHByaXZhdGUgcm90YXRpb246IFF1YXRlcm5pb247XHJcbiAgICBwcml2YXRlIGN1c3RvbWl6ZXI6IElSYXlUcmFjaW5nQ3VzdG9taXplcjtcclxuICAgIHByaXZhdGUgc2NlbmU6IFNjZW5lO1xyXG4gICAgcHJpdmF0ZSBlbWl0dGVyOiBJUmF5RW1pdHRlcjtcclxuICAgIHJlYWRvbmx5IERJU1RfVE9fUExBVEUgPSAxO1xyXG4gICAgcmVhZG9ubHkgQVNQRUNUX1JBVElPID0gMTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZTogU2NlbmUsIGhvbGUgPSBuZXcgVmVjdG9yMygpLCBsb29rQXQgPSBuZXcgVmVjdG9yMygwLCAwLCAxKSwgZm92ID0gTWF0aC5QSSAvIDQsIHJlc29sdXRpb25YID0gMTAwLCBjID0gMjk5NzkyNDU4KSB7XHJcbiAgICAgICAgdGhpcy5ob2xlID0gaG9sZTtcclxuICAgICAgICB0aGlzLmNyZWF0ZVBsYXRlKGZvdiwgcmVzb2x1dGlvblgpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmltYWdlID0gbmV3IERhdGFUZXh0dXJlKHRoaXMucGxhdGUuZ2V0SW1hZ2UoKSwgdGhpcy5wbGF0ZS5yZXNvbHV0aW9uLngsIHRoaXMucGxhdGUucmVzb2x1dGlvbi55LCBSR0JBRm9ybWF0KTtcclxuICAgICAgICB0aGlzLnBob3RvID0gbmV3IE1lc2hCYXNpY01hdGVyaWFsKCk7XHJcbiAgICAgICAgdGhpcy5waG90by5tYXAgPSB0aGlzLmltYWdlO1xyXG4gICAgICAgIHRoaXMubWVzaCA9IG5ldyBNZXNoKG5ldyBQbGFuZUdlb21ldHJ5KDEwLCAxMCksIHRoaXMucGhvdG8pO1xyXG4gICAgICAgIHRoaXMubWVzaC5wb3NpdGlvbi5jb3B5KHRoaXMuaG9sZSk7XHJcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IG5ldyBRdWF0ZXJuaW9uKCkuc2V0RnJvbVVuaXRWZWN0b3JzKG5ldyBWZWN0b3IzKDAsIDAsIDEpLCBsb29rQXQubm9ybWFsaXplKCkpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlR2VuZXJhdG9yKGMpO1xyXG4gICAgICAgIHRoaXMuZW1pdHRlciA9IG5ldyBWYXJpYWJsZVJheUVtaXR0ZXIodGhpcy5nZXRSZXNvbHV0aW9uKCksIHRoaXMsIHRoaXMuZ2VuZXJhdG9yKTtcclxuICAgIH1cclxuICAgIG9iamVjdFdhc0hpdCh4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuZW1pdHRlci5vYmplY3RXYXNIaXQoeCwgeSk7XHJcbiAgICB9XHJcbiAgICBnZXRXaWR0aCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBsYXRlLndpZHRoO1xyXG4gICAgfVxyXG4gICAgZ2V0SGVpZ2h0KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGxhdGUuaGVpZ2h0O1xyXG4gICAgfVxyXG4gICAgZ2V0Um90YXRpb24oKTogUXVhdGVybmlvbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucm90YXRpb247XHJcbiAgICB9XHJcbiAgICBnZXREaXN0YW5jZVRvQ2FudmFzKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuRElTVF9UT19QTEFURTtcclxuICAgIH1cclxuICAgIGdldFBvc2l0aW9uKCk6IFZlY3RvcjMge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhvbGUuY2xvbmUoKTtcclxuICAgIH1cclxuICAgIHNldEN1c3RvbWl6ZXIoY3VzdG9taXplOiBJUmF5VHJhY2luZ0N1c3RvbWl6ZXIpIHtcclxuICAgICAgICB0aGlzLmN1c3RvbWl6ZXIgPSBjdXN0b21pemU7XHJcbiAgICB9XHJcbiAgICBjcmVhdGVHZW5lcmF0b3IoYzogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5nZW5lcmF0b3IgPSBuZXcgUmF5VHJhY2luZ1Bob3RvbkdlbmVyYXRvcih0aGlzLnNjZW5lLCBjKTtcclxuICAgIH1cclxuICAgIGNyZWF0ZVBsYXRlKGZvdjogbnVtYmVyLCByZXNfeDogbnVtYmVyKSB7XHJcbiAgICAgICAgY29uc3Qgd2lkdGggPSAyICogdGhpcy5ESVNUX1RPX1BMQVRFICogTWF0aC50YW4oZm92KTtcclxuICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLkFTUEVDVF9SQVRJTyAqIHdpZHRoO1xyXG4gICAgICAgIGNvbnN0IHJlc195ID0gdGhpcy5BU1BFQ1RfUkFUSU8gKiByZXNfeDtcclxuICAgICAgICBjb25zdCBwbGF0ZSA9IG5ldyBQaG90b2dyYXBoaWNQbGF0ZSh3aWR0aCwgaGVpZ2h0LCByZXNfeCwgcmVzX3ksIG5ldyBWZWN0b3IzKDAsIDAsIHRoaXMuRElTVF9UT19QTEFURSksIG5ldyBWZWN0b3IzKDAsIDAsIC0xKSk7XHJcbiAgICAgICAgdGhpcy5wbGF0ZSA9IHBsYXRlO1xyXG4gICAgfVxyXG4gICAgZ2V0UGhvdG8oKTogTWVzaCB7XHJcbiAgICAgICAgLy8gcmV0dXJuIHRoZSBpbWFnZSBvbiB0aGUgcGxhdGVcclxuICAgICAgICByZXR1cm4gdGhpcy5tZXNoO1xyXG4gICAgfVxyXG4gICAgZ2V0UmVzb2x1dGlvbigpOiBWZWN0b3IyXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGxhdGUucmVzb2x1dGlvbjtcclxuICAgIH1cclxuICAgIC8vIFVwZGF0ZXMgdGhlIHBsYXRlIGJ5IGNoZWNraW5nIGlmIGFueSBvZiB0aGUgcGFydGljbGVzIGhhdmUgY29sbGlkZWRcclxuICAgIC8vIHdpdGggdGhlIHBsYXRlXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VzdG9taXplcikge1xyXG4gICAgICAgICAgICB0aGlzLmN1c3RvbWl6ZXIudXBkYXRlKCk7XHJcbiAgICAgICAgfSB0aGlzLmltYWdlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVtaXRQaG90b25zKGVtaXR0ZXI/OiBJUmF5RW1pdHRlcikge1xyXG4gICAgICAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wbGF0ZS5yZXNvbHV0aW9uLng7IGkrKykge1xyXG4gICAgICAgIC8vICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMucGxhdGUucmVzb2x1dGlvbi55OyBqKyspIHtcclxuICAgICAgICAvLyAgICAgICAgIC8vIGlmICgoaSA8IDggfHwgaSA+IDI0KSAmJiBqID49IDE2ICYmIGogPCAzMilcclxuICAgICAgICAvLyAgICAgICAgIC8vIGlmIChqID4gOCAmJiBqIDwgMjQpXHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLmVtaXRGcm9tKGksIGopOyAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIGlmICghZW1pdHRlcikge1xyXG4gICAgICAgICAgICBlbWl0dGVyID0gdGhpcy5lbWl0dGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByYXlzID0gZW1pdHRlci5lbWl0KCk7XHJcbiAgICAgICAgcmF5cy5mb3JFYWNoKHJheSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucG9zdEVtaXQocmF5KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVtaXRGcm9tKGk6IG51bWJlciwgajogbnVtYmVyKSB7XHJcbiAgICAgICAgLy8gY29uc3QgcGVydHVyYnggPSAwOyBNYXRoLnJhbmRvbSgpICogMC42ICsgMC4yO1xyXG4gICAgICAgIC8vIGNvbnN0IHBlcnR1cmJ5ID0gMDsgTWF0aC5yYW5kb20oKSAqIDAuNiArIDAuMjtcclxuICAgICAgICAvLyBjb25zdCB4ID0gKGkgKyBwZXJ0dXJieCkgLyB0aGlzLnBsYXRlLnJlc29sdXRpb24ueCAqIHRoaXMucGxhdGUud2lkdGggLSB0aGlzLnBsYXRlLndpZHRoLzI7XHJcbiAgICAgICAgLy8gY29uc3QgeSA9IChqICsgcGVydHVyYnkpIC8gdGhpcy5wbGF0ZS5yZXNvbHV0aW9uLnkgKiB0aGlzLnBsYXRlLmhlaWdodC0gdGhpcy5wbGF0ZS5oZWlnaHQvMjtcclxuICAgICAgICAvLyBjb25zdCB6ID0gdGhpcy5ESVNUX1RPX1BMQVRFO1xyXG4gICAgICAgIC8vIC8vIFRyYW5zZm9ybSB0aGlzIHZlbG9jaXR5IGJ5IHRoZSBjYW1lcmEncyB0cmFuc2Zvcm1cclxuICAgICAgICAvLyBjb25zdCB2ZWwgPSBuZXcgVmVjdG9yMyh4LCB5LCB6KTtcclxuICAgICAgICAvLyB2ZWwuYXBwbHlRdWF0ZXJuaW9uKHRoaXMucm90YXRpb24pO1xyXG4gICAgICAgIC8vIHRoaXMuZ2VuZXJhdG9yLnBhcmFtZXRlcihpLCBqLCB2ZWwpO1xyXG4gICAgICAgIC8vIGNvbnN0IHJheSA9IHRoaXMuZ2VuZXJhdG9yLmdlbmVyYXRlKCk7XHJcbiAgICAgICAgLy8gcmF5LnNldFBvc2l0aW9uKHRoaXMuaG9sZS54LCB0aGlzLmhvbGUueSwgdGhpcy5ob2xlLnopO1xyXG4gICAgICAgIGNvbnN0IHJheSA9IHRoaXMuZW1pdHRlci5lbWl0RnJvbShpLCBqKTtcclxuICAgICAgICB0aGlzLnBvc3RFbWl0KHJheSk7XHJcbiAgICB9XHJcbiAgICBlbWl0RnJvbVJhbmRvbVBpeGVsKCkge1xyXG4gICAgICAgIGNvbnN0IGkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLnBsYXRlLnJlc29sdXRpb24ueCk7XHJcbiAgICAgICAgY29uc3QgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMucGxhdGUucmVzb2x1dGlvbi54KTtcclxuICAgICAgICB0aGlzLmVtaXRGcm9tKGkgLCBqKTsgICAgICAgIFxyXG4gICAgfVxyXG4gICAgcG9zdEVtaXQocmF5OiBQaXhlbFJheSkge1xyXG4gICAgICAgIGlmICh0aGlzLmN1c3RvbWl6ZXIgJiYgcmF5ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXN0b21pemVyLnBvc3RFbWl0KHJheSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxsYmFjayB0byBzZXQgdGhlIGNvbG9yIG9mIHRoZSBwaXhlbCB3aXRoIHRoaXMgY29sb3JcclxuICAgICAqIEBjb2xvciBUaGUgY29sb3IgdG8gc2V0IHRoZSBwaXhlbCB0b1xyXG4gICAgICogQHBvc2l0aW9uIFRoZSBwb3NpdGlvbiBhdCB3aGljaCB0aGUgbWF0ZXJpYWwgaG9sZGluZyB0aGlzIGNvbG9yIGlzXHJcbiAgICAgKi9cclxuICAgIHNldFBpeGVsKHg6IG51bWJlciwgeTogbnVtYmVyLCBjb2xvcjogbnVtYmVyW10sIHBvc2l0aW9uOiBWZWN0b3IzKTogYW55IHtcclxuICAgICAgICB0aGlzLnBsYXRlLnNldFBpeGVsKHgsIHksIGNvbG9yKTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgY2xhc3MgUmF5VHJhY2luZ1Bob3RvblZlbG9jaXR5R2VuZXJhdG9yIGltcGxlbWVudHMgSVZlY3RvckdlbmVyYXRvciB7XHJcbiAgICBkaXI6IFZlY3RvcjM7XHJcbiAgICBjID0gMjk5NzkyNDU4O1xyXG4gICAgY29uc3RydWN0b3IoYyA9IDI5OTc5MjQ1OCkge1xyXG4gICAgICAgIHRoaXMuYyA9IGM7XHJcbiAgICB9XHJcbiAgICBwYXJhbWV0ZXIoZGlyOiBWZWN0b3IzKSB7XHJcbiAgICAgICAgdGhpcy5kaXIgPSBkaXIubm9ybWFsaXplKCk7XHJcbiAgICB9XHJcbiAgICBnZW5lcmF0ZSgpOiBWZWN0b3IzIHtcclxuICAgICAgICBjb25zdCB2ZWwgPSB0aGlzLmRpci5jbG9uZSgpO1xyXG4gICAgICAgIHZlbC5tdWx0aXBseVNjYWxhcih0aGlzLmMpO1xyXG4gICAgICAgIHJldHVybiB2ZWw7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNsYXNzIFJheVRyYWNpbmdQaG90b25HZW5lcmF0b3Ige1xyXG4gICAgZ2VuZXJhdG9yOiBQaG90b25HZW5lcmF0b3I7XHJcbiAgICB2ZWxvY2l0eV9nZW5lcmF0b3I6IFJheVRyYWNpbmdQaG90b25WZWxvY2l0eUdlbmVyYXRvcjtcclxuICAgIHggPSAwO1xyXG4gICAgeSA9IDA7XHJcbiAgICBzY2VuZTogU2NlbmU7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFNjZW5lLCBjID0gMjk5NzkyNDU4KSB7XHJcbiAgICAgICAgdGhpcy5nZW5lcmF0b3IgPSBuZXcgUGhvdG9uR2VuZXJhdG9yKCk7XHJcbiAgICAgICAgdGhpcy52ZWxvY2l0eV9nZW5lcmF0b3IgPSBuZXcgUmF5VHJhY2luZ1Bob3RvblZlbG9jaXR5R2VuZXJhdG9yKGMpXHJcbiAgICAgICAgdGhpcy5nZW5lcmF0b3Iuc2V0VmVsb2NpdHlHZW5lcmF0b3IodGhpcy52ZWxvY2l0eV9nZW5lcmF0b3IpO1xyXG4gICAgICAgIHRoaXMuZ2VuZXJhdG9yLnNldFBvc2l0aW9uR2VuZXJhdG9yKG5ldyBGaXhlZFBvc2l0aW9uR2VuZXJhdG9yKG5ldyBWZWN0b3IzKCkpKTtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICB9XHJcbiAgICBwYXJhbWV0ZXIoeDogbnVtYmVyLCB5OiBudW1iZXIsIGRpcjogVmVjdG9yMykge1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICB0aGlzLnZlbG9jaXR5X2dlbmVyYXRvci5wYXJhbWV0ZXIoZGlyKTtcclxuICAgIH1cclxuICAgIGdlbmVyYXRlKCk6IFBpeGVsUmF5IHtcclxuICAgICAgICBjb25zdCBiYXNlUGFydGljbGUgPSB0aGlzLmdlbmVyYXRvci5nZW5lcmF0ZSgpO1xyXG4gICAgICAgIGNvbnN0IHBhcnRpY2xlID0gbmV3IFBpeGVsUmF5KHRoaXMuc2NlbmUsIG5ldyBWZWN0b3IyKHRoaXMueCwgdGhpcy55KSk7XHJcbiAgICAgICAgcGFydGljbGUuY29weShiYXNlUGFydGljbGUpO1xyXG4gICAgICAgIHJldHVybiBwYXJ0aWNsZTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEJsYWNrSG9sZVN0YXJ0ZXIgfSBmcm9tIFwiLi9ibGFjay1ob2xlLXN0YXJ0ZXJcIjtcclxuXHJcbmxldCBzeXN0ZW0gPSBuZXcgQmxhY2tIb2xlU3RhcnRlcigpO1xyXG5zeXN0ZW0uYW5pbWF0ZSgpOyIsImltcG9ydCB7IFZlY3RvcjMsIFF1YXRlcm5pb24sIFZlY3RvcjIsIFRleHR1cmUsIERhdGFUZXh0dXJlLCBNZXNoLCBNZXNoQmFzaWNNYXRlcmlhbCwgUGxhbmVHZW9tZXRyeSwgUkdCQUZvcm1hdCB9IGZyb20gXCJ0aHJlZVwiO1xyXG5pbXBvcnQgeyBTcGFjZVBhcnRpY2xlIH0gZnJvbSBcIi4uL3NwYWNlLXBhcnRpY2xlXCI7XHJcbmltcG9ydCB7IElQYXJ0aWNsZSB9IGZyb20gXCIuLi9wYXJ0aWNsZS1zeXN0ZW0vcGFydGljbGUvcGFydGljbGVcIjtcclxuXHJcbi8qKlxyXG4gKiBUaGlzIGNsYXNzIHdpbGwgdGFrZSBhIHBob3RvZ3JhcGggb2YgdGhlIHNjZW5lIG9uIGEgcGxhbmVcclxuICogUGFydGljbGVzIGNhbiBpbnRlcmFjdCB3aXRoIHRoZSBwaG90b2dyYXBoaWMgcGxhdGUuIFdoZW5ldmVyIHRoZXlcclxuICogaW50ZXJzZWN0IHRoZSBwbGF0ZSwgYSBjZXJ0YWluIGNvbG9yIHdpdGggaW50ZW5zaXR5IHdvdWxkIGJlIGFkZGVkIHRvIFxyXG4gKiB0aGUgcGxhdGVcclxuICovXHJcbmV4cG9ydCBjbGFzcyBQaG90b2dyYXBoIHtcclxuICAgIHBsYXRlOiBQaG90b2dyYXBoaWNQbGF0ZTtcclxuICAgIGltYWdlOiBUZXh0dXJlO1xyXG4gICAgcGhvdG86IE1lc2hCYXNpY01hdGVyaWFsO1xyXG4gICAgbWVzaDogTWVzaDtcclxuICAgIGNvbnN0cnVjdG9yKHBsYXRlOiBQaG90b2dyYXBoaWNQbGF0ZSkge1xyXG4gICAgICAgIHRoaXMucGxhdGUgPSBwbGF0ZTtcclxuICAgICAgICB0aGlzLmltYWdlID0gbmV3IERhdGFUZXh0dXJlKHRoaXMucGxhdGUuZ2V0SW1hZ2UoKSwgcGxhdGUucmVzb2x1dGlvbi54LCBwbGF0ZS5yZXNvbHV0aW9uLnksIFJHQkFGb3JtYXQpO1xyXG4gICAgICAgIHRoaXMucGhvdG8gPSBuZXcgTWVzaEJhc2ljTWF0ZXJpYWwoKTtcclxuICAgICAgICB0aGlzLnBob3RvLm1hcCA9IHRoaXMuaW1hZ2U7XHJcbiAgICAgICAgdGhpcy5tZXNoID0gbmV3IE1lc2gobmV3IFBsYW5lR2VvbWV0cnkoMTAsIDEwKSwgdGhpcy5waG90byk7XHJcbiAgICB9XHJcbiAgICBnZXRQaG90bygpOiBNZXNoIHtcclxuICAgICAgICAvLyByZXR1cm4gdGhlIGltYWdlIG9uIHRoZSBwbGF0ZVxyXG4gICAgICAgIHJldHVybiB0aGlzLm1lc2g7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlcyB0aGUgcGxhdGUgYnkgY2hlY2tpbmcgaWYgYW55IG9mIHRoZSBwYXJ0aWNsZXMgaGF2ZSBjb2xsaWRlZFxyXG4gICAgLy8gd2l0aCB0aGUgcGxhdGVcclxuICAgIHVwZGF0ZShwYXJ0aWNsZXM6IEFycmF5PElQYXJ0aWNsZT4sIGRlbHRhVDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5wbGF0ZS5leHBvc2UocGFydGljbGVzLCBkZWx0YVQpO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogUGhvdG9ncmFwaGljIHBsYXRlIGlzIHRoZSBvbmUgZXhwb3NlZCB0byB0aGUgcGFydGljbGVzXHJcbiAqIEl0IGNvbnRhaW5zIGFuIGFycmF5IG9mIHdoaWNoIHBhcnRzIG9mIGl0IHdlcmUgZXhwb3NlZCBhbmQgYnkgaG93IG11Y2hcclxuICogTWF5YmUgdXNpbmcgYSBmcmFnbWVudCBzaGFkZXIgb24gdGhlc2UgYXMgdGV4dHVyZSB3b3VsZCBoZWxwIGRpc3BsYXkgdGhlbVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBob3RvZ3JhcGhpY1BsYXRlIHtcclxuICAgIHJlc29sdXRpb246IFZlY3RvcjI7XHJcbiAgICB3aWR0aDogbnVtYmVyO1xyXG4gICAgaGVpZ2h0OiBudW1iZXI7XHJcbiAgICBwb3NpdGlvbjogVmVjdG9yMztcclxuICAgIG5vcm1hbDogVmVjdG9yMzsgLy8gVGhlIG5vcm1hbCB0byB0aGUgcGxhbmUgaW4gdGhlIGRpcmVjdGlvbiBvZiB0aGUgb2JqZWN0XHJcbiAgICBwcml2YXRlIGRhdGE6IFVpbnQ4QXJyYXk7XHJcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCA9IDEuMCwgaGVpZ2h0ID0gMS4wLCByZXNvbHV0aW9uWCA9IDEwMCwgcmVzb2x1dGlvblkgPSAxMDAsIHBvc2l0aW9uID0gbmV3IFZlY3RvcjMoKSwgbm9ybWFsID0gbmV3IFZlY3RvcjMoMCwgMCwgMSkpIHtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xyXG4gICAgICAgIHRoaXMubm9ybWFsID0gbm9ybWFsLm5vcm1hbGl6ZSgpO1xyXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IG5ldyBWZWN0b3IyKHJlc29sdXRpb25YLCByZXNvbHV0aW9uWSk7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gbmV3IFVpbnQ4QXJyYXkoNCAqIHJlc29sdXRpb25YICogcmVzb2x1dGlvblkpO1xyXG4gICAgfVxyXG4gICAgZ2V0SW1hZ2UoKTogVWludDhBcnJheSB7IHJldHVybiB0aGlzLmRhdGE7IH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEV4cG9zZXMgdGhlIHBsYXRlIHRvIHBob3RvbnMuIEFueSBwaG90b25zIHRoYXQgYXJlIGludGVyc2VjdGluZyB3aXRoIHRoZSBcclxuICAgICAqIHBsYXRlIGF0IHRoZSBnaXZlbiB0aW1lIHdpbGwgYmUgcmVnaXN0ZXJlZCB3aXRoIGEgY29sb3JcclxuICAgICAqIEBwYXJhbSBwYXJ0aWNsZXMgXHJcbiAgICAgKiBAcGFyYW0gZGVsdGFUIFxyXG4gICAgICovXHJcbiAgICBleHBvc2UocGFydGljbGVzOiBBcnJheTxJUGFydGljbGU+LCBkZWx0YVQ6IG51bWJlcikge1xyXG4gICAgICAgIGNvbnN0IHF1YXJ0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKS5zZXRGcm9tVW5pdFZlY3RvcnModGhpcy5ub3JtYWwsIG5ldyBWZWN0b3IzKDAsIDAsIDEpKTtcclxuICAgICAgICBjb25zdCBjb2xvciA9IFsxNiwgMCwgMCwgMF07XHJcbiAgICAgICAgcGFydGljbGVzLmZvckVhY2gocCA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwLmdldFR5cGUoKSA9PSBTcGFjZVBhcnRpY2xlLlBIT1RPTikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZnJvbSA9IHAuZ2V0UG9zaXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRvID0gbmV3IFZlY3RvcjMoKS5hZGRWZWN0b3JzKHAuZ2V0UG9zaXRpb24oKSwgcC5nZXRWZWxvY2l0eSgpLm11bHRpcGx5U2NhbGFyKGRlbHRhVCkpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW50ZXJzZWN0aW9uID0gdGhpcy5pbnRlcnNlY3RzV2l0aFBsYXRlKGZyb20sIHRvKTtcclxuICAgICAgICAgICAgICAgIGlmIChpbnRlcnNlY3Rpb24ueCAhPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWxhdGl2ZUNvb3JkaW5hdGVzID0gaW50ZXJzZWN0aW9uLnN1Yih0aGlzLnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZUNvb3JkaW5hdGVzLmFwcGx5UXVhdGVybmlvbihxdWFydGVybmlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVDb29yZGluYXRlcy54ID0gdGhpcy53aWR0aCAvIDIgKyByZWxhdGl2ZUNvb3JkaW5hdGVzLnggKiB0aGlzLnJlc29sdXRpb24ueCAvIHRoaXMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVDb29yZGluYXRlcy55ID0gdGhpcy5oZWlnaHQgLyAyICsgcmVsYXRpdmVDb29yZGluYXRlcy55ICogdGhpcy5yZXNvbHV0aW9uLnkgLyB0aGlzLmhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZUNvb3JkaW5hdGVzLnggPSA0ICogTWF0aC5yb3VuZChyZWxhdGl2ZUNvb3JkaW5hdGVzLngpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlQ29vcmRpbmF0ZXMueSA9IDQgKiBNYXRoLnJvdW5kKHJlbGF0aXZlQ29vcmRpbmF0ZXMueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSByZWxhdGl2ZUNvb3JkaW5hdGVzLnkgKiB0aGlzLnJlc29sdXRpb24ueCArIHJlbGF0aXZlQ29vcmRpbmF0ZXMueDtcclxuICAgICAgICAgICAgICAgICAgICBjb2xvci5mb3JFYWNoKChpLCBqKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YVtpbmRleCArIGpdID0gTWF0aC5taW4odGhpcy5kYXRhW2luZGV4ICsgal0gKyBpLCAyNTUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmRhdGFbaW5kZXggKyBqXSArPSBpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmRhdGFbaW5kZXggKyAzXSA9IE1hdGgubWluKHRoaXMuZGF0YVtpbmRleCszXSArIGFscGhhLCAyNTUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIHBpeGVsIGF0ICh4LHkpIHRvIHRoaXMgY29sb3JcclxuICAgICAqIEBwYXJhbSBjb2xvciBBIGJ5dGUgYXJyYXkgY29udGFpbmluZyB0aGUgY29sb3IgaW4gUkdCQSBmb3JtYXRcclxuICAgICAqL1xyXG4gICAgc2V0UGl4ZWwoeDogbnVtYmVyLCB5OiBudW1iZXIsIGNvbG9yOiBudW1iZXJbXSkge1xyXG4gICAgICAgIHggPSA0ICogTWF0aC5mbG9vcih4KTtcclxuICAgICAgICB5ID0gNCAqIE1hdGguZmxvb3IoeSk7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSB5ICogdGhpcy5yZXNvbHV0aW9uLnggKyB4O1xyXG4gICAgICAgIGNvbG9yLmZvckVhY2goKGksIGopID0+IHtcclxuICAgICAgICAgICAgdGhpcy5kYXRhW2luZGV4ICsgal0gPSBNYXRoLm1pbih0aGlzLmRhdGFbaW5kZXggKyBqXSArIGksIDI1NSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIHBvaW50IGF0IHdoaWNoIHRoaXMgcGxhdGUgaW50ZXJzZWN0ZWQgd2l0aCB0aGUgTGluZVxyXG4gICAgICogUmV0dXJucyBpbmYsIGluZiBpZiBpdCBkaWRuJ3QgaW50ZXJzZWN0XHJcbiAgICAgKi9cclxuICAgIGludGVyc2VjdHNXaXRoUGxhdGUoZnJvbTogVmVjdG9yMywgdG86IFZlY3RvcjMpOiBWZWN0b3IzIHtcclxuICAgICAgICBsZXQgaW50ZXJzZWN0aW9uID0gbmV3IFZlY3RvcjMoTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpO1xyXG4gICAgICAgIC8vIENhbGN1bGF0ZSBpZiBib3RoIG9mIHRoZXNlIHBvaW50cyBhcmUgb24gZWl0aGVyIHNpZGUgb2YgdGhlIHBsYW5lXHJcbiAgICAgICAgLy8gSWYgdGhleSBhcmUsIHRoZSByYXRpbyBvZiB0aGVpciBub3JtYWxzIGdpdmUgdGhlIHJhdGlvcyBvbiBlaXRoZXIgc2lkZVxyXG4gICAgICAgIC8vIG9mIHRoZSBwbGFuZVxyXG4gICAgICAgIGNvbnN0IGxpbmUgPSBuZXcgVmVjdG9yMygpLnN1YlZlY3RvcnModG8sIGZyb20pO1xyXG4gICAgICAgIGNvbnN0IHBsYW5lVG8xID0gbmV3IFZlY3RvcjMoKS5zdWJWZWN0b3JzKGZyb20sIHRoaXMucG9zaXRpb24pO1xyXG4gICAgICAgIGNvbnN0IGRvdDEgPSBwbGFuZVRvMS5kb3QodGhpcy5ub3JtYWwpO1xyXG4gICAgICAgIGNvbnN0IHBsYW5lVG8yID0gbmV3IFZlY3RvcjMoKS5zdWJWZWN0b3JzKHRvLCB0aGlzLnBvc2l0aW9uKTtcclxuICAgICAgICBjb25zdCBkb3QyID0gcGxhbmVUbzIuZG90KHRoaXMubm9ybWFsKTtcclxuICAgICAgICAvLyBUaGlzIGNoZWNrIG1ha2VzIHN1cmUgdGhhdCBkb3QxIGFuZCBkb3QyIGFyZSBvcHBvc2l0ZSBzaWducyBcclxuICAgICAgICBpZiAoZG90MSAqIGRvdDIgPiAwKSB7XHJcbiAgICAgICAgICAgIC8vIGJvdGggcG9pbnRzIG9uIHRoZSBzYW1lIHNpZGUsIGludGVyc2VjdGlvbiBub3QgcG9zc2libGVcclxuICAgICAgICAgICAgcmV0dXJuIGludGVyc2VjdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRvdDEgPT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZnJvbTtcclxuICAgICAgICB9IGVsc2UgaWYgKGRvdDIgPT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdG87XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGJvdGggcG9pbnRzIG9uIG9wcG9zaXRlIHNpZGVzLCBjYWxjdWxhdGUgdGhlaXIgbm9ybWFsIHByb2plY3Rpb25zIHJhdGlvXHJcbiAgICAgICAgLy8gYW5kIGRpdmlkZSB0aGUgbGluZSBiZXR3ZWVuIHRoZW0gaW4gdGhlIHNhbWUgcmF0aW8gKHNpbWlsYXIgdHJpYW5nbGVzKVxyXG4gICAgICAgIGNvbnN0IHJhdGlvID0gTWF0aC5hYnMoZG90MSkgLyAoTWF0aC5hYnMoZG90MSkgKyBNYXRoLmFicyhkb3QyKSk7XHJcbiAgICAgICAgaW50ZXJzZWN0aW9uID0gZnJvbS5hZGQobGluZS5tdWx0aXBseVNjYWxhcihyYXRpbykpO1xyXG5cclxuICAgICAgICAvL01ha2Ugc3VyZSB0aGlzIGludGVyc2VjdGlvbiBpcyBpbnNpZGUgdGhlIHBsYW5lXHJcbiAgICAgICAgY29uc3QgZGltZW5zaW9ucyA9IG5ldyBWZWN0b3IzKCkuc3ViVmVjdG9ycyhpbnRlcnNlY3Rpb24sIHRoaXMucG9zaXRpb24pO1xyXG4gICAgICAgIGlmIChNYXRoLmFicyhkaW1lbnNpb25zLngpID4gdGhpcy53aWR0aCB8fCBNYXRoLmFicyhkaW1lbnNpb25zLnkpID4gdGhpcy5oZWlnaHQpIHtcclxuICAgICAgICAgICAgaW50ZXJzZWN0aW9uLnNldChOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGludGVyc2VjdGlvbjtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBUaW1lUHJvZmlsZSB7XHJcbiAgICBwcml2YXRlIHN0YXJ0VGltZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBpbnRlcnZhbDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSB1cGRhdGVFdmVyeTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSB1cGRhdGVDb3VudCA9IDA7XHJcbiAgICBwcml2YXRlIG5hbWU6IHN0cmluZztcclxuICAgIHByaXZhdGUgdGltZTogbnVtYmVyO1xyXG4gICAgY29uc3RydWN0b3IobmFtZSA9IFwiTWV0aG9kXCIsIHVwZGF0ZUV2ZXJ5ID0gMSkge1xyXG4gICAgICAgIHRoaXMudXBkYXRlRXZlcnkgPSB1cGRhdGVFdmVyeTtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgfVxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgIH1cclxuICAgIHN0b3AoKTogbnVtYmVyIHtcclxuICAgICAgICBjb25zdCBuZXdUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBuZXdUaW1lIC0gdGhpcy5zdGFydFRpbWU7XHJcbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBuZXdUaW1lO1xyXG4gICAgICAgIHRoaXMudXBkYXRlQ291bnQrKztcclxuICAgICAgICBpZiAodGhpcy51cGRhdGVDb3VudCA+IHRoaXMudXBkYXRlRXZlcnkpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDb3VudCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMucHJpbnQoKTtcclxuICAgICAgICAgICAgdGhpcy5pbnRlcnZhbCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaW50ZXJ2YWwgKz0gaW50ZXJ2YWw7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJ2YWw7XHJcbiAgICB9XHJcbiAgICBwcmludCgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIiVzIHRvb2sgJXMgbXNcIiwgdGhpcy5uYW1lLCB0aGlzLmludGVydmFsKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJUGFydGljbGUsIFBhcnRpY2xlIH0gZnJvbSBcIi4uL3BhcnRpY2xlLXN5c3RlbS9wYXJ0aWNsZS9wYXJ0aWNsZVwiO1xyXG5pbXBvcnQgeyBJUmF5VHJhY2VyIH0gZnJvbSBcIi4vaS1yYXl0cmFjZXJcIjtcclxuaW1wb3J0IHsgSVJheVRyYWNlYWJsZSB9IGZyb20gXCIuL2ktcmF5dHJhY2VhYmxlXCI7XHJcbmltcG9ydCB7IFJheWNhc3RlciwgQ29sb3IsIFZlY3RvcjMsIFZlY3RvcjIgfSBmcm9tIFwidGhyZWVcIjtcclxuaW1wb3J0IHsgUGl4ZWxSYXkgfSBmcm9tIFwiLi9waXhlbC1yYXlcIjtcclxuaW1wb3J0IHsgT2N0cmVlIH0gZnJvbSBcIi4vY29sbGlzaW9ucy9vY3RyZWVcIjtcclxuXHJcbi8qKlxyXG4gKiBUaGlzIGNsYXNzIHdpbGwgbWFuYWdlIGFsbCB0aGUgY29sbGlzaW9uIGNoZWNraW5nIGJldHdlZW4gcmF5c1xyXG4gKiBhbmQgcmF5dHJhY2VhYmxlIHBhcnRpY2xlc1xyXG4gKiBIb3cgc2hvdWxkIEkgdXBkYXRlIHRoZSBvY3RyZWUgd2hlbiBwYXJ0aWNsZXMgYXJlIHVwZGF0ZWQuIE1heWJlXHJcbiAqIGNhbGwgb2N0cmVlIHVwZGF0ZSB3aGVuIHRoZSBwYXJ0aWNsZSdzIHNldFBvc2l0aW9uIGlzIGNhbGxlZFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFJheVRyYWNpbmdDb2xsaXNpb25NYW5hZ2VyIHtcclxuICAgIHJheXRyYWNlcjogSVJheVRyYWNlcjtcclxuICAgIHJheXM6IEFycmF5PFBpeGVsUmF5PjtcclxuICAgIG9ic3RhY2xlczogQXJyYXk8SVJheVRyYWNlYWJsZT47XHJcbiAgICBvY3RyZWU6IE9jdHJlZTtcclxuICAgIGJnOiBCYWNrZ3JvdW5kSW1hZ2U7XHJcbiAgICBjb25zdHJ1Y3RvcihyYXl0cmFjZXI6IElSYXlUcmFjZXIpIHtcclxuICAgICAgICB0aGlzLnJheXRyYWNlciA9IHJheXRyYWNlcjtcclxuICAgICAgICB0aGlzLmJnID0gbmV3IEJhY2tncm91bmRJbWFnZSh0aGlzLnJheXRyYWNlci5nZXRSZXNvbHV0aW9uKCkueCwgdGhpcy5yYXl0cmFjZXIuZ2V0UmVzb2x1dGlvbigpLnksIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFJheXMocmF5czogQXJyYXk8UGl4ZWxSYXk+KSB7XHJcbiAgICAgICAgdGhpcy5yYXlzID0gcmF5cztcclxuICAgIH1cclxuXHJcbiAgICBzZXRPYnN0YWNsZXMob2JzdGFjbGVzOiBBcnJheTxJUmF5VHJhY2VhYmxlPikge1xyXG4gICAgICAgIHRoaXMub2JzdGFjbGVzID0gb2JzdGFjbGVzO1xyXG4gICAgICAgIHRoaXMub2N0cmVlID0gbmV3IE9jdHJlZSh0aGlzLm9ic3RhY2xlcywgbmV3IFZlY3RvcjMoLTUwLCAtNTAsIC01MCksIG5ldyBWZWN0b3IzKDUwLCA1MCwgNTApLCA0LCAxMCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlUGFydGljbGVJbk9jdHJlZShwYXJ0aWNsZTogSVBhcnRpY2xlKSB7XHJcblxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBPbiBjb2xsaXNpb24gb2YgcmF5IHdpdGggcGFydGljbGUsIHNldCB0aGUgY29sb3IgZm9yIHRoZSBcclxuICAgICAqIHJheXMgcGl4ZWxcclxuICAgICAqIERvIGEgcmVkLXNoaWZ0IGJ5IGRvdCBwcm9kdWN0IG9mIHRoZSB2ZWxvY2l0aWVzIFxyXG4gICAgICogSWYgdmVsb2NpdGllcyBhcmUgZ29pbmcgaW4gb3Bwb3NpdGUgZGlyZWN0aW9ucywgdGhlIHBhcnRpY2xlXHJcbiAgICAgKiB3aWxsIGJlIHJlZC1zaGlmdGVkXHJcbiAgICAgKiBAcGFyYW0gcGFydGljbGUgXHJcbiAgICAgKi9cclxuICAgIG9uQ29sbGlzaW9uKHBhcnRpY2xlOiBJUGFydGljbGUsIHJheTogUGl4ZWxSYXkpIHtcclxuICAgICAgICBsZXQgY29sb3IgPSBbMjAwLCAwLCAwLCAwXTtcclxuICAgICAgICBjb2xvciA9IHRoaXMuZG9wcGxlclNoaWZ0Q29sb3IoY29sb3IsIHBhcnRpY2xlLmdldFZlbG9jaXR5KCksIHJheS5nZXRWZWxvY2l0eSgpKTtcclxuICAgICAgICB0aGlzLnJheXRyYWNlci5zZXRQaXhlbChyYXkuZ2V0T3JpZ2luUGl4ZWwoKS54LCByYXkuZ2V0T3JpZ2luUGl4ZWwoKS55LCBjb2xvciwgbmV3IFZlY3RvcjMoKSk7XHJcbiAgICAgICAgdGhpcy5yYXl0cmFjZXIub2JqZWN0V2FzSGl0KHJheS5nZXRPcmlnaW5QaXhlbCgpLngsIHJheS5nZXRPcmlnaW5QaXhlbCgpLnkpO1xyXG4gICAgfVxyXG4gICAgZG9wcGxlclNoaWZ0Q29sb3IoY29sb3I6IEFycmF5PG51bWJlcj4sIHZlbF9wYXJ0aWNsZTogVmVjdG9yMywgdmVsX3JheTogVmVjdG9yMyk6IEFycmF5PG51bWJlcj4ge1xyXG4gICAgICAgIGxldCBkaXIgPSB2ZWxfcmF5LmNsb25lKCkubm9ybWFsaXplKCk7XHJcbiAgICAgICAgbGV0IGRvdCA9IHZlbF9wYXJ0aWNsZS5kb3QoZGlyKTtcclxuICAgICAgICBsZXQgZGlmZiA9IGRpci5tdWx0aXBseVNjYWxhcih2ZWxfcGFydGljbGUuZG90KGRpcikpO1xyXG4gICAgICAgIGNvbnN0IHJhdGlvID0gZGlmZi5sZW5ndGgoKSAvIHZlbF9yYXkubGVuZ3RoKCk7XHJcbiAgICAgICAgY29uc3QgSU5DUkVNRU5UUyA9IDEyODtcclxuICAgICAgICAvLyBUT0RPIHNob3VsZCB3ZSByZW1vdmUgY29sb3IgZnJvbSBvdGhlciBjb21wb25lbnRzLiBUZWNobmljYWxseSB0aGUgY29sb3Igc2hvdWxkXHJcbiAgICAgICAgLy8gYmUgaW50ZXJwb2xhdGVkIGFsb25nIHRoZSBmcmVxdWVuY3kgc3BlY3RydW1cclxuICAgICAgICBpZiAoZG90ID4gMCkge1xyXG4gICAgICAgICAgICAvLyByZWQgc2hpZnRcclxuICAgICAgICAgICAgY29sb3JbMF0gPSBNYXRoLm1pbihjb2xvclswXSArIE1hdGguY2VpbChyYXRpbyAqIElOQ1JFTUVOVFMpLCAyNTUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGJsdWUgc2hpZnRcclxuICAgICAgICAgICAgY29sb3JbMl0gPSBNYXRoLm1pbihjb2xvclsyXSArIE1hdGguY2VpbChyYXRpbyAqIElOQ1JFTUVOVFMpLCAyNTUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29sb3I7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUodGltZV9zdGVwOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnJheXMuZm9yRWFjaChyID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZnJvbSA9IHIuZ2V0UG9zaXRpb24oKTtcclxuICAgICAgICAgICAgY29uc3QgdG8gPSByLmdldFBvc2l0aW9uKCkuYWRkU2NhbGVkVmVjdG9yKHIuZ2V0VmVsb2NpdHkoKSwgKHRpbWVfc3RlcCkpO1xyXG4gICAgICAgICAgICBpZiAoZnJvbS56IDwgLTQ1KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9iID0gMDsvLyAvICh0aGlzLnJheXRyYWNlci5nZXRSZXNvbHV0aW9uKCkueCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gdGhpcy5yYXl0cmFjZXIuZ2V0UmVzb2x1dGlvbigpLnggLyAyICsgTWF0aC5mbG9vcihmcm9tLnggLyAxMDAgKiB0aGlzLnJheXRyYWNlci5nZXRSZXNvbHV0aW9uKCkueCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gdGhpcy5yYXl0cmFjZXIuZ2V0UmVzb2x1dGlvbigpLnkgLyAyICsgTWF0aC5mbG9vcihmcm9tLnkgLyAxMDAgKiB0aGlzLnJheXRyYWNlci5nZXRSZXNvbHV0aW9uKCkueSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IHByb2IgJiYgdGhpcy5iZy5zaG91bGRGaWxsKHgsIHkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgci5vbkRlYXRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhcmlhYmlsaXR5ID0gMDsgLy8tNjQgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMjgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB3aGl0ZSA9IDI1NTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY29sb3IgPSBbMjU1ICsgdmFyaWFiaWxpdHksIDI1NSArIHZhcmlhYmlsaXR5LCAyNTUgKyB2YXJpYWJpbGl0eSwgMF07XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXl0cmFjZXIuc2V0UGl4ZWwoci5nZXRPcmlnaW5QaXhlbCgpLngsIHIuZ2V0T3JpZ2luUGl4ZWwoKS55LCBjb2xvciwgbmV3IFZlY3RvcjMoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDb2xsaXNpb24gZGV0ZWN0aW9uIGxvZ2ljIGhlcmVcclxuICAgICAgICAgICAgICAgIC8vIENvbXBhcmUgZWFjaCByYXkgdGhlIG9jdHJlZSBpdCBpcyBpblxyXG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMub2N0cmVlLmZpbmRSYXkoZnJvbSwgdG8pXHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9ic3RhY2xlcyA9IG5vZGUuZ2V0T2JqZWN0cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9ic3RhY2xlcy5mb3JFYWNoKG8gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoby5pbnRlcnNlY3RzV2l0aFJheShmcm9tLCB0bywgci5nZXRSYWRpdXMoKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIub25EZWF0aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSBbMTYsIDAsIDAsIDBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHIuZ2V0T3JpZ2luUGl4ZWwoKS55ID4gMjQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiQ29sbGlzaW9uIGhhcyBvY2N1cmVkXCIsci5nZXRPcmlnaW5QaXhlbCgpLCByLmdldFBvc2l0aW9uKCksIChvIGFzIFBhcnRpY2xlKS5nZXRQb3NpdGlvbigpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gdWdseSBjb2RlIGhlcmUgc2hvdWxkIHBlcmhhcHMgYmUgb3ZlcnJpZGRlbiBpbiBhbm90aGVyIGNvbGxpc2lvbiBtYW5hZ2VyIHRoYXQgZG9lcyBub3QgdGFrZSBzdGF0aWMgb2JqZWN0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkNvbGxpc2lvbihvIGFzIGFueSBhcyBJUGFydGljbGUsIHIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5yYXl0cmFjZXIuc2V0UGl4ZWwoci5nZXRPcmlnaW5QaXhlbCgpLngsIHIuZ2V0T3JpZ2luUGl4ZWwoKS55LCBjb2xvciwgbmV3IFZlY3RvcjMoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgQmFja2dyb3VuZEltYWdlIHtcclxuICAgIHByaXZhdGUgZGltZW5zaW9uczogVmVjdG9yMjtcclxuICAgIHByaXZhdGUgcGl4ZWxzOiBBcnJheTxudW1iZXI+O1xyXG4gICAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIsIGZpbGw6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMucGl4ZWxzID0gbmV3IEFycmF5PG51bWJlcj4oeCAqIHkpO1xyXG4gICAgICAgIHRoaXMuZGltZW5zaW9ucyA9IG5ldyBWZWN0b3IyKHgsIHkpO1xyXG4gICAgICAgIHRoaXMuYXNzaWduKGZpbGwgKiAoeCAqIHkpKTtcclxuICAgIH1cclxuICAgIC8vIHByaXZhdGUgYXNzaWduKGZpbGw6IG51bWJlcikge1xyXG4gICAgLy8gICAgIGxldCBmaWxsZWQgPSAwO1xyXG4gICAgLy8gICAgIGNvbnNvbGUubG9nKGZpbGwpO1xyXG4gICAgLy8gICAgIHdoaWxlIChmaWxsZWQgPCBmaWxsKSB7XHJcbiAgICAvLyAgICAgICAgIGxldCBwaXhlbCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMucGl4ZWxzLmxlbmd0aCk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMucGl4ZWxzW3BpeGVsXSA9IDE7XHJcbiAgICAvLyAgICAgICAgIGZpbGxlZCsrO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuICAgIHByaXZhdGUgYXNzaWduKGZpbGw6IG51bWJlcikge1xyXG4gICAgICAgIGNvbnN0IElOQ1JFTUVOVFMgPSAxNjtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZGltZW5zaW9ucy54OyBpKyspIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmRpbWVuc2lvbnMueTsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSAlIElOQ1JFTUVOVFMgPT0gMCB8fCBqICUgSU5DUkVNRU5UUyA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBqICogdGhpcy5kaW1lbnNpb25zLnggKyBpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGl4ZWxzW2luZGV4XSA9IDE7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2hvdWxkRmlsbCh4OiBudW1iZXIsIHk6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0geSAqIHRoaXMuZGltZW5zaW9ucy54ICsgeDtcclxuICAgICAgICBpZiAodGhpcy5waXhlbHNbaW5kZXhdID09IDEpXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFBhcnRpY2xlR2VuZXJhdG9yIH0gZnJvbSBcIi4vcGFydGljbGUtZ2VuZXJhdG9yXCI7XHJcbmltcG9ydCB7IFRhbmdlbnRpYWxWZWxvY2l0eUdlbmVyYXRvciB9IGZyb20gXCIuL3ZlbG9jaXR5LWdlbmVyYXRvcnMvdGFuZ2VudGlhbC12ZWxvY2l0eS1nZW5lcmF0b3JcIjtcclxuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCJ0aHJlZVwiO1xyXG5pbXBvcnQgeyBJUGFydGljbGUsIFBhcnRpY2xlIH0gZnJvbSBcIi4uL3BhcnRpY2xlL3BhcnRpY2xlXCI7XHJcbmltcG9ydCB7IEVsbGlwdGljYWxQb3NpdGlvbkdlbmVyYXRvciB9IGZyb20gXCIuL3Bvc2l0aW9uLWdlbmVyYXRvcnMvZWxsaXB0aWNhbC1wb3NpdGlvbi1nZW5lcmF0b3JcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBFbGxpcHRpY2FsUGFydGljbGVHZW5lcmF0b3IgZXh0ZW5kcyBQYXJ0aWNsZUdlbmVyYXRvciB7XHJcbiAgICB2ZWxvY2l0eV9nZW5lcmF0b3I6IFRhbmdlbnRpYWxWZWxvY2l0eUdlbmVyYXRvcjtcclxuICAgIHBvc2l0aW9uX2dlbmVyYXRvcjogRWxsaXB0aWNhbFBvc2l0aW9uR2VuZXJhdG9yO1xyXG4gICAgY2VudGVyOiBWZWN0b3IzO1xyXG4gICAgYXhpczogVmVjdG9yMztcclxuICAgIG1hZzogbnVtYmVyO1xyXG4gICAgY29uc3RydWN0b3IoYTogbnVtYmVyLCBiOiBudW1iZXIsIGNlbnRlcjogVmVjdG9yMywgeDogVmVjdG9yMywgeTogVmVjdG9yMywgejogVmVjdG9yMywgdmVsOiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMudmVsb2NpdHlfZ2VuZXJhdG9yID0gbmV3IFRhbmdlbnRpYWxWZWxvY2l0eUdlbmVyYXRvcigpO1xyXG4gICAgICAgIHRoaXMucG9zaXRpb25fZ2VuZXJhdG9yID0gbmV3IEVsbGlwdGljYWxQb3NpdGlvbkdlbmVyYXRvcihhLCBiLCBjZW50ZXIsIHgsIHksIHopO1xyXG4gICAgICAgIHRoaXMuY2VudGVyID0gY2VudGVyO1xyXG4gICAgICAgIHRoaXMuYXhpcyA9IHo7XHJcbiAgICAgICAgdGhpcy5tYWcgPSB2ZWw7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codmVsKTtcclxuICAgIH1cclxuICAgIHNldFdpZHRoKHdpZHRoOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uX2dlbmVyYXRvci5zZXRXaWR0aCh3aWR0aCk7XHJcbiAgICB9XHJcbiAgICBnZW5lcmF0ZSgpOiBJUGFydGljbGUge1xyXG4gICAgICAgIGNvbnN0IG1hc3MgPSB0aGlzLm1hc3NfbWluICsgTWF0aC5yYW5kb20oKSAqICh0aGlzLm1hc3NfbWF4IC0gdGhpcy5tYXNzX21pbik7XHJcbiAgICAgICAgY29uc3QgcGFydGljbGUgPSBuZXcgUGFydGljbGUobWFzcyk7XHJcbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5wb3NpdGlvbl9nZW5lcmF0b3IuZ2VuZXJhdGUoKTtcclxuICAgICAgICB0aGlzLnZlbG9jaXR5X2dlbmVyYXRvci5wYXJhbWV0ZXJzKHRoaXMuY2VudGVyLCBwb3MsIHRoaXMuYXhpcyk7XHJcbiAgICAgICAgY29uc3QgdmVsID0gdGhpcy52ZWxvY2l0eV9nZW5lcmF0b3IuZ2VuZXJhdGUoKTtcclxuICAgICAgICB2ZWwubXVsdGlwbHlTY2FsYXIodGhpcy5tYWcpO1xyXG4gICAgICAgIHBhcnRpY2xlLnNldFZlbG9jaXR5KHZlbC54LCB2ZWwueSwgdmVsLnopO1xyXG4gICAgICAgIHBhcnRpY2xlLnNldFBvc2l0aW9uKHBvcy54LCBwb3MueSwgcG9zLnopO1xyXG4gICAgICAgIHBhcnRpY2xlLnNldExpZmVzcGFuKHRoaXMubGlmZXNwYW4pO1xyXG4gICAgICAgIHJldHVybiBwYXJ0aWNsZTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBTcGhlcmVCdWZmZXJHZW9tZXRyeSwgTWVzaEJhc2ljTWF0ZXJpYWwsIE1lc2gsIFNjZW5lLCBWZWN0b3IzLCBQb2ludExpZ2h0IH0gZnJvbSBcInRocmVlXCI7XHJcbmltcG9ydCB7IElQYXJ0aWNsZSwgUGFydGljbGUgfSBmcm9tIFwiLi9wYXJ0aWNsZVwiO1xyXG5pbXBvcnQgeyBJUmF5VHJhY2luZ0N1c3RvbWl6ZXIgfSBmcm9tIFwiLi4vLi4vcmF5dHJhY2luZy9wYXJ0aWNsZS1zeXN0ZW0tcmF5dHJhY2VyXCI7XHJcbmltcG9ydCB7IElSYXlUcmFjZWFibGUgfSBmcm9tIFwiLi4vLi4vcmF5dHJhY2luZy9pLXJheXRyYWNlYWJsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFZpc2libGVQYXJ0aWNsZSBpbXBsZW1lbnRzIElQYXJ0aWNsZSwgSVJheVRyYWNlYWJsZSB7XHJcblxyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gICAgZ2VvbWV0cnk6IFNwaGVyZUJ1ZmZlckdlb21ldHJ5O1xyXG4gICAgbWF0ZXJpYWw6IE1lc2hCYXNpY01hdGVyaWFsO1xyXG4gICAgbWVzaDogTWVzaDtcclxuICAgIHBhcnRpY2xlOiBQYXJ0aWNsZTtcclxuICAgIGNvbG9yOiBzdHJpbmc7XHJcbiAgICBzY2VuZTogU2NlbmU7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZTogU2NlbmUsIG5hbWU6IHN0cmluZywgY29sb3IgPSBcIiNmZjAwMDBcIiwgcmFkaXVzID0gMSwgbWFzcyA9IDEpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgU3BoZXJlQnVmZmVyR2VvbWV0cnkoMSk7XHJcbiAgICAgICAgLy9jb2xvciB0byBiZSByZXBsYWNlZCB3aXRoIHRleHR1cmVcclxuICAgICAgICB0aGlzLm1hdGVyaWFsID0gbmV3IE1lc2hCYXNpY01hdGVyaWFsKHsgY29sb3IgfSk7XHJcbiAgICAgICAgdGhpcy5tZXNoID0gbmV3IE1lc2godGhpcy5nZW9tZXRyeSwgdGhpcy5tYXRlcmlhbCk7XHJcbiAgICAgICAgdGhpcy5tZXNoLnNjYWxlLnNldChyYWRpdXMsIHJhZGl1cywgcmFkaXVzKTtcclxuICAgICAgICB0aGlzLnBhcnRpY2xlID0gbmV3IFBhcnRpY2xlKG1hc3MsIHJhZGl1cyk7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLm1lc2gpO1xyXG4gICAgfVxyXG4gICAgaW50ZXJzZWN0c1dpdGhCb3goZnJvbTogVmVjdG9yMywgdG86IFZlY3RvcjMpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYXJ0aWNsZS5pbnRlcnNlY3RzV2l0aEJveChmcm9tLCB0byk7XHJcbiAgICB9XHJcbiAgICBzZXRSYWRpdXMocjogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICB0aGlzLm1lc2guc2NhbGUuc2V0KHIsIHIsIHIpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcnRpY2xlLnNldFJhZGl1cyhyKTtcclxuICAgIH1cclxuICAgIGludGVyc2VjdHNXaXRoUmF5KGZyb206IFZlY3RvcjMsIHRvOiBWZWN0b3IzLCByYWRpdXM6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcnRpY2xlLmludGVyc2VjdHNXaXRoUmF5KGZyb20sIHRvLCByYWRpdXMpO1xyXG4gICAgfVxyXG4gICAgaXNBbGl2ZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYXJ0aWNsZS5pc0FsaXZlKCk7XHJcbiAgICB9XHJcbiAgICBjb3B5KHA6IElQYXJ0aWNsZSkge1xyXG4gICAgICAgIHRoaXMucGFydGljbGUuY29weShwKTtcclxuICAgICAgICB0aGlzLm1lc2guc2NhbGUuc2V0KHRoaXMucGFydGljbGUuZ2V0UmFkaXVzKCksIHRoaXMucGFydGljbGUuZ2V0UmFkaXVzKCksIHRoaXMucGFydGljbGUuZ2V0UmFkaXVzKCkpO1xyXG4gICAgfVxyXG4gICAgc2V0VHlwZSh0eXBlOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcnRpY2xlLnNldFR5cGUodHlwZSk7XHJcbiAgICB9XHJcbiAgICBnZXRUeXBlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFydGljbGUuZ2V0VHlwZSgpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgfVxyXG4gICAgZ2V0TGlmZXNwYW4oKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYXJ0aWNsZS5nZXRMaWZlc3BhbigpO1xyXG4gICAgfVxyXG4gICAgc2V0TGlmZXNwYW4obDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYXJ0aWNsZS5zZXRMaWZlc3BhbihsKTtcclxuICAgIH1cclxuICAgIGdldEFnZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcnRpY2xlLmdldEFnZSgpO1xyXG4gICAgfVxyXG4gICAgc2V0QWdlKGE6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFydGljbGUuc2V0QWdlKGEpO1xyXG4gICAgfVxyXG4gICAgcG9zaXRpb24odj86IFZlY3RvcjMpIHtcclxuICAgICAgICBpZiAodiAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB0aGlzLm1lc2gucG9zaXRpb24uY29weSh2KTtcclxuICAgICAgICByZXR1cm4gdGhpcy5tZXNoLnBvc2l0aW9uLmNsb25lKCk7XHJcbiAgICB9XHJcbiAgICBzZXRNYXNzKG06IG51bWJlcikgeyB0aGlzLnBhcnRpY2xlLnNldE1hc3MobSkgfTtcclxuICAgIGdldE1hc3MoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMucGFydGljbGUuZ2V0TWFzcygpIH07XHJcbiAgICBnZXRWZWxvY2l0eSgpOiBWZWN0b3IzIHsgcmV0dXJuIHRoaXMucGFydGljbGUuZ2V0VmVsb2NpdHkoKTsgfTtcclxuICAgIGdldFBvc2l0aW9uKCk6IFZlY3RvcjMgeyByZXR1cm4gdGhpcy5wb3NpdGlvbigpIH07XHJcbiAgICBzZXRQb3NpdGlvbih4OiBudW1iZXIsIHk6IG51bWJlciwgejogbnVtYmVyKTogVmVjdG9yMyB7XHJcbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5wb3NpdGlvbihuZXcgVmVjdG9yMyh4LCB5LCB6KSk7XHJcbiAgICAgICAgdGhpcy5wYXJ0aWNsZS5zZXRQb3NpdGlvbih4LCB5LCB6KTtcclxuICAgICAgICByZXR1cm4gcG9zO1xyXG4gICAgfTtcclxuICAgIHNldFZlbG9jaXR5KHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIpOiBWZWN0b3IzIHtcclxuICAgICAgICBjb25zdCB2ZWwgPSB0aGlzLnBhcnRpY2xlLnNldFZlbG9jaXR5KHgsIHksIHopO1xyXG4gICAgICAgIHJldHVybiB2ZWw7XHJcbiAgICB9XHJcbiAgICBnZXRSYWRpdXMoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYXJ0aWNsZS5nZXRSYWRpdXMoKTtcclxuICAgIH1cclxuICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5kaXNwb3NlKCk7XHJcbiAgICAgICAgdGhpcy5tYXRlcmlhbC5kaXNwb3NlKCk7XHJcbiAgICB9XHJcbiAgICBhZGRMaWdodFNvdXJjZShjb2xvcjogc3RyaW5nKSB7XHJcbiAgICAgICAgLy8gdGhpcy5tYXRlcmlhbC5lbWlzc2l2ZSA9IG5ldyBDb2xvcih0aGlzLmNvbG9yKTtcclxuICAgICAgICBsZXQgbGlnaHQgPSBuZXcgUG9pbnRMaWdodChjb2xvcik7XHJcbiAgICAgICAgdGhpcy5tZXNoLmFkZChsaWdodCk7XHJcbiAgICB9XHJcbiAgICBvbkRlYXRoKCkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUucmVtb3ZlKHRoaXMubWVzaCk7XHJcbiAgICAgICAgdGhpcy5kZXN0cm95KCk7XHJcbiAgICAgICAgdGhpcy5wYXJ0aWNsZS5vbkRlYXRoKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSBcInRocmVlXCI7XHJcbmltcG9ydCB7IElQYXJ0aWNsZUdlbmVyYXRvciwgSVZlY3RvckdlbmVyYXRvciB9IGZyb20gXCIuL2ktcGFydGljbGUtZ2VuZXJhdG9yXCI7XHJcbmltcG9ydCB7IEZpeGVkUG9zaXRpb25HZW5lcmF0b3IgfSBmcm9tIFwiLi9wb3NpdGlvbi1nZW5lcmF0b3JzL2ZpeGVkLXBvc2l0aW9uLWdlbmVyYXRvclwiO1xyXG5pbXBvcnQgeyBSYW5kb21WZWxvY2l0eUdlbmVyYXRvciB9IGZyb20gXCIuL3ZlbG9jaXR5LWdlbmVyYXRvcnMvcmFuZG9tLXZlbG9jaXR5LWdlbmVyYXRvclwiO1xyXG5pbXBvcnQgeyBJUGFydGljbGUsIFBhcnRpY2xlIH0gZnJvbSBcIi4uL3BhcnRpY2xlL3BhcnRpY2xlXCI7XHJcblxyXG4vKipcclxuICogR2VuZXJhdGVzIFBhcnRpY2xlcy4gU3BlY2lmeSB5b3VyIG93biBpbXBsZW1lbnRhdGlvbiBvZiB2ZWxvY2l0eSBhbmQgcG9zaXRpb25cclxuICogZ2VuZXJhdG9ycyB0byBjdXN0b21pemUgd2hlcmUgdGhpcyBwYXJ0aWNsZXMgYXJlIGdlbmVyYXRlZCBhbmQgaG93IGZhc3QgdGhleSBcclxuICogdHJhdmVsXHJcbiAqIFRPRE86IEltcGxlbWVudCB0aGUgc2FtZSB0byBnZW5lcmF0ZSBsaWZlc3BhbnMgYW5kIG90aGVyIHBhcnRpY2xlIHByb3BlcnRpZXNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBQYXJ0aWNsZUdlbmVyYXRvciBpbXBsZW1lbnRzIElQYXJ0aWNsZUdlbmVyYXRvciB7XHJcbiAgICBwb3NpdGlvbjogVmVjdG9yMztcclxuICAgIG1hc3NfbWluOiBudW1iZXI7XHJcbiAgICBtYXNzX21heDogbnVtYmVyO1xyXG4gICAgbGlmZXNwYW46IG51bWJlcjtcclxuICAgIHZlbG9jaXR5X2dlbmVyYXRvcjogSVZlY3RvckdlbmVyYXRvcjtcclxuICAgIHBvc2l0aW9uX2dlbmVyYXRvcjogSVZlY3RvckdlbmVyYXRvcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uID0gbmV3IFZlY3RvcjMoKTtcclxuICAgICAgICB0aGlzLmxpZmVzcGFuID0gMDtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uX2dlbmVyYXRvciA9IG5ldyBGaXhlZFBvc2l0aW9uR2VuZXJhdG9yKHRoaXMucG9zaXRpb24pO1xyXG4gICAgICAgIHRoaXMudmVsb2NpdHlfZ2VuZXJhdG9yID0gbmV3IFJhbmRvbVZlbG9jaXR5R2VuZXJhdG9yKCk7XHJcbiAgICB9XHJcbiAgICBzZXRWZWxvY2l0eUdlbmVyYXRvcihnZW5lcmF0b3I6IElWZWN0b3JHZW5lcmF0b3IpIHtcclxuICAgICAgICB0aGlzLnZlbG9jaXR5X2dlbmVyYXRvciA9IGdlbmVyYXRvcjtcclxuICAgIH1cclxuICAgIHNldFBvc2l0aW9uR2VuZXJhdG9yKGdlbmVyYXRvcjogSVZlY3RvckdlbmVyYXRvcikge1xyXG4gICAgICAgIHRoaXMucG9zaXRpb25fZ2VuZXJhdG9yID0gZ2VuZXJhdG9yO1xyXG4gICAgfVxyXG4gICAgZ2VuZXJhdGUoKTogSVBhcnRpY2xlIHtcclxuICAgICAgICBjb25zdCBtYXNzID0gdGhpcy5tYXNzX21pbiArIE1hdGgucmFuZG9tKCkgKiAodGhpcy5tYXNzX21heCAtIHRoaXMubWFzc19taW4pO1xyXG4gICAgICAgIGNvbnN0IHBhcnRpY2xlID0gbmV3IFBhcnRpY2xlKG1hc3MpO1xyXG4gICAgICAgIGNvbnN0IHZlbCA9IHRoaXMudmVsb2NpdHlfZ2VuZXJhdG9yLmdlbmVyYXRlKCk7XHJcbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5wb3NpdGlvbl9nZW5lcmF0b3IuZ2VuZXJhdGUoKTtcclxuICAgICAgICBwYXJ0aWNsZS5zZXRWZWxvY2l0eSh2ZWwueCwgdmVsLnksIHZlbC56KTtcclxuICAgICAgICBwYXJ0aWNsZS5zZXRQb3NpdGlvbihwb3MueCwgcG9zLnksIHBvcy56KTtcclxuICAgICAgICBwYXJ0aWNsZS5zZXRMaWZlc3Bhbih0aGlzLmxpZmVzcGFuKTtcclxuICAgICAgICByZXR1cm4gcGFydGljbGU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIHBvc2l0aW9ucyBvZiB0aGUgcGFydGljbGUgZ2VuZXJhdG9yXHJcbiAgICAgKiBAcGFyYW0gdiBuZXcgcG9zaXRpb25cclxuICAgICAqL1xyXG4gICAgc2V0UG9zaXRpb24odjogVmVjdG9yMykge1xyXG4gICAgICAgIHRoaXMucG9zaXRpb24uY29weSh2KTtcclxuICAgIH1cclxuICAgIGdldFBvc2l0aW9uKCk6IFZlY3RvcjMge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLmNsb25lKCk7XHJcbiAgICB9XHJcbiAgICBzZXRQYXJhbWV0ZXJzKG1hc3NfbWluOiBudW1iZXIsIG1hc3NfbWF4OiBudW1iZXIsIGxpZmVzcGFuOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLm1hc3NfbWF4ID0gbWFzc19tYXg7XHJcbiAgICAgICAgdGhpcy5tYXNzX21pbiA9IG1hc3NfbWluO1xyXG4gICAgICAgIHRoaXMubGlmZXNwYW4gPSBsaWZlc3BhbjtcclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG4iLCJpbXBvcnQgeyBJUGFydGljbGUsIFBhcnRpY2xlIH0gZnJvbSBcIi4uL3BhcnRpY2xlLXN5c3RlbS9wYXJ0aWNsZS9wYXJ0aWNsZVwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyLCBTY2VuZSB9IGZyb20gXCJ0aHJlZVwiO1xyXG5pbXBvcnQgeyBWaXNpYmxlUGFydGljbGUgfSBmcm9tIFwiLi4vcGFydGljbGUtc3lzdGVtL3BhcnRpY2xlL3Zpc2libGUtcGFydGljbGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQaXhlbFJheSBleHRlbmRzIFBhcnRpY2xlIHtcclxuICAgIG9yaWdpbjogVmVjdG9yMjtcclxuICAgIG9uSGl0OiAocDogSVBhcnRpY2xlKT0+IHt9O1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFNjZW5lLCBvcmlnaW4gPSBuZXcgVmVjdG9yMigpKSB7XHJcbiAgICAgICAgc3VwZXIoMCk7XHJcbiAgICAgICAgLy8gc3VwZXIoc2NlbmUsIFwicGl4ZWxSYXlcIiwgXCIjZmZmZjAwXCIsIDEsIDApO1xyXG4gICAgICAgIHRoaXMub3JpZ2luID0gb3JpZ2luO1xyXG4gICAgfVxyXG4gICAgZ2V0T3JpZ2luUGl4ZWwoKSA6IFZlY3RvcjIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm9yaWdpbjtcclxuICAgIH1cclxuICAgIHNldE9yaWdpblBpeGVsKHg6IG51bWJlciwgeTogbnVtYmVyKSA6IGFueSB7XHJcbiAgICAgICAgdGhpcy5vcmlnaW4uc2V0KHgsIHkpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSVZlY3RvckdlbmVyYXRvciB9IGZyb20gXCIuLi9pLXBhcnRpY2xlLWdlbmVyYXRvclwiO1xyXG5pbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSBcInRocmVlXCI7XHJcblxyXG4vKipcclxuICogR2VuZXJhdGVzIHVuaXQgdmVsb2NpdGllcyB0YW5nZW50aWFsIHRvIGEgdmVjdG9yIFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFRhbmdlbnRpYWxWZWxvY2l0eUdlbmVyYXRvciBpbXBsZW1lbnRzIElWZWN0b3JHZW5lcmF0b3Ige1xyXG4gICAgY2VudGVyOiBWZWN0b3IzO1xyXG4gICAgcG9zaXRpb246IFZlY3RvcjM7XHJcbiAgICBheGlzOiBWZWN0b3IzO1xyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBjZW50ZXIgVGhlIHN0YXJ0IG9mIHRoZSB2ZWN0b3JcclxuICAgICAqIEBwYXJhbSBwb3NpdGlvbiBUaGUgZW5kIG9mIHRoZSB2ZWN0b3JcclxuICAgICAqIEBwYXJhbSBheGlzIFRoZSBheGlzIHBlcnBlbmRpY3VsYXIgdG8gd2hpY2ggdmVsb2NpdGllcyB3aWxsIGJlIGdlbmVyYXRlZFxyXG4gICAgICovXHJcbiAgICBwYXJhbWV0ZXJzKGNlbnRlcjogVmVjdG9yMywgcG9zaXRpb246IFZlY3RvcjMsIGF4aXM6IFZlY3RvcjMpIHtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICAgICAgdGhpcy5jZW50ZXIgPSBjZW50ZXI7XHJcbiAgICAgICAgdGhpcy5heGlzID0gYXhpcy5ub3JtYWxpemUoKTtcclxuICAgIH1cclxuICAgIGdlbmVyYXRlKCk6IFZlY3RvcjMge1xyXG4gICAgICAgIC8vIGdldCBhIHBlcnBlbmRpY3VsYXIgdmVjdG9yIGZyb20gdGhlIGN1cnJlbnQgdmVjdG9yXHJcbiAgICAgICAgY29uc3QgZGlyID0gbmV3IFZlY3RvcjMoKS5zdWJWZWN0b3JzKHRoaXMucG9zaXRpb24sIHRoaXMuY2VudGVyKS5ub3JtYWxpemUoKTtcclxuICAgICAgICBjb25zdCB2ZWwgPSBuZXcgVmVjdG9yMygpLmNyb3NzVmVjdG9ycyhkaXIsIHRoaXMuYXhpcyk7XHJcbiAgICAgICAgcmV0dXJuIHZlbDtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJVmVjdG9yR2VuZXJhdG9yIH0gZnJvbSBcIi4uL2ktcGFydGljbGUtZ2VuZXJhdG9yXCI7XHJcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tIFwidGhyZWVcIjtcclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgcmFuZG9tIHZlbG9jaXRpZXMgd2l0aCBjb21wb25lbnRzIGJldHdlZW4gMCBhbmQgMVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBob3RvblZlbG9jaXR5R2VuZXJhdG9yIGltcGxlbWVudHMgSVZlY3RvckdlbmVyYXRvciB7XHJcbiAgICBjID0gMjk5NzkyNDU4O1xyXG4gICAgcGFyYW1ldGVyKGM6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuYyA9IGM7XHJcbiAgICB9XHJcbiAgICBnZW5lcmF0ZSgpOiBWZWN0b3IzIHtcclxuICAgICAgICBjb25zdCB2ZWwgPSBuZXcgVmVjdG9yMygtMSArIDIgKiBNYXRoLnJhbmRvbSgpLCAtMSArIDIgKiBNYXRoLnJhbmRvbSgpLCAtMSArIDIgKiBNYXRoLnJhbmRvbSgpKTtcclxuICAgICAgICB2ZWwubXVsdGlwbHlTY2FsYXIodGhpcy5jKTtcclxuICAgICAgICByZXR1cm4gdmVsO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSVZlY3RvckdlbmVyYXRvciB9IGZyb20gXCIuLi9pLXBhcnRpY2xlLWdlbmVyYXRvclwiO1xyXG5pbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSBcInRocmVlXCI7XHJcblxyXG4vKipcclxuICogR2VuZXJhdGVzIHJhbmRvbSB2ZWxvY2l0aWVzIHdpdGggY29tcG9uZW50cyBiZXR3ZWVuIDAgYW5kIDFcclxuICovXHJcbmV4cG9ydCBjbGFzcyBSYW5kb21WZWxvY2l0eUdlbmVyYXRvciBpbXBsZW1lbnRzIElWZWN0b3JHZW5lcmF0b3Ige1xyXG4gICAgZ2VuZXJhdGUoKTogVmVjdG9yMyB7XHJcbiAgICAgICAgY29uc3QgdmVsID0gbmV3IFZlY3RvcjMoLTEgKyAyICogTWF0aC5yYW5kb20oKSwgLTEgKyAyICogTWF0aC5yYW5kb20oKSwgLTEgKyAyICogTWF0aC5yYW5kb20oKSk7XHJcbiAgICAgICAgcmV0dXJuIHZlbDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFBhcnRpY2xlR2VuZXJhdG9yIH0gZnJvbSBcIi4vcGFydGljbGUtZ2VuZXJhdG9yXCI7XHJcbmltcG9ydCB7IFBob3RvblZlbG9jaXR5R2VuZXJhdG9yIH0gZnJvbSBcIi4vdmVsb2NpdHktZ2VuZXJhdG9ycy9waG90b24tdmVsb2NpdHktZ2VuZXJhdG9yXCI7XHJcbmltcG9ydCB7IElQYXJ0aWNsZSB9IGZyb20gXCIuLi9wYXJ0aWNsZS9wYXJ0aWNsZVwiO1xyXG5pbXBvcnQgeyBTcGFjZVBhcnRpY2xlIH0gZnJvbSBcIi4uLy4uL3NwYWNlLXBhcnRpY2xlXCI7XHJcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tIFwidGhyZWVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQaG90b25HZW5lcmF0b3IgZXh0ZW5kcyBQYXJ0aWNsZUdlbmVyYXRvciB7XHJcbiAgICBzcGVlZE9mTGlnaHQgPSAyOTk3OTI0NTg7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMudmVsb2NpdHlfZ2VuZXJhdG9yID0gbmV3IFBob3RvblZlbG9jaXR5R2VuZXJhdG9yKCk7XHJcbiAgICAgICAgdGhpcy5tYXNzX21heCA9IDA7XHJcbiAgICAgICAgdGhpcy5tYXNzX21pbiA9IDA7XHJcbiAgICAgICAgdGhpcy5saWZlc3BhbiA9IDA7XHJcbiAgICB9XHJcbiAgICBnZW5lcmF0ZSgpOiBJUGFydGljbGUge1xyXG4gICAgICAgIGNvbnN0IHBhcnRpY2xlID0gc3VwZXIuZ2VuZXJhdGUoKTtcclxuICAgICAgICBwYXJ0aWNsZS5zZXRUeXBlKFNwYWNlUGFydGljbGUuUEhPVE9OKTtcclxuICAgICAgICBwYXJ0aWNsZS5zZXRSYWRpdXMoMC4xKTtcclxuICAgICAgICByZXR1cm4gcGFydGljbGU7XHJcbiAgICB9XHJcbiAgICBzZXRTcGVlZE9mTGlnaHQoczogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5zcGVlZE9mTGlnaHQgPSBzO1xyXG4gICAgICAgIGNvbnN0IHZlbCA9IG5ldyBQaG90b25WZWxvY2l0eUdlbmVyYXRvcigpO1xyXG4gICAgICAgIHRoaXMudmVsb2NpdHlfZ2VuZXJhdG9yID0gdmVsO1xyXG4gICAgICAgIHZlbC5wYXJhbWV0ZXIocyk7XHJcbiAgICB9XHJcbiAgICBwcm90ZWN0ZWQgcmFuZG9tVmVsb2NpdHkoKTogVmVjdG9yMyB7XHJcbiAgICAgICAgY29uc3QgdmVsID0gbmV3IFZlY3RvcjMoTWF0aC5yYW5kb20oKSwgTWF0aC5yYW5kb20oKSwgTWF0aC5yYW5kb20oKSk7XHJcbiAgICAgICAgdmVsLm5vcm1hbGl6ZSgpO1xyXG4gICAgICAgIHZlbC5tdWx0aXBseVNjYWxhcih0aGlzLnNwZWVkT2ZMaWdodCk7XHJcbiAgICAgICAgcmV0dXJuIHZlbDtcclxuICAgIH0gICBcclxufSIsImltcG9ydCB7IElGb3JjZSB9IGZyb20gXCIuL0ktZm9yY2VcIjtcclxuaW1wb3J0IHsgSVBhcnRpY2xlIH0gZnJvbSBcIi4uL3BhcnRpY2xlL3BhcnRpY2xlXCI7XHJcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tIFwidGhyZWVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHcmF2aXR5Rm9yY2UgaW1wbGVtZW50cyBJRm9yY2Uge1xyXG4gICAgcHJpdmF0ZSBfRzogbnVtYmVyO1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IEdSQVZJVEFUSU9OX0NPTlNUQU5UID0gNi42NzQzMGUtMTE7IC8vIFZhbHVlIG9mIEcgaW4gbSBrZyBzXHJcbiAgICBjb25zdHJ1Y3RvcihHPzogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKEcpIHRoaXMuRyA9IEc7XHJcbiAgICAgICAgZWxzZSB0aGlzLkcgPSAxO1xyXG4gICAgfVxyXG4gICAgdmVjX2xlbmd0aF9zcXVhcmVkKHZlYzogVmVjdG9yMyk6IG51bWJlciB7XHJcbiAgICAgICAgY29uc3QgbGVuID0gdmVjLnggKiB2ZWMueCArIHZlYy55ICogdmVjLnkgKyB2ZWMueiAqIHZlYy56O1xyXG4gICAgICAgIHJldHVybiBsZW47XHJcbiAgICB9XHJcbiAgICBhcHBseShwMTogSVBhcnRpY2xlLCBwMjogSVBhcnRpY2xlKTogVmVjdG9yM1tdIHtcclxuICAgICAgICBjb25zdCByX3ZlYyA9IHAxLmdldFBvc2l0aW9uKCkuc3ViKHAyLmdldFBvc2l0aW9uKCkpO1xyXG4gICAgICAgIGxldCByID0gMSAvIHRoaXMudmVjX2xlbmd0aF9zcXVhcmVkKHJfdmVjKTtcclxuICAgICAgICBsZXQgZjEgPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgICAgIGxldCBmMiA9IG5ldyBWZWN0b3IzKCk7XHJcbiAgICAgICAgaWYgKHIgPiAwKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnN0IHVuaXRfciA9IHJfdmVjLmNsb25lKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHVuaXRfciA9IHJfdmVjLm5vcm1hbGl6ZSgpO1xyXG4gICAgICAgICAgICBmMSA9IHVuaXRfci5jbG9uZSgpLm11bHRpcGx5U2NhbGFyKC10aGlzLkcgKiBwMi5nZXRNYXNzKCkgKiAocikpO1xyXG4gICAgICAgICAgICBmMiA9IHVuaXRfci5jbG9uZSgpLm11bHRpcGx5U2NhbGFyKHRoaXMuRyAqIHAxLmdldE1hc3MoKSAqIChyKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbZjEsIGYyXTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBtZXRob2QgY2FsY3VsYXRlcyB0aGUgdmFsdWUgb2YgRyBmb3IgbmV3IHVuaXRzIG9mIGRpc3RhbmNlLCBtYXNzIGFuZCB0aW1lXHJcbiAgICAgKiBAa2cgTnVtYmVyIG9mIEtpbG9ncmFtcyB0aGF0IGdvIGludG8gdGhlIG5ldyB1bml0IG9mIG1hc3NcclxuICAgICAqIEBtIE51bWJlciBvZiBtZXRlcnMgdGhhdCBnbyBpbnRvIHRoZSBuZXcgdW5pdCBvZiBkaXN0YW5jZVxyXG4gICAgICogQHMgTnVtYmVyIG9mIHNlY29uZHMgdGhhdCBnbyBpbnRvIHRoZSBuZXcgdW5pdCBvZiB0aW1lXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBjYWxjdWxhdGUoa2c6IG51bWJlciwgbTogbnVtYmVyLCBzOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIGNvbnN0IGcgPSB0aGlzLkdSQVZJVEFUSU9OX0NPTlNUQU5UICoga2cgKiBzICogcyAvIChtICogbSAqIG0pO1xyXG4gICAgICAgIHJldHVybiBnO1xyXG4gICAgfVxyXG4gICAgc2V0IEcoZzogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5fRyA9IGc7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IEcoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fRztcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBQYXJ0aWNsZVN5c3RlbSwgUGFydGljbGVEZXJpdmF0aXZlIH0gZnJvbSBcIi4vcGFydGljbGUtc3lzdGVtL3BhcnRpY2xlLXN5c3RlbVwiO1xyXG5pbXBvcnQgeyBTcGFjZVBhcnRpY2xlIH0gZnJvbSBcIi4vc3BhY2UtcGFydGljbGVcIjtcclxuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCJ0aHJlZVwiO1xyXG5pbXBvcnQgeyBUaW1lUHJvZmlsZSB9IGZyb20gXCIuL2JvaWxlcnBsYXRlL3RpbWUtcHJvZmlsZVwiO1xyXG5pbXBvcnQgeyBUaW1lUHJvZmlsZXIgfSBmcm9tIFwiLi9ib2lsZXJwbGF0ZS90aW1lLXByb2ZpbGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQmxhY2tIb2xlUGFydGljbGVTeXN0ZW0gZXh0ZW5kcyBQYXJ0aWNsZVN5c3RlbSB7XHJcbiAgICBldmVudEhvcml6b24gPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XHJcbiAgICBldmVudEhvcml6b24yID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xyXG4gICAgcHJpdmF0ZSBteXByb2ZpbGVyID0gbmV3IFRpbWVQcm9maWxlcigpO1xyXG4gICAgc2V0RXZlbnRIb3Jpem9uKHNjaHdhcnpjaGlsZFJhZGl1czogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudEhvcml6b24gPSBzY2h3YXJ6Y2hpbGRSYWRpdXM7XHJcblxyXG4gICAgfVxyXG4gICAgY2FsY3VsYXRlRGVyaXZhdGl2ZShkZXJpdmF0aXZlOiBQYXJ0aWNsZURlcml2YXRpdmUpOiBQYXJ0aWNsZURlcml2YXRpdmUge1xyXG4gICAgICAgIC8vIGNsZWFyIHRoZSBkZXJpdmF0aXZlIGZpcnN0XHJcbiAgICAgICAgdGhpcy5wYXJ0aWNsZXMuZm9yRWFjaCgocCwgaSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB2ZWwgPSBwLmdldFZlbG9jaXR5KCk7XHJcbiAgICAgICAgICAgIGRlcml2YXRpdmUuc2V0KGksIFt2ZWwueCwgdmVsLnksIHZlbC56LCAwLCAwLCAwXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5mb3JjZXMuZm9yRWFjaChmb3JjZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGogPSAwOyAvLyBvbmx5IGNhbGN1bGF0ZSB3aXRoIHJlc3BlY3QgdG8gdGhlIGJsYWNrIGhvbGVcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLnBhcnRpY2xlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gVE9ET1xyXG4gICAgICAgICAgICAgICAgLy8gT25seSB1cGRhdGUgcGhvdG9ucyB1bnRpbCB3ZSBmaWd1cmUgb3V0IGhvdyB0byB1cGRhdGUgcGFydGljbGVzIGluIE9jdHJlZVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGFydGljbGVzW2ldLmdldFR5cGUoKSA9PSBTcGFjZVBhcnRpY2xlLlBIT1RPTikge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBmb3JjZXMgPSBmb3JjZS5hcHBseSh0aGlzLnBhcnRpY2xlc1tpXSwgdGhpcy5wYXJ0aWNsZXNbal0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlcml2YXRpdmUuYWRkKGksIFswLCAwLCAwLCBmb3JjZXNbMF0ueCwgZm9yY2VzWzBdLnksIGZvcmNlc1swXS56XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVyaXZhdGl2ZS5hZGQoaiwgWzAsIDAsIDAsIGZvcmNlc1sxXS54LCBmb3JjZXNbMV0ueSwgZm9yY2VzWzFdLnpdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICAvLyB0aGlzLmZvcmNlcy5mb3JFYWNoKGZvcmNlID0+IHtcclxuICAgICAgICAvLyAgICAgY29uc3QgaiA9IDE7IC8vIG9ubHkgY2FsY3VsYXRlIHdpdGggcmVzcGVjdCB0byB0aGUgYmxhY2sgaG9sZVxyXG4gICAgICAgIC8vICAgICBmb3IgKGxldCBpID0gMjsgaSA8IHRoaXMucGFydGljbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgLy8gICAgICAgICAvLyBPbmx5IHVwZGF0ZSBwaG90b25zIHVudGlsIHdlIGZpZ3VyZSBvdXQgaG93IHRvIHVwZGF0ZSBwYXJ0aWNsZXMgaW4gT2N0cmVlXHJcbiAgICAgICAgLy8gICAgICAgICBpZiAodGhpcy5wYXJ0aWNsZXNbaV0uZ2V0VHlwZSgpID09IFNwYWNlUGFydGljbGUuUEhPVE9OKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgbGV0IGZvcmNlcyA9IGZvcmNlLmFwcGx5KHRoaXMucGFydGljbGVzW2ldLCB0aGlzLnBhcnRpY2xlc1tqXSk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgZGVyaXZhdGl2ZS5hZGQoaSwgWzAsIDAsIDAsIGZvcmNlc1swXS54LCBmb3JjZXNbMF0ueSwgZm9yY2VzWzBdLnpdKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICBkZXJpdmF0aXZlLmFkZChqLCBbMCwgMCwgMCwgZm9yY2VzWzFdLngsIGZvcmNlc1sxXS55LCBmb3JjZXNbMV0uel0pO1xyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfSwgdGhpcyk7XHJcblxyXG4gICAgICAgIHJldHVybiBkZXJpdmF0aXZlO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlQWxsUGFydGljbGVzKCkge1xyXG4gICAgICAgIHRoaXMucGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcnRpY2xlc1tpXS5nZXRUeXBlKCkgPT0gU3BhY2VQYXJ0aWNsZS5QSE9UT04pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGQgPSB0aGlzLmRlcml2YXRpdmUuZ2V0KGkpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcG9zID0gcGFydGljbGUuZ2V0UG9zaXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHYgPSBwYXJ0aWNsZS5nZXRWZWxvY2l0eSgpO1xyXG4gICAgICAgICAgICAgICAgcGFydGljbGUuc2V0UG9zaXRpb24ocG9zLnggKyBkWzBdLCBwb3MueSArIGRbMV0sIHBvcy56ICsgZFsyXSk7XHJcbiAgICAgICAgICAgICAgICBwYXJ0aWNsZS5zZXRWZWxvY2l0eSh2LnggKyBkWzNdLCB2LnkgKyBkWzRdLCB2LnogKyBkWzVdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRoaXMpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlSG9vaygpIHtcclxuICAgICAgICBjb25zdCBsZW4gPSB0aGlzLnBhcnRpY2xlcy5sZW5ndGg7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IGxlbiAtIDE7IGkgPiAwOyBpLS0pIHtcclxuICAgICAgICAgICAgbGV0IGhvbGUgPSB0aGlzLnBhcnRpY2xlc1swXTtcclxuICAgICAgICAgICAgbGV0IHZlYyA9IG5ldyBWZWN0b3IzKCkuc3ViVmVjdG9ycyhob2xlLmdldFBvc2l0aW9uKCksIHRoaXMucGFydGljbGVzW2ldLmdldFBvc2l0aW9uKCkpO1xyXG4gICAgICAgICAgICBpZiAodmVjLmxlbmd0aCgpIDwgdGhpcy5ldmVudEhvcml6b24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFydGljbGVzW2ldLm9uRGVhdGgoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlUGFydGljbGUoaSk7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBob2xlID0gdGhpcy5wYXJ0aWNsZXNbMV07XHJcbiAgICAgICAgICAgIC8vIHZlYyA9IG5ldyBWZWN0b3IzKCkuc3ViVmVjdG9ycyhob2xlLmdldFBvc2l0aW9uKCksIHRoaXMucGFydGljbGVzW2ldLmdldFBvc2l0aW9uKCkpO1xyXG4gICAgICAgICAgICAvLyBpZiAodmVjLmxlbmd0aCgpIDwgdGhpcy5ldmVudEhvcml6b24yKSB7XHJcbiAgICAgICAgICAgIC8vICAgICB0aGlzLnBhcnRpY2xlc1tpXS5vbkRlYXRoKCk7XHJcbiAgICAgICAgICAgIC8vICAgICB0aGlzLnJlbW92ZVBhcnRpY2xlKGkpO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgVGltZVByb2ZpbGUgfSBmcm9tIFwiLi90aW1lLXByb2ZpbGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUaW1lUHJvZmlsZXIge1xyXG4gICAgcHJpdmF0ZSB0aW1lUHJvZmlsZXM6IE1hcDxzdHJpbmcsIFRpbWVQcm9maWxlPlxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy50aW1lUHJvZmlsZXMgPSBuZXcgTWFwPHN0cmluZywgVGltZVByb2ZpbGU+KCk7XHJcbiAgICB9XHJcbiAgICBzdGFydChuYW1lOiBzdHJpbmcsIGludGVydmFsID0gMSkge1xyXG4gICAgICAgIGlmICh0aGlzLnRpbWVQcm9maWxlcy5oYXMobmFtZSkpIHtcclxuICAgICAgICAgICAgdGhpcy50aW1lUHJvZmlsZXMuZ2V0KG5hbWUpLnN0YXJ0KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgcHJvZmlsZSA9IG5ldyBUaW1lUHJvZmlsZShuYW1lLCBpbnRlcnZhbCk7XHJcbiAgICAgICAgICAgIHRoaXMudGltZVByb2ZpbGVzLnNldChuYW1lLCBwcm9maWxlKTtcclxuICAgICAgICAgICAgcHJvZmlsZS5zdGFydCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHN0b3AobmFtZTogc3RyaW5nLCBpbnRlcnZhbCA9IDEpIHtcclxuICAgICAgICBpZiAodGhpcy50aW1lUHJvZmlsZXMuaGFzKG5hbWUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZVByb2ZpbGVzLmdldChuYW1lKS5zdG9wKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgcHJvZmlsZSA9IG5ldyBUaW1lUHJvZmlsZShuYW1lLCBpbnRlcnZhbCk7XHJcbiAgICAgICAgICAgIHRoaXMudGltZVByb2ZpbGVzLnNldChuYW1lLCBwcm9maWxlKTtcclxuICAgICAgICAgICAgcHJvZmlsZS5zdG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSVJheUVtaXR0ZXIgfSBmcm9tIFwiLi9pLXJheS1lbWl0dGVyXCI7XHJcbmltcG9ydCB7IFZlY3RvcjIsIE1peE9wZXJhdGlvbiwgVmVjdG9yMyB9IGZyb20gXCJ0aHJlZVwiO1xyXG5pbXBvcnQgeyBJUmF5VHJhY2VyIH0gZnJvbSBcIi4vaS1yYXl0cmFjZXJcIjtcclxuaW1wb3J0IHsgUmF5VHJhY2luZ1Bob3RvbkdlbmVyYXRvciB9IGZyb20gXCIuL3Bpbi1ob2xlLWNhbWVyYS5cIjtcclxuaW1wb3J0IHsgUGl4ZWxSYXkgfSBmcm9tIFwiLi9waXhlbC1yYXlcIjtcclxuXHJcbi8qKlxyXG4gKiBUaGUgVmFyaWFibGVSYXlFbWl0dGVyIHdpbGwgZW1pdCByYXlzIGZyb20gdGhlIGNhbWVyYVxyXG4gKiBpbiBhIHJlY3Vyc2l2ZSBtYW5uZXIuIEl0IHdpbGwgc3ViZGl2aWRlIHRoZSBjYW52YXMgaW50b1xyXG4gKiBOIHJlZ2lvbnMgYW5kIHNlbmQgUiByYXlzIGZyb20gdGhlc2UgcmVnaW9ucy4gSWYgc29tZSBvYmplY3RcclxuICogd2FzIGhpdCBieSB0aGVzZSByYXlzLCBpdCB3b3VsZCBzdWJkaXZpZGUgdGhhdCByZWdpb24gaW50byBcclxuICogTiBzbWFsbGVyIHJlZ2lvbnMgYW5kIHJlcGVhdFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFZhcmlhYmxlUmF5RW1pdHRlciBpbXBsZW1lbnRzIElSYXlFbWl0dGVyIHtcclxuICAgIHByaXZhdGUgcmVzb2x1dGlvbjogVmVjdG9yMjtcclxuICAgIHByaXZhdGUgcmVnaW9uczogQXJyYXk8VmVjdG9yMj47XHJcbiAgICBwcml2YXRlIHBpeGVsTWFwOiBBcnJheTxudW1iZXI+O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBOX1JFR0lPTl9MRU4gPSAxNjtcclxuICAgIHByaXZhdGUgcmF5dHJhY2VyOiBJUmF5VHJhY2VyO1xyXG4gICAgcHJpdmF0ZSBnZW5lcmF0b3I6IFJheVRyYWNpbmdQaG90b25HZW5lcmF0b3I7XHJcbiAgICBwcml2YXRlIE1BWF9FTUlTU0lPTlNfRlJPTV9QSVhFTCA9IDE7XHJcbiAgICBwcml2YXRlIHJheUVtaXR0ZWRDb3VudDogQXJyYXk8bnVtYmVyPjtcclxuICAgIGNvbnN0cnVjdG9yKHJlc29sdXRpb246IFZlY3RvcjIsIHJheXRyYWNlcjogSVJheVRyYWNlciwgZ2VuZXJhdG9yOiBSYXlUcmFjaW5nUGhvdG9uR2VuZXJhdG9yKSB7XHJcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcclxuICAgICAgICB0aGlzLnBpeGVsTWFwID0gbmV3IEFycmF5PG51bWJlcj4ocmVzb2x1dGlvbi54ICogcmVzb2x1dGlvbi55KTtcclxuICAgICAgICB0aGlzLnJheUVtaXR0ZWRDb3VudCA9IG5ldyBBcnJheTxudW1iZXI+KHJlc29sdXRpb24ueCAqIHJlc29sdXRpb24ueSk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAgOyBpIDwgdGhpcy5yYXlFbWl0dGVkQ291bnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5yYXlFbWl0dGVkQ291bnRbaV0gPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJlZ2lvbnMgPSBuZXcgQXJyYXk8VmVjdG9yMj4oKTtcclxuICAgICAgICB0aGlzLnJheXRyYWNlciA9IHJheXRyYWNlcjtcclxuICAgICAgICB0aGlzLmdlbmVyYXRvciA9IGdlbmVyYXRvcjtcclxuICAgICAgICB0aGlzLmRpdmlkZUFuZFJhc3NpZ25QaXhlbHMobmV3IFZlY3RvcjIoMCwgMCksIG5ldyBWZWN0b3IyKHJlc29sdXRpb24ueCwgcmVzb2x1dGlvbi55KSk7XHJcbiAgICB9XHJcblxyXG4gICAgZW1pdCgpOiBQaXhlbFJheVtdIHtcclxuICAgICAgICBjb25zdCBsZW4gPSB0aGlzLnJlZ2lvbnMubGVuZ3RoIC8gMjtcclxuICAgICAgICBjb25zdCByYXlzID0gbmV3IEFycmF5PFBpeGVsUmF5PigpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgbWluID0gdGhpcy5yZWdpb25zW2kgKiAyXTtcclxuICAgICAgICAgICAgY29uc3QgbWF4ID0gdGhpcy5yZWdpb25zW2kgKiAyICsgMV07XHJcbiAgICAgICAgICAgIGNvbnN0IHJheSA9IHRoaXMuZW1pdEZyb21SZWdpb24obWluLCBtYXgpO1xyXG4gICAgICAgICAgICByYXlzLnB1c2gocmF5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJheXM7XHJcbiAgICB9XHJcblxyXG4gICAgdGVzdCgpIHtcclxuICAgICAgICB0aGlzLmRpdmlkZUFuZFJhc3NpZ25QaXhlbHMobmV3IFZlY3RvcjIoMCwgMCksIG5ldyBWZWN0b3IyKDY0LCA2NCkpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiVGhlIHBpeGVsIG1hcFwiLCB0aGlzLnBpeGVsTWFwKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlJlZ2lvbnNcIiwgdGhpcy5yZWdpb25zKTtcclxuICAgIH1cclxuICAgIGRpdmlkZUFuZFJhc3NpZ25QaXhlbHMobWluOiBWZWN0b3IyLCBtYXg6IFZlY3RvcjIpIHtcclxuICAgICAgICBjb25zdCBsZW4gPSB0aGlzLnJlZ2lvbnMubGVuZ3RoO1xyXG4gICAgICAgIGNvbnN0IHdpZHRoID0gbWF4LnggLSBtaW4ueDtcclxuICAgICAgICBjb25zdCBoZWlnaHQgPSBtYXgueSAtIG1pbi55O1xyXG4gICAgICAgIGlmICh3aWR0aCA8PSAxIHx8IGhlaWdodCA8PSAxKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy5kaXZpZGUobWluLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuTl9SRUdJT05fTEVOICogdGhpcy5OX1JFR0lPTl9MRU47IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgcmVnaW9uX21pbiA9IHRoaXMucmVnaW9uc1tsZW4gKyAoaSAqIDIpXTtcclxuICAgICAgICAgICAgbGV0IHJlZ2lvbl9tYXggPSB0aGlzLnJlZ2lvbnNbbGVuICsgKGkgKiAyKSArIDFdO1xyXG4gICAgICAgICAgICBsZXQgbWF4X3ggPSBNYXRoLmZsb29yKHJlZ2lvbl9tYXgueCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHUgPSBNYXRoLmZsb29yKHJlZ2lvbl9taW4ueCk7IHUgPCBtYXhfeDsgdSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWF4X3kgPSBNYXRoLmZsb29yKHJlZ2lvbl9tYXgueSk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB2ID0gTWF0aC5mbG9vcihyZWdpb25fbWluLnkpOyB2IDwgbWF4X3k7IHYrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdiAqIHRoaXMucmVzb2x1dGlvbi54ICsgdTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBpeGVsTWFwW2luZGV4XSA9IGxlbiArICgyICogaSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZGl2aWRlKG9mZnNldDogVmVjdG9yMiwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcclxuICAgICAgICBjb25zdCBOX1JFR0lPTlMgPSB0aGlzLk5fUkVHSU9OX0xFTiAqIHRoaXMuTl9SRUdJT05fTEVOO1xyXG4gICAgICAgIGZvciAobGV0IHUgPSAwOyB1IDwgTl9SRUdJT05TOyB1KyspIHtcclxuICAgICAgICAgICAgbGV0IGkgPSB1ICUgdGhpcy5OX1JFR0lPTl9MRU47XHJcbiAgICAgICAgICAgIGxldCBqID0gTWF0aC5mbG9vcih1IC8gdGhpcy5OX1JFR0lPTl9MRU4pO1xyXG4gICAgICAgICAgICBjb25zdCBtaW4gPSBuZXcgVmVjdG9yMih3aWR0aCAqIChpIC8gdGhpcy5OX1JFR0lPTl9MRU4pLCBoZWlnaHQgKiAoaiAvIHRoaXMuTl9SRUdJT05fTEVOKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1heCA9IG5ldyBWZWN0b3IyKHdpZHRoICogKChpICsgMSkgLyB0aGlzLk5fUkVHSU9OX0xFTiksIGhlaWdodCAqICgoaiArIDEpIC8gdGhpcy5OX1JFR0lPTl9MRU4pKTtcclxuICAgICAgICAgICAgbWluLmFkZChvZmZzZXQpO1xyXG4gICAgICAgICAgICBtYXguYWRkKG9mZnNldCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVnaW9ucy5wdXNoKG1pbik7XHJcbiAgICAgICAgICAgIHRoaXMucmVnaW9ucy5wdXNoKG1heCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZW1pdEZyb20oeDogbnVtYmVyLCB5OiBudW1iZXIpOiBQaXhlbFJheSB7XHJcbiAgICAgICAgY29uc3QgcmVnaW9ucyA9IHRoaXMuZ2V0UmVnaW9uKHgsIHkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVtaXRGcm9tUmVnaW9uKHJlZ2lvbnNbMF0sIHJlZ2lvbnNbMV0pO1xyXG4gICAgfVxyXG4gICAgaW5jcmVtZW50UGl4ZWxDb3VudCh4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0geSAqIHRoaXMucmVzb2x1dGlvbi54ICsgeDtcclxuICAgICAgICB0aGlzLnJheUVtaXR0ZWRDb3VudFtpbmRleF0rKztcclxuICAgIH1cclxuICAgIGhhc0V4Y2VlZGVkUmF5Q291bnQoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCBpbmRleCA9IHkgKiB0aGlzLnJlc29sdXRpb24ueCArIHg7XHJcbiAgICAgICAgY29uc3QgbGltaXQgPSB0aGlzLk1BWF9FTUlTU0lPTlNfRlJPTV9QSVhFTDtcclxuICAgICAgICByZXR1cm4gdGhpcy5yYXlFbWl0dGVkQ291bnRbaW5kZXhdID4gbGltaXQ7XHJcbiAgICB9XHJcbiAgICBlbWl0RnJvbVJlZ2lvbihtaW46IFZlY3RvcjIsIG1heDogVmVjdG9yMik6IFBpeGVsUmF5IHtcclxuICAgICAgICBjb25zdCB1ID0gTWF0aC5mbG9vcihtaW4ueCArIE1hdGgucmFuZG9tKCkgKiAobWF4LnggLSBtaW4ueCkpO1xyXG4gICAgICAgIGNvbnN0IHYgPSBNYXRoLmZsb29yKG1pbi55ICsgTWF0aC5yYW5kb20oKSAqIChtYXgueSAtIG1pbi55KSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZW1pdEZyb21QaXhlbCh1LCB2KTtcclxuICAgIH1cclxuICAgIGVtaXRGcm9tUGl4ZWwoaTogbnVtYmVyLCBqOiBudW1iZXIpOiBQaXhlbFJheSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaGFzRXhjZWVkZWRSYXlDb3VudChpLCBqKSkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIk1heCBjb3VudCB3YXMgcmVhY2hlZFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHBlcnR1cmJ4ID0gMDsgTWF0aC5yYW5kb20oKSAqIDAuNiArIDAuMjtcclxuICAgICAgICBjb25zdCBwZXJ0dXJieSA9IDA7IE1hdGgucmFuZG9tKCkgKiAwLjYgKyAwLjI7XHJcbiAgICAgICAgY29uc3QgeCA9IChpICsgcGVydHVyYngpIC8gdGhpcy5yZXNvbHV0aW9uLnggKiB0aGlzLnJheXRyYWNlci5nZXRXaWR0aCgpIC0gdGhpcy5yYXl0cmFjZXIuZ2V0V2lkdGgoKSAvIDI7XHJcbiAgICAgICAgY29uc3QgeSA9IChqICsgcGVydHVyYnkpIC8gdGhpcy5yZXNvbHV0aW9uLnkgKiB0aGlzLnJheXRyYWNlci5nZXRIZWlnaHQoKSAtIHRoaXMucmF5dHJhY2VyLmdldEhlaWdodCgpIC8gMjtcclxuICAgICAgICBjb25zdCB6ID0gdGhpcy5yYXl0cmFjZXIuZ2V0RGlzdGFuY2VUb0NhbnZhcygpO1xyXG4gICAgICAgIC8vIFRyYW5zZm9ybSB0aGlzIHZlbG9jaXR5IGJ5IHRoZSBjYW1lcmEncyB0cmFuc2Zvcm1cclxuICAgICAgICBjb25zdCB2ZWwgPSBuZXcgVmVjdG9yMyh4LCB5LCB6KTtcclxuICAgICAgICB2ZWwuYXBwbHlRdWF0ZXJuaW9uKHRoaXMucmF5dHJhY2VyLmdldFJvdGF0aW9uKCkpO1xyXG4gICAgICAgIHRoaXMuZ2VuZXJhdG9yLnBhcmFtZXRlcihpLCBqLCB2ZWwpO1xyXG4gICAgICAgIGNvbnN0IHJheSA9IHRoaXMuZ2VuZXJhdG9yLmdlbmVyYXRlKCk7XHJcbiAgICAgICAgcmF5LnNldFBvc2l0aW9uKHRoaXMucmF5dHJhY2VyLmdldFBvc2l0aW9uKCkueCwgdGhpcy5yYXl0cmFjZXIuZ2V0UG9zaXRpb24oKS55LCB0aGlzLnJheXRyYWNlci5nZXRQb3NpdGlvbigpLnopO1xyXG4gICAgICAgIHRoaXMuaW5jcmVtZW50UGl4ZWxDb3VudChpLCBqKTtcclxuICAgICAgICByZXR1cm4gcmF5O1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBnZXRSZWdpb25JbmRleCh4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0geSAqIHRoaXMucmVzb2x1dGlvbi54ICsgeDtcclxuICAgICAgICByZXR1cm4gdGhpcy5waXhlbE1hcFtpbmRleF07XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGdldFJlZ2lvbih4OiBudW1iZXIsIHk6IG51bWJlcik6IFZlY3RvcjJbXSB7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmdldFJlZ2lvbkluZGV4KHgsIHkpO1xyXG4gICAgICAgIGNvbnN0IG1pbiA9IHRoaXMucmVnaW9uc1tpbmRleF07XHJcbiAgICAgICAgY29uc3QgbWF4ID0gdGhpcy5yZWdpb25zW2luZGV4ICsgMV07XHJcbiAgICAgICAgcmV0dXJuIFttaW4sIG1heF07XHJcbiAgICB9XHJcbiAgICBvYmplY3RXYXNIaXQoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIk5ldyBFbWlzc2lvbnNcIik7XHJcbiAgICAgICAgY29uc3QgcmVnaW9ucyA9IHRoaXMuZ2V0UmVnaW9uKHgsIHkpO1xyXG4gICAgICAgIGNvbnN0IGxlbiA9IHRoaXMucmVnaW9ucy5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy5kaXZpZGVBbmRSYXNzaWduUGl4ZWxzKHJlZ2lvbnNbMF0sIHJlZ2lvbnNbMV0pO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSBsZW47IGkgPCB0aGlzLnJlZ2lvbnMubGVuZ3RoOyBpICs9IDIpIHtcclxuICAgICAgICAgICAgY29uc3QgcmF5ID0gdGhpcy5lbWl0RnJvbVJlZ2lvbih0aGlzLnJlZ2lvbnNbaV0sIHRoaXMucmVnaW9uc1tpICsgMV0pO1xyXG4gICAgICAgICAgICB0aGlzLnJheXRyYWNlci5wb3N0RW1pdChyYXkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IElSYXlUcmFjZWFibGUgfSBmcm9tIFwiLi4vaS1yYXl0cmFjZWFibGVcIjtcclxuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCJ0aHJlZVwiO1xyXG5cclxuLyoqXHJcbiAqIEFuIG9jdHJlZSBpcyBhIHRyZWUgd2hlcmUgZWFjaCBub2RlIGhhcyA4IGNoaWxkcmVuLiBIZXJlIHdlIHBhcnRpdGlvblxyXG4gKiBzcGFjZSBpbnRvIDggY29tcG9uZW50cyBhbmQga2VlcCBkb2luZyB0aGlzIHVudGlsIHdlIHJlYWNoIGEgbWF4aW11bSBkZXB0aFxyXG4gKiBvciBoYXZlIG5vIGNoaWxkcmVuIGluIHRoYXQgc3BhY2UuXHJcbiAqIEhvdyB3aWxsIHdlIHVwZGF0ZSB0aGUgb2N0cmVlIHdoZW4gdGhlIHBhcnRpY2xlcyBhcmUgbW92aW5nP1xyXG4gKiBBeGlzIGFsaWduZWQgcGFydGl0aW9uaW5nIFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE9jdHJlZSB7XHJcbiAgICBwcml2YXRlIG5vZGU6IEFycmF5PE9jdHJlZT47XHJcbiAgICBwcml2YXRlIG9iamVjdHM6IEFycmF5PElSYXlUcmFjZWFibGU+O1xyXG4gICAgcHJpdmF0ZSBjb3JuZXJzOiBBcnJheTxWZWN0b3IzPjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgTUFYX09CSkVDVFNfSU5fTk9ERSA9IDM7XHJcbiAgICBwcml2YXRlIG1pbkRpYWdMZW5ndGggPSAwO1xyXG4gICAgcHJpdmF0ZSBtYXhEZXB0aCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcclxuICAgIHByaXZhdGUgZGVwdGggPSAwO1xyXG4gICAgLy8gVE9ETyA6IHRoaXMgc2hvdWxkIG5vdCBiZSByYXkgdHJhY2VhYmxlIGJ1dCBjb2xsaWRhYmxlXHJcbiAgICBjb25zdHJ1Y3RvcihvYmplY3RzOiBBcnJheTxJUmF5VHJhY2VhYmxlPiwgY29ybmVyMT86IFZlY3RvcjMsIGNvcm5lcjI/OiBWZWN0b3IzLCBtaW5EaWFnTGVuZ3RoID0gMCwgbWF4X2RlcHRoID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCBkZXB0aCA9IDApIHtcclxuICAgICAgICB0aGlzLm5vZGUgPSBuZXcgQXJyYXk8T2N0cmVlPigpO1xyXG4gICAgICAgIHRoaXMuc2V0TWluRGlhZ0xlbmd0aChtaW5EaWFnTGVuZ3RoKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZShvYmplY3RzLCBjb3JuZXIxLCBjb3JuZXIyKTtcclxuICAgICAgICB0aGlzLmNvcm5lcnMgPSBuZXcgQXJyYXk8VmVjdG9yMz4oMik7XHJcbiAgICAgICAgdGhpcy5jb3JuZXJzWzBdID0gY29ybmVyMTtcclxuICAgICAgICB0aGlzLmNvcm5lcnNbMV0gPSBjb3JuZXIyO1xyXG4gICAgICAgIHRoaXMubWF4RGVwdGggPSBtYXhfZGVwdGg7XHJcbiAgICAgICAgdGhpcy5kZXB0aCA9IGRlcHRoO1xyXG4gICAgfVxyXG4gICAgc2V0TWluRGlhZ0xlbmd0aChsZW5ndGg6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMubWluRGlhZ0xlbmd0aCA9IGxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUaGlzIGNvZGUgcmFuIGZsYXdsZXNzbHkgb24gdGhlIGZpcnN0IHJ1blxyXG4gICAgcHJpdmF0ZSBjcmVhdGUob2JqZWN0czogQXJyYXk8SVJheVRyYWNlYWJsZT4sIGNvcm5lcjE6IFZlY3RvcjMsIGNvcm5lcjI6IFZlY3RvcjMpIHtcclxuICAgICAgICAvLyBQdXR0aW5nIHRoaXMgb3V0c2lkZSBmb3IgbGFyZ2VyIGludGVyc2VjdGlvbiB0ZXN0c1xyXG4gICAgICAgIHRoaXMub2JqZWN0cyA9IG9iamVjdHM7XHJcbiAgICAgICAgY29uc3QgZGltZW5zaW9ucyA9IFtjb3JuZXIyLnggLSBjb3JuZXIxLngsIGNvcm5lcjIueSAtIGNvcm5lcjEueSwgY29ybmVyMi56IC0gY29ybmVyMS56XTtcclxuICAgICAgICAvLyBEb250IGNyZWF0ZSBjaGlsZHJlbiBpZiB0aGV5IGFyZSBzbWFsbGVyIHRoYW4gdGhpcyBsZW5ndGhcclxuICAgICAgICBsZXQgZGlhZ0xlbmd0aCA9IGRpbWVuc2lvbnNbMF0gKiBkaW1lbnNpb25zWzBdICsgZGltZW5zaW9uc1sxXSAqIGRpbWVuc2lvbnNbMV0gKyBkaW1lbnNpb25zWzJdICogZGltZW5zaW9uc1syXTtcclxuICAgICAgICBkaWFnTGVuZ3RoID0gZGlhZ0xlbmd0aCAvIDQ7XHJcbiAgICAgICAgaWYgKG9iamVjdHMubGVuZ3RoIDw9IHRoaXMuTUFYX09CSkVDVFNfSU5fTk9ERSB8fCB0aGlzLm1pbkRpYWdMZW5ndGggPj0gZGlhZ0xlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmRlcHRoID49IHRoaXMubWF4RGVwdGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjcmVhdGUgdGhlIGNvcm5lcnMgb2YgdGhlIG5ldyBjdWJlc1xyXG4gICAgICAgIGNvbnN0IGNvcm5lcnMgPSBuZXcgQXJyYXk8VmVjdG9yMz4oKTtcclxuICAgICAgICBjb25zdCBtaWQgPSBuZXcgVmVjdG9yMygpLmFkZFZlY3RvcnMoY29ybmVyMSwgY29ybmVyMikubXVsdGlwbHlTY2FsYXIoMC41KTtcclxuICAgICAgICBjb3JuZXJzLnB1c2goY29ybmVyMSk7XHJcbiAgICAgICAgY29ybmVycy5wdXNoKG1pZCk7XHJcbiAgICAgICAgZGltZW5zaW9ucy5mb3JFYWNoKChkLCBpZHgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbGVuID0gY29ybmVycy5sZW5ndGg7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBjb3JuZXJzW2ldLmNsb25lKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhcnIgPSBjLnRvQXJyYXkoKTtcclxuICAgICAgICAgICAgICAgIGFycltpZHhdID0gYXJyW2lkeF0gKyBkIC8gMjtcclxuICAgICAgICAgICAgICAgIGMuZnJvbUFycmF5KGFycik7XHJcbiAgICAgICAgICAgICAgICBjb3JuZXJzLnB1c2goYyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBUT0RPOiBvbmx5IGNvbnNpZGVyaW5nIHBvaW50cyBmb3Igbm93IHdpdGggMCByYWRpdXNcclxuICAgICAgICAvLyBmb3IgZWFjaCBjdWJlLCBjaGVjayBpZiB0aGUgcGFydGljbGUgaXMgaW4gaXRcclxuICAgICAgICAvLyBpZiBpdCBpcywgYWRkIGl0IHRvIGl0cyBhcnJheSBsaXN0XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3Qgc3Vib2JqZWN0cyA9IG5ldyBBcnJheTxJUmF5VHJhY2VhYmxlPigpO1xyXG4gICAgICAgICAgICBvYmplY3RzLmZvckVhY2gobyA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoby5pbnRlcnNlY3RzV2l0aEJveChjb3JuZXJzWzIgKiBpXSwgY29ybmVyc1syICogaSArIDFdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1Ym9iamVjdHMucHVzaChvKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIEZpbmlzaGVkIGNyZWF0aW5nIGFuIGFycmF5IG9mIG9iamVjdHMgdGhhdCBhcmUgY29udGFpbmVkIGluIHRoaXMgYm94XHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBpdHMgb3duIG9jdHJlZVxyXG4gICAgICAgICAgICBpZiAoc3Vib2JqZWN0cy5sZW5ndGggPiAwICYmIHN1Ym9iamVjdHMubGVuZ3RoIDwgb2JqZWN0cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiQ3JlYXRpbmcgYW4gb2N0cmVlIHdpdGggezB9IG9iamVjdHNcIiwgc3Vib2JqZWN0cy5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlLnB1c2gobmV3IE9jdHJlZShzdWJvYmplY3RzLCBjb3JuZXJzWzIgKiBpXSwgY29ybmVyc1syICogaSArIDFdLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWluRGlhZ0xlbmd0aCwgdGhpcy5tYXhEZXB0aCwgdGhpcy5kZXB0aCArIDEpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXR1cm5zIGFuIG9jdHJlZSBub2RlIGNvbnRhaW5pbmcgdGhlIHBvaW50XHJcbiAgICAvLyBPciBub25lIGlmIGl0IGRvZXNuJ3RcclxuICAgIHB1YmxpYyBmaW5kKHBvaW50OiBWZWN0b3IzKTogT2N0cmVlIHwgbnVsbCB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29udGFpbnMocG9pbnQpKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ub2RlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0cmVlID0gdGhpcy5ub2RlW2ldO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VhcmNoID0gdHJlZS5maW5kKHBvaW50KTtcclxuICAgICAgICAgICAgICAgIGlmIChzZWFyY2ggIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VhcmNoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVGhpcyBpcyB0cmlja3kgYnVzaW5lc3NcclxuICAgIC8vIFRPRE8gOiBJZiBib3RoIHRoZSBwb2ludHMgYXJlIHByZXNlbnQgaW4gb25lIG5vZGUsIHdlJ3JlIGdvb2QgYW5kIGNhbiByZWN1cnNlIGRvd25cclxuICAgIC8vIEhvd2V2ZXIsIGlmIGJvdGggYXJlIGluIGRpZmZlcmVudCBub2RlcywgdGhpcyBiZWNvbWVzIGEgY2hhbGxlbmdlXHJcbiAgICAvLyBXZSBjb3VsZCByZXR1cm4gYm90aCBvZiB0aG9zZSB3aG9sZSBub2RlcywgYnV0IHRoYXQgd291bGQgYmUgdG9vIG1hbnlcclxuICAgIC8vIFdlIGNvdWxkIGZpbmQgdGhlIGludGVyc2VjdGlvbnMgb2YgdGhlIG5vZGVzIHdpdGggdGhlIGVkZ2Ugb2YgdGhlIGJveGVzXHJcbiAgICAvLyBhbmQgc2VhcmNoIHRob3NlXHJcbiAgICAvLyBXZSdsbCBpZ25vcmUgdGhhdCBzY2VuYXJpbyBmb3Igbm93XHJcbiAgICBwdWJsaWMgZmluZFJheShmcm9tOiBWZWN0b3IzLCB0bzogVmVjdG9yMyk6IE9jdHJlZSB8IG51bGwge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbnRhaW5zKGZyb20pICYmIHRoaXMuY29udGFpbnModG8pKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm5vZGUubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ub2RlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0cmVlID0gdGhpcy5ub2RlW2ldO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VhcmNoID0gdHJlZS5maW5kUmF5KGZyb20sIHRvKTtcclxuICAgICAgICAgICAgICAgIGlmIChzZWFyY2ggIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VhcmNoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY29udGFpbnMocG9pbnQ6IFZlY3RvcjMpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAocG9pbnQueCA+IE1hdGgubWF4KHRoaXMuY29ybmVyc1swXS54LCB0aGlzLmNvcm5lcnNbMV0ueCkpIHJldHVybiBmYWxzZTtcclxuICAgICAgICBpZiAocG9pbnQueSA+IE1hdGgubWF4KHRoaXMuY29ybmVyc1swXS55LCB0aGlzLmNvcm5lcnNbMV0ueSkpIHJldHVybiBmYWxzZTtcclxuICAgICAgICBpZiAocG9pbnQueiA+IE1hdGgubWF4KHRoaXMuY29ybmVyc1swXS56LCB0aGlzLmNvcm5lcnNbMV0ueikpIHJldHVybiBmYWxzZTtcclxuICAgICAgICBpZiAocG9pbnQueCA8IE1hdGgubWluKHRoaXMuY29ybmVyc1swXS54LCB0aGlzLmNvcm5lcnNbMV0ueCkpIHJldHVybiBmYWxzZTtcclxuICAgICAgICBpZiAocG9pbnQueSA8IE1hdGgubWluKHRoaXMuY29ybmVyc1swXS55LCB0aGlzLmNvcm5lcnNbMV0ueSkpIHJldHVybiBmYWxzZTtcclxuICAgICAgICBpZiAocG9pbnQueiA8IE1hdGgubWluKHRoaXMuY29ybmVyc1swXS56LCB0aGlzLmNvcm5lcnNbMV0ueikpIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0T2JqZWN0cygpIHsgcmV0dXJuIHRoaXMub2JqZWN0czsgfVxyXG59IiwiZXhwb3J0IGNsYXNzIFNjYWxlZFVuaXRzIHtcclxuICAgIHByaXZhdGUgX21ldHJlczogbnVtYmVyOyAvLyB0aGUgbnVtYmVyIG9mIG1ldHJlcyBpbiBuZXcgdW5pdFxyXG4gICAgcHJpdmF0ZSBfa2lsb2dyYW1zOiBudW1iZXI7IC8vIHRoZSBudW1iZXIgb2Yga2lsb2dyYW1zIGluIG5ldyB1bml0XHJcbiAgICBwcml2YXRlIF9zZWNvbmRzOiBudW1iZXI7IC8vIHRoZSBudW1iZXIgb2Yga2lsb2dyYW1zIGluIG5ldyB1bml0XHJcblxyXG4gICAgY29uc3RydWN0b3IobWV0cmVzID0gMSwga2dzID0gMSwgc2Vjb25kcyA9IDEpIHtcclxuICAgICAgICB0aGlzLl9tZXRyZXMgPSBtZXRyZXM7XHJcbiAgICAgICAgdGhpcy5fa2lsb2dyYW1zID0ga2dzO1xyXG4gICAgICAgIHRoaXMuX3NlY29uZHMgPSBzZWNvbmRzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZSBuZXcgdW5pdCBvZiBtZXRyZXNcclxuICAgICAqIEBwYXJhbSB2YWwgVGhlIG51bWJlciBvZiBtZXRlcnMgdGhhdCBnbyBpbnRvIHRoZSBuZXcgdW5pdCB3cnQgdG8gdGhlIHZhbHVlIGdpdmVuIGluIHRvXHJcbiAgICAgKiBAcGFyYW0gdG8gXHJcbiAgICAgKi9cclxuICAgIHNldE1ldHJlc1NjYWxlKHZhbDogbnVtYmVyLCB0byA9IDEpIHtcclxuICAgICAgICB0aGlzLl9tZXRyZXMgPSB2YWwgLyB0bztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIG5ldyB1bml0IG9mIGtnc1xyXG4gICAgICogQHBhcmFtIHZhbCBUaGUgbnVtYmVyIG9mIGtncyB0aGF0IGdvIGludG8gdGhlIG5ldyB1bml0IHdydCB0byB0aGUgdmFsdWUgZ2l2ZW4gaW4gdG9cclxuICAgICAqIEBwYXJhbSB0byBcclxuICAgICAqL1xyXG4gICAgc2V0S2dzU2NhbGUodmFsOiBudW1iZXIsIHRvID0gMSkge1xyXG4gICAgICAgIHRoaXMuX2tpbG9ncmFtcyA9IHZhbCAvIHRvO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgICogU2V0cyB0aGUgbmV3IHVuaXQgb2YgdGltZVxyXG4gICAgICAqIEBwYXJhbSB2YWwgVGhlIG51bWJlciBvZiBzZWNvbmRzIHRoYXQgZ28gaW50byB0aGUgbmV3IHVuaXQgd3J0IHRvIHRoZSB2YWx1ZSBnaXZlbiBpbiB0b1xyXG4gICAgICAqIEBwYXJhbSB0byBcclxuICAgICAgKi9cclxuICAgIHNldFRpbWVTY2FsZSh2YWw6IG51bWJlciwgdG8gPSAxKSB7XHJcbiAgICAgICAgdGhpcy5fc2Vjb25kcyA9IHZhbCAvIHRvO1xyXG4gICAgfVxyXG4gICAgZ2V0IG1ldHJlcygpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5fbWV0cmVzOyB9O1xyXG4gICAgZ2V0IGtncygpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5fa2lsb2dyYW1zOyB9O1xyXG4gICAgZ2V0IHNlY29uZHMoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX3NlY29uZHM7IH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHZhbHVlIG9mIHRoZSBkaXN0YW5jZSBpbiBuZXcgdW5pdHNcclxuICAgICAqIEBwYXJhbSB2YWwgVGhlIGRpc3RhbmNlIGluIG1ldHJlcyB5b3Ugd2FudCBpbiB0aGUgbmV3IHVuaXRzXHJcbiAgICAgKi9cclxuICAgIGdldFNjYWxlZERpc3RhbmNlKHZhbDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdmFsIC8gdGhpcy5fbWV0cmVzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB2YWx1ZSBvZiB0aGUgbWFzcyBpbiBuZXcgdW5pdHNcclxuICAgICAqIEBwYXJhbSB2YWwgVGhlIG1hc3MgaW4ga2dzIHlvdSB3YW50IGluIHRoZSBuZXcgdW5pdHNcclxuICAgICAqL1xyXG4gICAgZ2V0U2NhbGVkTWFzcyh2YWw6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHZhbCAvIHRoaXMuX2tpbG9ncmFtcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdmFsdWUgb2YgdGhlIHRpbWUgaW4gbmV3IHVuaXRzXHJcbiAgICAgKiBAcGFyYW0gdmFsIFRoZSB0aW1lIGluIHNlY29uZHMgeW91IHdhbnQgaW4gdGhlIG5ldyB1bml0c1xyXG4gICAgICovXHJcbiAgICBnZXRTY2FsZWRUaW1lKHZhbDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdmFsIC8gdGhpcy5fc2Vjb25kcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdmFsdWUgb2YgdGhlIHRpbWUgaW4gc2Vjb25kc1xyXG4gICAgICogQHBhcmFtIHZhbCBUaGUgdGltZSBpbiBuZXcgdW5pdHMgdGhhdCB5b3Ugd2FudCBpbiBzZWNvbmRzXHJcbiAgICAgKi9cclxuICAgIGdldFVuc2NhbGVkVGltZSh2YWw6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHZhbCAqIHRoaXMuX3NlY29uZHM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHZhbHVlIG9mIHRoZSB2ZWxvY2l0eSBpbiBuZXcgdW5pdHNcclxuICAgICAqIEBwYXJhbSB2YWwgVGhlIHZlbG9jaXR5IGluIG1ldHJlcy9zZWNvbmQgeW91IHdhbnQgaW4gdGhlIG5ldyB1bml0c1xyXG4gICAgICovXHJcbiAgICBnZXRTY2FsZWRWZWxvY2l0eSh2YWw6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHZhbCAqIHRoaXMuc2Vjb25kcyAvIHRoaXMubWV0cmVzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB2YWx1ZSBvZiB0aGUgdGltZSBpbiBzZWNvbmRzXHJcbiAgICAgKiBAcGFyYW0gdmFsIFRoZSB2ZWxvY2l0eSBpbiBuZXcgdW5pdHMgdGhhdCB5b3Ugd2FudCBpbiBtL3NcclxuICAgICAqL1xyXG4gICAgZ2V0VW5zY2FsZWRWZWxvY2l0eSh2YWw6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHZhbCAqIHRoaXMuX21ldHJlcyAvIHRoaXMuX3NlY29uZHM7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCJ0aHJlZVwiO1xyXG5pbXBvcnQgeyBJUmF5VHJhY2VhYmxlIH0gZnJvbSBcIi4uLy4uL3JheXRyYWNpbmcvaS1yYXl0cmFjZWFibGVcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVBhcnRpY2xlIHtcclxuICAgIGdldFR5cGUoKTogbnVtYmVyO1xyXG4gICAgc2V0VHlwZSh0eXBlOiBudW1iZXIpOiBudW1iZXI7XHJcbiAgICBnZXRNYXNzKCk6IG51bWJlcjtcclxuICAgIHNldE1hc3MobWFzczogbnVtYmVyKTogYW55O1xyXG4gICAgZ2V0VmVsb2NpdHkoKTogVmVjdG9yMztcclxuICAgIGdldFBvc2l0aW9uKCk6IFZlY3RvcjM7XHJcbiAgICBzZXRQb3NpdGlvbih4OiBudW1iZXIsIHk6IG51bWJlciwgejogbnVtYmVyKTogVmVjdG9yMztcclxuICAgIHNldFZlbG9jaXR5KHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIpOiBWZWN0b3IzO1xyXG4gICAgZ2V0UmFkaXVzKCk6IG51bWJlcjtcclxuICAgIHNldFJhZGl1cyhyOiBudW1iZXIpOiBudW1iZXI7XHJcbiAgICBnZXRMaWZlc3BhbigpOiBudW1iZXI7XHJcbiAgICBzZXRMaWZlc3BhbihsOiBudW1iZXIpOiBudW1iZXI7XHJcbiAgICBnZXRBZ2UoKTogbnVtYmVyO1xyXG4gICAgc2V0QWdlKGE6IG51bWJlcik6IG51bWJlcjtcclxuICAgIG9uRGVhdGgoKTogYW55O1xyXG4gICAgaXNBbGl2ZSgpOiBib29sZWFuO1xyXG4gICAgdXBkYXRlKCk6IGFueTtcclxuICAgIGNvcHkocDogSVBhcnRpY2xlKTogYW55O1xyXG59XHJcbmV4cG9ydCBjbGFzcyBQYXJ0aWNsZSBpbXBsZW1lbnRzIElQYXJ0aWNsZSwgSVJheVRyYWNlYWJsZSB7XHJcbiAgICBwcml2YXRlIHZlbG9jaXR5OiBWZWN0b3IzO1xyXG4gICAgcHJpdmF0ZSBwb3NpdGlvbjogVmVjdG9yMztcclxuICAgIHByaXZhdGUgbWFzczogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSByYWRpdXM6IG51bWJlcjtcclxuICAgIHByaXZhdGUgbGlmZVNwYW46IG51bWJlcjtcclxuICAgIHByaXZhdGUgYWdlOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHR5cGU6IG51bWJlcjtcclxuICAgIHByaXZhdGUgYWxpdmU6IGJvb2xlYW47XHJcbiAgICBjb25zdHJ1Y3RvcihtYXNzID0gMSwgcmFkaXVzID0gMSwgbGlmZXNwYW4gPSAwLCB0eXBlID0gMSkge1xyXG4gICAgICAgIHRoaXMudmVsb2NpdHkgPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgICAgIHRoaXMubWFzcyA9IG1hc3M7XHJcbiAgICAgICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XHJcbiAgICAgICAgdGhpcy5saWZlU3BhbiA9IGxpZmVzcGFuO1xyXG4gICAgICAgIHRoaXMuYWdlID0gMDtcclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgICAgIHRoaXMuYWxpdmUgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaW50ZXJzZWN0c1dpdGhCb3goZnJvbTogVmVjdG9yMywgdG86IFZlY3RvcjMpOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLmdldFBvc2l0aW9uKCk7XHJcbiAgICAgICAgaWYgKHBvcy54ID4gKE1hdGgubWF4KGZyb20ueCwgdG8ueCkgKyB0aGlzLmdldFJhZGl1cygpKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmIChwb3MueSA+IChNYXRoLm1heChmcm9tLnksIHRvLnkpICsgdGhpcy5nZXRSYWRpdXMoKSkpIHJldHVybiBmYWxzZTtcclxuICAgICAgICBpZiAocG9zLnogPiAoTWF0aC5tYXgoZnJvbS56LCB0by56KSArIHRoaXMuZ2V0UmFkaXVzKCkpKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgaWYgKHBvcy54IDwgKE1hdGgubWluKGZyb20ueCwgdG8ueCkgLSB0aGlzLmdldFJhZGl1cygpKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmIChwb3MueSA8IChNYXRoLm1pbihmcm9tLnksIHRvLnkpIC0gdGhpcy5nZXRSYWRpdXMoKSkpIHJldHVybiBmYWxzZTtcclxuICAgICAgICBpZiAocG9zLnogPCAoTWF0aC5taW4oZnJvbS56LCB0by56KSAtIHRoaXMuZ2V0UmFkaXVzKCkpKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBzZXRSYWRpdXMocmFkaXVzOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJhZGl1cztcclxuICAgIH1cclxuICAgIGlzQWxpdmUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWxpdmU7XHJcbiAgICB9XHJcbiAgICBpbnRlcnNlY3RzV2l0aFJheShmcm9tOiBWZWN0b3IzLCB0bzogVmVjdG9yMywgcmFkaXVzOiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHBlcnBlbmRpY3VsYXIgZGlzdGFuY2Ugb2YgdGhpcyBsaW5lIFxyXG4gICAgICAgIC8vIHdpdGggdGhlIHBhcnRpY2xlIGFuZCBzZWUgaWYgaXQgaXMgaW5zaWRlIHRoZSByYWRpdXNcclxuICAgICAgICBjb25zdCBBQiA9IG5ldyBWZWN0b3IzKCkuc3ViVmVjdG9ycyh0bywgZnJvbSkubm9ybWFsaXplKCk7XHJcbiAgICAgICAgY29uc3QgQU8gPSB0aGlzLmdldFBvc2l0aW9uKCkuc3ViKGZyb20pO1xyXG4gICAgICAgIGNvbnN0IEJPID0gdGhpcy5nZXRQb3NpdGlvbigpLnN1Yih0byk7XHJcbiAgICAgICAgY29uc3QgQU9Qcm9qQUIgPSBBTy5kb3QoQUIpO1xyXG4gICAgICAgIGNvbnN0IEJPUHJvakFCID0gQk8uZG90KEFCKTtcclxuICAgICAgICBpZiAoQU9Qcm9qQUIgKiBCT1Byb2pBQiA+IDApIHtcclxuICAgICAgICAgICAgLy8gQm90aCBwcm9qZWN0aW9ucyBvbiB0aGUgc2FtZSBzaWRlXHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHJlZHVjaW5nIGJ5IHRoZSByYWRpdXMgbWFrZXMgdGhlbSBvbiBvcHBvc2l0ZSBzaWRlc1xyXG4gICAgICAgICAgICBsZXQgbGVzc2VyUHJvamVjdGlvbiA9IE1hdGgubWluKE1hdGguYWJzKEFPUHJvakFCKSwgTWF0aC5hYnMoQk9Qcm9qQUIpKTtcclxuICAgICAgICAgICAgbGV0IGJpZ2dlclByb2plY3Rpb24gPSBNYXRoLm1heChNYXRoLmFicyhBT1Byb2pBQiksIE1hdGguYWJzKEJPUHJvakFCKSk7XHJcbiAgICAgICAgICAgIGxlc3NlclByb2plY3Rpb24gPSBsZXNzZXJQcm9qZWN0aW9uIC0gdGhpcy5yYWRpdXMgLSByYWRpdXM7XHJcbiAgICAgICAgICAgIGlmIChsZXNzZXJQcm9qZWN0aW9uICogYmlnZ2VyUHJvamVjdGlvbiA+IDApIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwcm9qID0gQU8uc3ViKEFCLm11bHRpcGx5U2NhbGFyKEFPUHJvakFCKSk7XHJcbiAgICAgICAgaWYgKHByb2oubGVuZ3RoKCkgPD0gdGhpcy5nZXRSYWRpdXMoKSArIHJhZGl1cylcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgY29weShwOiBJUGFydGljbGUpIHtcclxuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gcC5nZXRWZWxvY2l0eSgpO1xyXG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBwLmdldFBvc2l0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5hZ2UgPSBwLmdldEFnZSgpO1xyXG4gICAgICAgIHRoaXMubWFzcyA9IHAuZ2V0TWFzcygpO1xyXG4gICAgICAgIHRoaXMucmFkaXVzID0gcC5nZXRSYWRpdXMoKTtcclxuICAgICAgICB0aGlzLmxpZmVTcGFuID0gcC5nZXRMaWZlc3BhbigpO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHAuZ2V0VHlwZSgpO1xyXG4gICAgfVxyXG4gICAgZ2V0VHlwZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnR5cGU7XHJcbiAgICB9XHJcbiAgICBzZXRUeXBlKHR5cGU6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcclxuICAgICAgICByZXR1cm4gdHlwZTtcclxuICAgIH1cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgIH1cclxuICAgIHNldExpZmVzcGFuKGxpZmVzcGFuOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHRoaXMubGlmZVNwYW4gPSBsaWZlc3BhbjtcclxuICAgICAgICByZXR1cm4gdGhpcy5saWZlU3BhbjtcclxuICAgIH1cclxuICAgIHNldEFnZShhZ2U6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgdGhpcy5hZ2UgPSBhZ2U7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWdlO1xyXG4gICAgfVxyXG4gICAgZ2V0TGlmZXNwYW4oKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5saWZlU3BhbjtcclxuICAgIH1cclxuICAgIGdldEFnZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFnZTtcclxuICAgIH1cclxuICAgIGdldE1hc3MoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tYXNzO1xyXG4gICAgfTtcclxuICAgIHNldE1hc3MobTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5tYXNzID0gbTtcclxuICAgIH1cclxuICAgIGdldFZlbG9jaXR5KCk6IFZlY3RvcjMgeyByZXR1cm4gdGhpcy52ZWxvY2l0eS5jbG9uZSgpOyB9XHJcbiAgICBnZXRQb3NpdGlvbigpOiBWZWN0b3IzIHsgcmV0dXJuIHRoaXMucG9zaXRpb24uY2xvbmUoKTsgfVxyXG4gICAgc2V0UG9zaXRpb24oeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlcik6IFZlY3RvcjMge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLnNldCh4LCB5LCB6KTtcclxuICAgIH1cclxuICAgIHNldFZlbG9jaXR5KHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIpOiBWZWN0b3IzIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52ZWxvY2l0eS5zZXQoeCwgeSwgeik7XHJcbiAgICB9O1xyXG4gICAgZ2V0UmFkaXVzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJhZGl1cztcclxuICAgIH1cclxuICAgIG9uRGVhdGgoKSB7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBWZWN0b3IzLCBTY2VuZSB9IGZyb20gXCJ0aHJlZVwiO1xyXG5pbXBvcnQgeyBTY2FsZWRVbml0cyB9IGZyb20gXCIuL3NjYWxlZC11bml0c1wiO1xyXG5pbXBvcnQgeyBJUGFydGljbGUsIFBhcnRpY2xlIH0gZnJvbSBcIi4vcGFydGljbGUtc3lzdGVtL3BhcnRpY2xlL3BhcnRpY2xlXCI7XHJcbmltcG9ydCB7IElQYXJ0aWNsZUdlbmVyYXRvciB9IGZyb20gXCIuL3BhcnRpY2xlLXN5c3RlbS9nZW5lcmF0b3IvaS1wYXJ0aWNsZS1nZW5lcmF0b3JcIjtcclxuaW1wb3J0IHsgUGFydGljbGVTeXN0ZW0gfSBmcm9tIFwiLi9wYXJ0aWNsZS1zeXN0ZW0vcGFydGljbGUtc3lzdGVtXCI7XHJcbmltcG9ydCB7IFBhcnRpY2xlR2VuZXJhdG9yIH0gZnJvbSBcIi4vcGFydGljbGUtc3lzdGVtL2dlbmVyYXRvci9wYXJ0aWNsZS1nZW5lcmF0b3JcIjtcclxuaW1wb3J0IHsgUGhvdG9uR2VuZXJhdG9yIH0gZnJvbSBcIi4vcGFydGljbGUtc3lzdGVtL2dlbmVyYXRvci9waG90b24tZ2VuZXJhdG9yXCI7XHJcbmltcG9ydCB7IElSYXlUcmFjaW5nQ3VzdG9taXplciB9IGZyb20gXCIuL3JheXRyYWNpbmcvcGFydGljbGUtc3lzdGVtLXJheXRyYWNlclwiO1xyXG5pbXBvcnQgeyBJUmF5VHJhY2VhYmxlIH0gZnJvbSBcIi4vcmF5dHJhY2luZy9pLXJheXRyYWNlYWJsZVwiO1xyXG5pbXBvcnQgeyBWaXNpYmxlUGFydGljbGUgfSBmcm9tIFwiLi9wYXJ0aWNsZS1zeXN0ZW0vcGFydGljbGUvdmlzaWJsZS1wYXJ0aWNsZVwiO1xyXG4vKipcclxuICogU3BhY2UgUGFydGljbGUgaXMgdGhlIHBhcnRpY2xlIHRoYXQgd2lsbCByZXZvbHZlIGFyb3VuZCB0aGUgYmxhY2sgaG9sZVxyXG4gKiBJdCB3aWxsIGhvbGQgdGhlIHZpc2libGUgcGFydGljbGUgY2xhcyBmb3Igbm93IHRvIHNob3cgdGhlIHBhcnRpY2xlXHJcbiAqIEJ1dCB3aWxsIGJlIHN3aXRjaGVkIG91dCBmb3IgYSBwYXJ0aWNsZSB0aGF0IGVtaXRzIHBob3RvbnMgaW50byB0aGUgc3lzdGVtXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU3BhY2VQYXJ0aWNsZSBpbXBsZW1lbnRzIElQYXJ0aWNsZSwgSVJheVRyYWNlYWJsZSB7XHJcbiAgICBwYXJ0aWNsZTogUGFydGljbGU7XHJcbiAgICBnZW5lcmF0b3I6IElQYXJ0aWNsZUdlbmVyYXRvcjtcclxuICAgIHBzOiBQYXJ0aWNsZVN5c3RlbTtcclxuICAgIHN0YXRpYyByZWFkb25seSBQSE9UT04gPSAxMDEwO1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFNjZW5lLCBtYXNzOiBudW1iZXIsIHBzOiBQYXJ0aWNsZVN5c3RlbSwgdW5pdHM6IFNjYWxlZFVuaXRzKSB7XHJcbiAgICAgICAgLy8gdGhpcy5wYXJ0aWNsZSA9IG5ldyBWaXNpYmxlUGFydGljbGUoc2NlbmUsIFwicFwiLCBcIiNmZjAwMDBcIiwgMC4yMSwgbWFzcyk7XHJcbiAgICAgICAgdGhpcy5wYXJ0aWNsZSA9IG5ldyBQYXJ0aWNsZShtYXNzLCAwLjIxKTtcclxuICAgICAgICBjb25zdCBwaG90b25HZW5lcmF0b3IgPSBuZXcgUGhvdG9uR2VuZXJhdG9yKCk7XHJcbiAgICAgICAgcGhvdG9uR2VuZXJhdG9yLnNldFNwZWVkT2ZMaWdodCh1bml0cy5nZXRTY2FsZWRWZWxvY2l0eShwaG90b25HZW5lcmF0b3Iuc3BlZWRPZkxpZ2h0KSk7XHJcbiAgICAgICAgLy8gdGhpcy5nZW5lcmF0b3IgPSBuZXcgVmlzaWJsZVBhcnRpY2xlR2VuZXJhdG9yKHNjZW5lLCAwLjEsIFwiI2ZmZmYwMFwiLCBwaG90b25HZW5lcmF0b3IpO1xyXG4gICAgICAgIHRoaXMuZ2VuZXJhdG9yID0gcGhvdG9uR2VuZXJhdG9yO1xyXG4gICAgICAgIHRoaXMucHMgPSBwcztcclxuICAgIH1cclxuICAgIGludGVyc2VjdHNXaXRoQm94KGZyb206IFZlY3RvcjMsIHRvOiBWZWN0b3IzKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFydGljbGUuaW50ZXJzZWN0c1dpdGhCb3goZnJvbSwgdG8pO1xyXG4gICAgfVxyXG4gICAgc2V0UmFkaXVzKHI6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFydGljbGUuc2V0UmFkaXVzKHIpO1xyXG4gICAgfVxyXG4gICAgaW50ZXJzZWN0c1dpdGhSYXkoZnJvbTogVmVjdG9yMywgdG86IFZlY3RvcjMsIHJhZGl1czogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFydGljbGUuaW50ZXJzZWN0c1dpdGhSYXkoZnJvbSwgdG8sIHJhZGl1cyk7XHJcbiAgICB9XHJcbiAgICBpc0FsaXZlKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcnRpY2xlLmlzQWxpdmUoKTtcclxuICAgIH1cclxuICAgIGNvcHkocDogSVBhcnRpY2xlKSB7XHJcbiAgICAgICAgdGhpcy5wYXJ0aWNsZS5jb3B5KHApO1xyXG4gICAgfVxyXG4gICAgc2V0VHlwZSh0eXBlOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcnRpY2xlLnNldFR5cGUodHlwZSk7XHJcbiAgICB9XHJcbiAgICBnZXRUeXBlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFydGljbGUuZ2V0VHlwZSgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZSBwaG90b25zXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICAvLyBpZiAoTWF0aC5yYW5kb20oKSA+IDAuOTkpIHtcclxuICAgICAgICAvLyAgICAgY29uc3QgcGhvdG9uID0gdGhpcy5nZW5lcmF0b3IuZ2VuZXJhdGUoKTtcclxuICAgICAgICAvLyAgICAgY29uc3QgcG9zID0gdGhpcy5nZXRQb3NpdGlvbigpO1xyXG4gICAgICAgIC8vICAgICBwaG90b24uc2V0UG9zaXRpb24ocG9zLngsIHBvcy55LCBwb3Mueik7XHJcbiAgICAgICAgLy8gICAgIC8vIGNvbnNvbGUubG9nKHBob3Rvbi5nZXRNYXNzKCkpO1xyXG4gICAgICAgIC8vICAgICB0aGlzLnBzLmFkZFBhcnRpY2xlKHBob3Rvbik7ICAgIFxyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxuICAgIGdldE1hc3MoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYXJ0aWNsZS5nZXRNYXNzKCk7XHJcbiAgICB9XHJcbiAgICBzZXRNYXNzKG1hc3M6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMucGFydGljbGUuc2V0TWFzcyhtYXNzKTtcclxuICAgIH1cclxuICAgIGdldFZlbG9jaXR5KCk6IFZlY3RvcjMge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcnRpY2xlLmdldFZlbG9jaXR5KCk7XHJcbiAgICB9XHJcbiAgICBnZXRQb3NpdGlvbigpOiBWZWN0b3IzIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYXJ0aWNsZS5nZXRQb3NpdGlvbigpO1xyXG4gICAgfVxyXG4gICAgc2V0VmVsb2NpdHkoeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlcik6IFZlY3RvcjMge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcnRpY2xlLnNldFZlbG9jaXR5KHgsIHksIHopO1xyXG4gICAgfVxyXG4gICAgZ2V0UmFkaXVzKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFydGljbGUuZ2V0UmFkaXVzKCk7XHJcbiAgICB9XHJcbiAgICBnZXRMaWZlc3BhbigpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcnRpY2xlLmdldExpZmVzcGFuKCk7XHJcbiAgICB9XHJcbiAgICBzZXRMaWZlc3BhbihsOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcnRpY2xlLnNldExpZmVzcGFuKGwpO1xyXG4gICAgfVxyXG4gICAgZ2V0QWdlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFydGljbGUuZ2V0QWdlKCk7XHJcbiAgICB9XHJcbiAgICBzZXRBZ2UoYTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYXJ0aWNsZS5zZXRBZ2UoYSk7XHJcbiAgICB9XHJcbiAgICBvbkRlYXRoKCkge1xyXG4gICAgICAgIHRoaXMucGFydGljbGUub25EZWF0aCgpO1xyXG4gICAgfVxyXG4gICAgc2V0UG9zaXRpb24oeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlcik6IFZlY3RvcjMge1xyXG4gICAgICAgIHRoaXMuZ2VuZXJhdG9yLnNldFBvc2l0aW9uKG5ldyBWZWN0b3IzKHgsIHksIHopKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYXJ0aWNsZS5zZXRQb3NpdGlvbih4LCB5LCB6KTtcclxuXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTcGFjZVBhcnRpY2xlR2VuZXJhdG9yIGV4dGVuZHMgUGFydGljbGVHZW5lcmF0b3Ige1xyXG4gICAgc2NlbmU6IFNjZW5lO1xyXG4gICAgcHM6IFBhcnRpY2xlU3lzdGVtO1xyXG4gICAgdW5pdHM6IFNjYWxlZFVuaXRzO1xyXG4gICAgZ2VuZXJhdG9yOiBJUGFydGljbGVHZW5lcmF0b3I7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZTogU2NlbmUsIHBzOiBQYXJ0aWNsZVN5c3RlbSwgdW5pdHM6IFNjYWxlZFVuaXRzLCBnZW5lcmF0b3I6IElQYXJ0aWNsZUdlbmVyYXRvcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMucHMgPSBwcztcclxuICAgICAgICB0aGlzLnVuaXRzID0gdW5pdHM7XHJcbiAgICAgICAgdGhpcy5nZW5lcmF0b3IgPSBnZW5lcmF0b3I7XHJcbiAgICB9XHJcbiAgICBzZXRHZW5lcmF0b3IoZ2VuZXJhdG9yOiBQYXJ0aWNsZUdlbmVyYXRvcikge1xyXG4gICAgICAgIHRoaXMuZ2VuZXJhdG9yID0gZ2VuZXJhdG9yO1xyXG4gICAgfVxyXG4gICAgZ2VuZXJhdGUoKTogSVBhcnRpY2xlIHtcclxuICAgICAgICBsZXQgcGFydGljbGU6IElQYXJ0aWNsZTtcclxuICAgICAgICBpZiAodGhpcy5nZW5lcmF0b3IpIHtcclxuICAgICAgICAgICAgcGFydGljbGUgPSB0aGlzLmdlbmVyYXRvci5nZW5lcmF0ZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBhcnRpY2xlID0gc3VwZXIuZ2VuZXJhdGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHNwYWNlX3BhcnRpY2xlID0gbmV3IFNwYWNlUGFydGljbGUodGhpcy5zY2VuZSwgcGFydGljbGUuZ2V0TWFzcygpLCB0aGlzLnBzLCB0aGlzLnVuaXRzKTtcclxuICAgICAgICBjb25zdCBwb3MgPSBwYXJ0aWNsZS5nZXRQb3NpdGlvbigpLmFkZCh0aGlzLnBvc2l0aW9uKTtcclxuICAgICAgICBzcGFjZV9wYXJ0aWNsZS5zZXRWZWxvY2l0eShwYXJ0aWNsZS5nZXRWZWxvY2l0eSgpLngsIHBhcnRpY2xlLmdldFZlbG9jaXR5KCkueSwgcGFydGljbGUuZ2V0VmVsb2NpdHkoKS56KTtcclxuICAgICAgICBzcGFjZV9wYXJ0aWNsZS5zZXRQb3NpdGlvbihwb3MueCwgcG9zLnksIHBvcy56KTtcclxuICAgICAgICBzcGFjZV9wYXJ0aWNsZS5zZXRMaWZlc3BhbihwYXJ0aWNsZS5nZXRMaWZlc3BhbigpKTtcclxuICAgICAgICBzcGFjZV9wYXJ0aWNsZS5zZXRUeXBlKHBhcnRpY2xlLmdldFR5cGUoKSk7XHJcbiAgICAgICAgc3BhY2VfcGFydGljbGUuc2V0UmFkaXVzKDIpO1xyXG4gICAgICAgIHJldHVybiBzcGFjZV9wYXJ0aWNsZTtcclxuICAgIH1cclxufVxyXG5cclxuIiwiaW1wb3J0IHsgQmxhY2tIb2xlUGFydGljbGVTeXN0ZW0gfSBmcm9tIFwiLi9ibGFjay1ob2xlLXBhcnRpY2xlLXN5c3RlbVwiO1xyXG5pbXBvcnQgeyBTcGFjZVBhcnRpY2xlR2VuZXJhdG9yIH0gZnJvbSBcIi4vc3BhY2UtcGFydGljbGVcIjtcclxuaW1wb3J0IHsgVmVjdG9yMywgU2NlbmUsIFZlY3RvcjIsIEltYWdlQml0bWFwTG9hZGVyLCBJbWFnZUxvYWRlciwgVGV4dHVyZUxvYWRlciwgVGV4dHVyZSB9IGZyb20gXCJ0aHJlZVwiO1xyXG5pbXBvcnQgeyBTY2FsZWRVbml0cyB9IGZyb20gXCIuL3NjYWxlZC11bml0c1wiO1xyXG5pbXBvcnQgeyBWaXNpYmxlUGFydGljbGUgfSBmcm9tIFwiLi9wYXJ0aWNsZS1zeXN0ZW0vcGFydGljbGUvdmlzaWJsZS1wYXJ0aWNsZVwiO1xyXG5pbXBvcnQgeyBUcmFja2JhbGxDb250cm9scyB9IGZyb20gXCJ0aHJlZS9leGFtcGxlcy9qc20vY29udHJvbHMvVHJhY2tiYWxsQ29udHJvbHNcIjtcclxuaW1wb3J0IHsgUGhvdG9ncmFwaCwgUGhvdG9ncmFwaGljUGxhdGUgfSBmcm9tIFwiLi9yYXl0cmFjaW5nL3Bob3RvZ3JhcGhcIjtcclxuaW1wb3J0IHsgR3Jhdml0eUZvcmNlIH0gZnJvbSBcIi4vcGFydGljbGUtc3lzdGVtL2ZvcmNlcy9ncmF2aXR5LWZvcmNlXCI7XHJcbmltcG9ydCB7IElQYXJ0aWNsZSwgUGFydGljbGUgfSBmcm9tIFwiLi9wYXJ0aWNsZS1zeXN0ZW0vcGFydGljbGUvcGFydGljbGVcIjtcclxuaW1wb3J0IHsgSVBhcnRpY2xlR2VuZXJhdG9yIH0gZnJvbSBcIi4vcGFydGljbGUtc3lzdGVtL2dlbmVyYXRvci9pLXBhcnRpY2xlLWdlbmVyYXRvclwiO1xyXG5pbXBvcnQgeyBFbGxpcHRpY2FsUGFydGljbGVHZW5lcmF0b3IgfSBmcm9tIFwiLi9wYXJ0aWNsZS1zeXN0ZW0vZ2VuZXJhdG9yL2VsbGlwdGljYWwtcGFydGljbGUtZ2VuZXJhdG9yXCI7XHJcbmltcG9ydCB7IFZpc2libGVQYXJ0aWNsZUdlbmVyYXRvciB9IGZyb20gXCIuL3BhcnRpY2xlLXN5c3RlbS9nZW5lcmF0b3IvdmlzaWJsZS1wYXJ0aWNsZS1nZW5lcmF0b3JcIjtcclxuaW1wb3J0IHsgQXJjVmVsb2NpdHlHZW5lcmF0b3IgfSBmcm9tIFwiLi9wYXJ0aWNsZS1zeXN0ZW0vZ2VuZXJhdG9yL3ZlbG9jaXR5LWdlbmVyYXRvcnMvYXJjLXZlbG9jaXR5LWdlbmVyYXRvclwiO1xyXG5pbXBvcnQgeyBSYXlUcmFjaW5nUGhvdG9uR2VuZXJhdG9yLCBSYXlUcmFjZXIgfSBmcm9tIFwiLi9yYXl0cmFjaW5nL3Bpbi1ob2xlLWNhbWVyYS5cIjtcclxuaW1wb3J0IHsgUGFydGljbGVTeXN0ZW1DdXN0b21pemVyLCBJUmF5VHJhY2luZ0N1c3RvbWl6ZXIgfSBmcm9tIFwiLi9yYXl0cmFjaW5nL3BhcnRpY2xlLXN5c3RlbS1yYXl0cmFjZXJcIjtcclxuaW1wb3J0IHsgSVJheVRyYWNlYWJsZSB9IGZyb20gXCIuL3JheXRyYWNpbmcvaS1yYXl0cmFjZWFibGVcIjtcclxuaW1wb3J0IHsgT2N0cmVlIH0gZnJvbSBcIi4vcmF5dHJhY2luZy9jb2xsaXNpb25zL29jdHJlZVwiO1xyXG5pbXBvcnQgeyBUaW1lUHJvZmlsZSB9IGZyb20gXCIuL2JvaWxlcnBsYXRlL3RpbWUtcHJvZmlsZVwiO1xyXG5pbXBvcnQgeyBWYXJpYWJsZVJheUVtaXR0ZXIgfSBmcm9tIFwiLi9yYXl0cmFjaW5nL3ZhcmlhYmxlLXJheS1lbWl0dGVyXCI7XHJcbmltcG9ydCB7IEdyaWRFbWl0dGVyIH0gZnJvbSBcIi4vcmF5dHJhY2luZy9ncmlkLWVtaXR0ZXJcIjtcclxuXHJcbi8qKlxyXG4gKiBUaGlzIGNsYXNzIHdpbGwgZW5jYXBzdWxhdGUgYWxsIHRoZSB0aGluZ3MgbmVlZGVkIHRvIGdldCB0aGUgYmxhY2tcclxuICogaG9sZSBzeXN0ZW0gcnVubmluZ1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEJsYWNrSG9sZVN5c3RlbSB7XHJcbiAgICByZWFkb25seSBNSU5fQUNDUkVUSU9OX0RJU0tfVkVMID0gMTk5NzkyNDU4O1xyXG4gICAgcmVhZG9ubHkgTUFYX0FDQ1JFVElPTl9ESVNLX1ZFTCA9IDI5OTc5MjQ1ODtcclxuICAgIHJlYWRvbmx5IEJMQUNLX0hPTEVfTUFTUyA9IDQuM2U2O1xyXG4gICAgcmVhZG9ubHkgUkVTT0xVVElPTiA9IDUxMjtcclxuICAgIGNvbnRyb2xzOiBUcmFja2JhbGxDb250cm9scztcclxuICAgIHBzOiBCbGFja0hvbGVQYXJ0aWNsZVN5c3RlbTtcclxuICAgIGJsYWNrSG9sZTogVmlzaWJsZVBhcnRpY2xlO1xyXG4gICAgcGFydGljbGVHZW5lcmF0b3I6IElQYXJ0aWNsZUdlbmVyYXRvcjtcclxuICAgIHBhcnRpY2xlR2VuZXJhdG9yMjogSVBhcnRpY2xlR2VuZXJhdG9yO1xyXG4gICAgb2JzdGFjbGVzOiBBcnJheTxJUmF5VHJhY2VhYmxlPjtcclxuICAgIHRvdGFsVGltZSA9IDA7XHJcblxyXG4gICAgY3VzdG9taXplcjogUGFydGljbGVTeXN0ZW1DdXN0b21pemVyO1xyXG4gICAgcmF5dHJhY2VyOiBSYXlUcmFjZXI7XHJcbiAgICB1bml0czogU2NhbGVkVW5pdHM7XHJcbiAgICBwaG90b2dyYXBoOiBQaG90b2dyYXBoO1xyXG4gICAgY291bnQgPSAwO1xyXG4gICAgdGltZUJlZm9yZSA9IDA7XHJcbiAgICBwc3Byb2ZpbGVyIDogVGltZVByb2ZpbGU7XHJcbiAgICB0cmFjZXJwcm9maWxlciA6IFRpbWVQcm9maWxlO1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5wcyA9IG5ldyBCbGFja0hvbGVQYXJ0aWNsZVN5c3RlbSgpO1xyXG4gICAgICAgIHRoaXMucHNwcm9maWxlciA9IG5ldyBUaW1lUHJvZmlsZShcIlBhcnRpY2xlIFN5c3RlbVwiLCAxMDAwKTtcclxuICAgICAgICB0aGlzLnRyYWNlcnByb2ZpbGVyID0gbmV3IFRpbWVQcm9maWxlKFwiUmF5dHJhY2VyXCIsIDEwMDApO1xyXG4gICAgfVxyXG4gICAgaW5pdGlhbGl6ZVN5c3RlbShzY2VuZTogU2NlbmUpIHtcclxuICAgICAgICB0aGlzLnVuaXRzID0gbmV3IFNjYWxlZFVuaXRzKDEuNDk2ZTksIDEuOTg5ZTMwLCAxKTtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnVuaXRzLmdldFNjYWxlZFZlbG9jaXR5KHRoaXMuTUlOX0FDQ1JFVElPTl9ESVNLX1ZFTCkpO1xyXG4gICAgICAgIHRoaXMuYmxhY2tIb2xlID0gbmV3IFZpc2libGVQYXJ0aWNsZShzY2VuZSwgXCJibGFja0hvbGVcIiwgXCIjZmZmZmZmXCIsICAxLCB0aGlzLkJMQUNLX0hPTEVfTUFTUyk7XHJcbiAgICAgICAgLy8gY29uc3QgYmxhY2tIb2xlMiA9IG5ldyBWaXNpYmxlUGFydGljbGUoc2NlbmUsIFwiYmxhY2tIb2xlXCIsIFwiI2ZmZmZmZlwiLCAgMSwgdGhpcy5CTEFDS19IT0xFX01BU1MpO1xyXG4gICAgICAgIC8vIHRoaXMuYmxhY2tIb2xlLnNldFBvc2l0aW9uKDguNDkxMSwgMCwgMCk7XHJcbiAgICAgICAgLy8gYmxhY2tIb2xlMi5zZXRQb3NpdGlvbigtOC40OTExLCAwLCAwKTtcclxuICAgICAgICBjb25zdCBncmF2aXR5ID0gbmV3IEdyYXZpdHlGb3JjZShHcmF2aXR5Rm9yY2UuY2FsY3VsYXRlKHRoaXMudW5pdHMua2dzLCB0aGlzLnVuaXRzLm1ldHJlcywgdGhpcy51bml0cy5zZWNvbmRzKSk7XHJcbiAgICAgICAgdGhpcy5wcy5hZGRGb3JjZShncmF2aXR5KTtcclxuICAgICAgICB0aGlzLnBzLmFkZFBhcnRpY2xlKHRoaXMuYmxhY2tIb2xlKTtcclxuICAgICAgICAvLyB0aGlzLnBzLmFkZFBhcnRpY2xlKGJsYWNrSG9sZTIpO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVBhcnRpY2xlR2VuZXJhdG9yKHNjZW5lKTtcclxuICAgICAgICB0aGlzLnBzLnNldEV2ZW50SG9yaXpvbih0aGlzLmdldFNjaHdhcnpjaGlsZFJhZGl1cygpKTtcclxuICAgICAgICAvLyB0aGlzLnBzLmV2ZW50SG9yaXpvbjIgPSB0aGlzLmdldFNjaHdhcnpjaGlsZFJhZGl1cyh0aGlzLkJMQUNLX0hPTEVfTUFTUyk7XHJcbiAgICAgICAgdGhpcy5wcy5zZXRCb3VuZHMobmV3IFZlY3RvcjMoLTUwLCAtNTAsIC01MCksIG5ldyBWZWN0b3IzKDUwLCA1MCwgMjAwKSk7XHJcbiAgICAgICAgdGhpcy5yYXl0cmFjZXIgPSBuZXcgUmF5VHJhY2VyKHNjZW5lLCBuZXcgVmVjdG9yMygwLCAwLCAxMDApLCBuZXcgVmVjdG9yMygwLCAwLCAtMSksIE1hdGguUEkgLyA4LCB0aGlzLlJFU09MVVRJT04sIHRoaXMudW5pdHMuZ2V0U2NhbGVkVmVsb2NpdHkoMjk5NzkyNDU4KSk7XHJcbiAgICAgICAgLy8gY29uc3QgZ3JpZEVtaXR0ZXIgPSBuZXcgR3JpZEVtaXR0ZXIodGhpcy5yYXl0cmFjZXIsIG5ldyBWZWN0b3IyKHRoaXMuUkVTT0xVVElPTiwgdGhpcy5SRVNPTFVUSU9OKSwgbmV3IFJheVRyYWNpbmdQaG90b25HZW5lcmF0b3Ioc2NlbmUsIHRoaXMudW5pdHMuZ2V0U2NhbGVkVmVsb2NpdHkoMjk5NzkyNDU4KSkpO1xyXG4gICAgICAgIHRoaXMub2JzdGFjbGVzID0gbmV3IEFycmF5PElSYXlUcmFjZWFibGU+KCk7XHJcbiAgICAgICAgdGhpcy5lbWl0UGFydGljbGVzKCk7XHJcbiAgICAgICAgdGhpcy5jdXN0b21pemVyID0gbmV3IFBhcnRpY2xlU3lzdGVtQ3VzdG9taXplcih0aGlzLnBzLCB0aGlzLnJheXRyYWNlciwgdGhpcy5vYnN0YWNsZXMsIDApO1xyXG4gICAgICAgIHRoaXMucmF5dHJhY2VyLnNldEN1c3RvbWl6ZXIodGhpcy5jdXN0b21pemVyKVxyXG4gICAgICAgIHRoaXMucmF5dHJhY2VyLmVtaXRQaG90b25zKCk7XHJcbiAgICAgICAgLy8gdGhpcy5yYXl0cmFjZXIuZW1pdFBob3RvbnMoZ3JpZEVtaXR0ZXIpO1xyXG4gICAgICAgIHNjZW5lLmFkZCh0aGlzLnJheXRyYWNlci5nZXRQaG90bygpKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdGVzdE9jdHJlZSgpIHtcclxuICAgICAgICBsZXQgcGFydGljbGUgPSBuZXcgUGFydGljbGUoKTtcclxuICAgICAgICBwYXJ0aWNsZS5zZXRQb3NpdGlvbigtMTAsIC0xMCwgLTEwKTtcclxuICAgICAgICB0aGlzLm9ic3RhY2xlcy5wdXNoKHBhcnRpY2xlKTtcclxuICAgICAgICBwYXJ0aWNsZSA9IG5ldyBQYXJ0aWNsZSgpO1xyXG4gICAgICAgIHBhcnRpY2xlLnNldFBvc2l0aW9uKDEwLCAxMCwgMTApO1xyXG4gICAgICAgIHRoaXMub2JzdGFjbGVzLnB1c2gocGFydGljbGUpO1xyXG4gICAgICAgIHBhcnRpY2xlID0gbmV3IFBhcnRpY2xlKCk7XHJcbiAgICAgICAgcGFydGljbGUuc2V0UG9zaXRpb24oLTEwLCAtMTAsIDEwKTtcclxuICAgICAgICB0aGlzLm9ic3RhY2xlcy5wdXNoKHBhcnRpY2xlKTtcclxuICAgICAgICBwYXJ0aWNsZSA9IG5ldyBQYXJ0aWNsZSgpO1xyXG4gICAgICAgIHBhcnRpY2xlLnNldFBvc2l0aW9uKC0xMCwgMTAsIDEwKTtcclxuICAgICAgICB0aGlzLm9ic3RhY2xlcy5wdXNoKHBhcnRpY2xlKTtcclxuICAgICAgICBjb25zdCBvY3RyZWUgPSBuZXcgT2N0cmVlKHRoaXMub2JzdGFjbGVzLCBuZXcgVmVjdG9yMygtMjAsIC0yMCwgLTIwKSwgbmV3IFZlY3RvcjMoMjAsIDIwLCAyMCkpO1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IG9jdHJlZS5maW5kKHBhcnRpY2xlLmdldFBvc2l0aW9uKCkpIDtcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIGdldFNjaHdhcnpjaGlsZFJhZGl1cyhtYXNzID0gdGhpcy5CTEFDS19IT0xFX01BU1MpIHtcclxuICAgICAgICBjb25zdCBjID0gdGhpcy51bml0cy5nZXRTY2FsZWRWZWxvY2l0eSgyOTk3OTI0NTgpO1xyXG4gICAgICAgIGNvbnN0IGdyYXZpdHkgPSBuZXcgR3Jhdml0eUZvcmNlKEdyYXZpdHlGb3JjZS5jYWxjdWxhdGUodGhpcy51bml0cy5rZ3MsIHRoaXMudW5pdHMubWV0cmVzLCB0aGlzLnVuaXRzLnNlY29uZHMpKTtcclxuICAgICAgICBjb25zdCByYWRpdXMgPSAyICogZ3Jhdml0eS5HICogdGhpcy5CTEFDS19IT0xFX01BU1MgLyAoYyAqIGMpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiVGhlIFNjaHdhcnpjaGlsZCBSYWRpdXMgaXMgXCIsIHJhZGl1cyk7XHJcbiAgICAgICAgcmV0dXJuIHJhZGl1c1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRpYWxpemVQYXJ0aWNsZUdlbmVyYXRvcihzY2VuZTogU2NlbmUpIHtcclxuICAgICAgICBjb25zdCByYWRpdXMgPSB0aGlzLmdldFNjaHdhcnpjaGlsZFJhZGl1cygpO1xyXG4gICAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSAxLjU7XHJcbiAgICAgICAgY29uc3QgZ2VuZXJhdG9yID0gbmV3IEVsbGlwdGljYWxQYXJ0aWNsZUdlbmVyYXRvcihtdWx0aXBsaWVyICogcmFkaXVzLCBtdWx0aXBsaWVyICogcmFkaXVzLCB0aGlzLmJsYWNrSG9sZS5nZXRQb3NpdGlvbigpLFxyXG4gICAgICAgICAgICBuZXcgVmVjdG9yMygxLCAwLCAwKSwgbmV3IFZlY3RvcjMoMCwgMCwgMSksIG5ldyBWZWN0b3IzKDAsIC0xLCAwKSwgdGhpcy51bml0cy5nZXRTY2FsZWRWZWxvY2l0eSh0aGlzLk1JTl9BQ0NSRVRJT05fRElTS19WRUwpKTtcclxuICAgICAgICBnZW5lcmF0b3Iuc2V0UGFyYW1ldGVycygwLjAwMDEsIDAuMDAwMTUsIDApO1xyXG4gICAgICAgIGdlbmVyYXRvci5zZXRXaWR0aCgzICogcmFkaXVzKTtcclxuXHJcbiAgICAgICAgY29uc3QgcGFydGljbGVHZW5lcmF0b3IgPSBuZXcgU3BhY2VQYXJ0aWNsZUdlbmVyYXRvcihzY2VuZSwgdGhpcy5wcywgdGhpcy51bml0cywgZ2VuZXJhdG9yKTtcclxuICAgICAgICB0aGlzLnBhcnRpY2xlR2VuZXJhdG9yID0gcGFydGljbGVHZW5lcmF0b3I7XHJcbiAgICAgICAgdGhpcy5wYXJ0aWNsZUdlbmVyYXRvci5zZXRQb3NpdGlvbihuZXcgVmVjdG9yMygwLCAwLCAwKSk7XHJcbiAgICAgICAgdGhpcy5ibGFja0hvbGUuYWRkTGlnaHRTb3VyY2UoXCIjZmZmZmZmXCIpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKHRpbWVfc3RlcDogbnVtYmVyKSB7XHJcbiAgICAgICAgY29uc3QgTl9JVEVSQVRJT05TID0gMTAwO1xyXG4gICAgICAgIGNvbnN0IHRpbWVfYmVmb3JlID0gdGhpcy50b3RhbFRpbWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOX0lURVJBVElPTlM7IGkrKykge1xyXG4gICAgICAgICAgICAvLyB0aGlzLnBzcHJvZmlsZXIuc3RhcnQoKTtcclxuICAgICAgICAgICAgdGhpcy5wcy51cGRhdGUodGltZV9zdGVwKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5wc3Byb2ZpbGVyLnN0b3AoKTtcclxuICAgICAgICAgICAgLy8gdGhpcy50cmFjZXJwcm9maWxlci5zdGFydCgpO1xyXG4gICAgICAgICAgICB0aGlzLmN1c3RvbWl6ZXIuc2V0VGltZVN0ZXAodGltZV9zdGVwKTtcclxuICAgICAgICAgICAgdGhpcy5yYXl0cmFjZXIudXBkYXRlKCk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMudHJhY2VycHJvZmlsZXIuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnRvdGFsVGltZSArPSB0aW1lX3N0ZXA7XHJcbiAgICAgICAgICAgIC8vIGlmICh0aGlzLnRvdGFsVGltZSAtIHRoaXMudGltZUJlZm9yZSA+IDUwMCkge1xyXG4gICAgICAgICAgICAvLyAgICAgdGhpcy5yYXl0cmFjZXIuZW1pdFBob3RvbnMoKTtcclxuICAgICAgICAgICAgLy8gICAgIHRoaXMudGltZUJlZm9yZSA9IHRoaXMudG90YWxUaW1lO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGVtaXRQYXJ0aWNsZXMoKSB7XHJcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcclxuICAgICAgICBjb25zdCBQQVJUSUNMRV9DT1VOVCA9IDEwMDtcclxuICAgICAgICB3aGlsZShjb3VudCA8IFBBUlRJQ0xFX0NPVU5UKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcnRpY2xlID0gdGhpcy5wYXJ0aWNsZUdlbmVyYXRvci5nZW5lcmF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnBzLmFkZFBhcnRpY2xlKHBhcnRpY2xlKTtcclxuICAgICAgICAgICAgdGhpcy5vYnN0YWNsZXMucHVzaChwYXJ0aWNsZSBhcyBhbnkgYXMgSVJheVRyYWNlYWJsZSk7XHJcbiAgICAgICAgICAgIGNvdW50Kys7XHJcbiAgICAgICAgfSBcclxuICAgIH1cclxuICAgIHNjYWxlVmVsb2NpdHkocGFydGljbGU6IElQYXJ0aWNsZSkge1xyXG4gICAgICAgIGNvbnN0IG1hZyA9IHRoaXMudW5pdHMuZ2V0U2NhbGVkVmVsb2NpdHkocGFydGljbGUuZ2V0VmVsb2NpdHkoKS5sZW5ndGgoKSk7XHJcbiAgICAgICAgY29uc3QgdmVsID0gcGFydGljbGUuZ2V0VmVsb2NpdHkoKS5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcihtYWcpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHZlbCk7XHJcbiAgICAgICAgcGFydGljbGUuc2V0VmVsb2NpdHkodmVsLngsIHZlbC55LCB2ZWwueik7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQm9pbGVycGxhdGUgfSBmcm9tIFwiLi9ib2lsZXJwbGF0ZS9ib2lsZXJwbGF0ZVwiO1xyXG5pbXBvcnQgeyBCbGFja0hvbGVTeXN0ZW0gfSBmcm9tIFwiLi9ibGFjay1ob2xlLXN5c3RlbVwiO1xyXG5pbXBvcnQgeyBUcmFja2JhbGxDb250cm9scyB9IGZyb20gXCJ0aHJlZS9leGFtcGxlcy9qc20vY29udHJvbHMvVHJhY2tiYWxsQ29udHJvbHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBCbGFja0hvbGVTdGFydGVyIGV4dGVuZHMgQm9pbGVycGxhdGUge1xyXG4gICAgc3lzdGVtOiBCbGFja0hvbGVTeXN0ZW07XHJcbiAgICB0aW1lX3N0ZXA6IG51bWJlcjtcclxuICAgIGNvbnRyb2xzOiBUcmFja2JhbGxDb250cm9scztcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuICAgIHBvc3RJbml0SG9vaygpIHtcclxuICAgICAgICB0aGlzLnN5c3RlbSA9IG5ldyBCbGFja0hvbGVTeXN0ZW0odGhpcy5zY2VuZSk7XHJcbiAgICAgICAgdGhpcy5zeXN0ZW0uaW5pdGlhbGl6ZVN5c3RlbSh0aGlzLnNjZW5lKTtcclxuICAgICAgICB0aGlzLmNvbnRyb2xzID0gbmV3IFRyYWNrYmFsbENvbnRyb2xzKHRoaXMuY2FtZXJhLCB0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGFuaW1hdGVIb29rKCkge1xyXG4gICAgICAgIHRoaXMudGltZV9zdGVwID0gMC4wNjtcclxuICAgICAgICB0aGlzLnN5c3RlbS51cGRhdGUodGhpcy50aW1lX3N0ZXApO1xyXG4gICAgICAgIHRoaXMuY29udHJvbHMudXBkYXRlKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBJUGFydGljbGUgfSBmcm9tIFwiLi9wYXJ0aWNsZS9wYXJ0aWNsZVwiO1xyXG5pbXBvcnQgeyBJRm9yY2UgfSBmcm9tIFwiLi9mb3JjZXMvSS1mb3JjZVwiO1xyXG5pbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSBcInRocmVlXCI7XHJcbmltcG9ydCB7IFRpbWVQcm9maWxlciB9IGZyb20gXCIuLi9ib2lsZXJwbGF0ZS90aW1lLXByb2ZpbGVyXCI7XHJcblxyXG4vKipcclxuICogSG9sZHMgdGhlIGRlcml2YXRpdmUgb2YgYSBxdWFudGl0eVxyXG4gKiBXZSBzaG91bGQgYmUgYWJsZSB0byBzcGVjaWZ5IHRoZSBUWVBFIG9mIGEgZGVyaXZhdGl2ZSBleHBsaWNpdGx5IGluc3RlYWQgb2YgYXNzdW1pbmdcclxuICogaXQgd2lsbCBhbHdheXMgYmUgNiBudW1iZXJzLiBcclxuICogVE9ETzogbWFrZSB0aGlzIGdlbmVyaWNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBQYXJ0aWNsZURlcml2YXRpdmUge1xyXG4gICAgZGVyaXZhdGl2ZTogQXJyYXk8QXJyYXk8bnVtYmVyPj47XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmRlcml2YXRpdmUgPSBuZXcgQXJyYXk8QXJyYXk8bnVtYmVyPj4oKTtcclxuICAgIH1cclxuICAgIGxlbmd0aCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRlcml2YXRpdmUubGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgYWRkUGFydGljbGUoKSB7XHJcbiAgICAgICAgdGhpcy5kZXJpdmF0aXZlLnB1c2gobmV3IEFycmF5PG51bWJlcj4oMCwgMCwgMCwgMCwgMCwgMCkpO1xyXG4gICAgfVxyXG4gICAgYWRkKGk6IG51bWJlciwgaXRlbXM6IEFycmF5PG51bWJlcj4pIHtcclxuICAgICAgICAvLyBDb3VsZCB0aGlzIGJlIGZhc3Rlcj9cclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGl0ZW1zLmxlbmd0aDsgaisrKVxyXG4gICAgICAgICAgICB0aGlzLmRlcml2YXRpdmVbaV1bal0gKz0gaXRlbXNbal07XHJcbiAgICB9XHJcbiAgICByZW1vdmUoaTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5kZXJpdmF0aXZlLnNwbGljZShpLCAxKTtcclxuICAgIH1cclxuICAgIGNsZWFyKCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kZXJpdmF0aXZlLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuZGVyaXZhdGl2ZVtpXS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZXJpdmF0aXZlW2ldW2pdID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2V0KGk6IG51bWJlciwgaXRlbXM6IEFycmF5PG51bWJlcj4pIHtcclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGl0ZW1zLmxlbmd0aDsgaisrKVxyXG4gICAgICAgICAgICB0aGlzLmRlcml2YXRpdmVbaV1bal0gPSBpdGVtc1tqXTtcclxuXHJcbiAgICB9XHJcbiAgICBzY2FsZShuOiBudW1iZXIpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZGVyaXZhdGl2ZS5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmRlcml2YXRpdmVbaV0ubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVyaXZhdGl2ZVtpXVtqXSAqPSBuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXQoaTogbnVtYmVyKTogQXJyYXk8bnVtYmVyPiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVyaXZhdGl2ZVtpXTtcclxuICAgIH1cclxuICAgIHByaW50KCkge1xyXG4gICAgICAgIHRoaXMuZGVyaXZhdGl2ZS5mb3JFYWNoKChwLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUGFydGljbGUgXCIgKyBpKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJWZWxvY2l0eSBcIiwgcFswXSwgcFsxXSwgcFsyXSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQWNjZWxlcmF0aW9uIFwiLCBwWzNdLCBwWzRdLCBwWzVdKTtcclxuXHJcbiAgICAgICAgfSwgdGhpcyk7XHJcbiAgICB9XHJcbiAgICBwcmludENvdW50KCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZGVyaXZhdGl2ZS5sZW5ndGgpO1xyXG4gICAgfVxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLmRlcml2YXRpdmUuZm9yRWFjaCgocCkgPT4ge1xyXG4gICAgICAgICAgICBwID0gW107XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5kZXJpdmF0aXZlID0gW107XHJcbiAgICB9XHJcbiAgICBjbG9uZShjYWNoZT86IFBhcnRpY2xlRGVyaXZhdGl2ZSk6IFBhcnRpY2xlRGVyaXZhdGl2ZSB7XHJcbiAgICAgICAgaWYgKGNhY2hlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhY2hlQ2xvbmUoY2FjaGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjb3B5ID0gbmV3IFBhcnRpY2xlRGVyaXZhdGl2ZSgpO1xyXG4gICAgICAgIHRoaXMuZGVyaXZhdGl2ZS5mb3JFYWNoKChwLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGNvcHkuYWRkUGFydGljbGUoKTtcclxuICAgICAgICAgICAgY29weS5hZGQoaSwgcCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGNvcHk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEhvcGluZyB0aGF0IHRoaXMgd291bGQgc3BlZWQgdXAgY2xvbmluZyBieSBqdXN0IGNvcHlpbmcgYW5kXHJcbiAgICAgKiBub3QgaGF2aW5nIHRvIGFsbG9jYXRlXHJcbiAgICAgKiBDYXVzZXMgYSBtYXJnaW5hbCBpbXByb3ZlbWVudCAoMTUlKVxyXG4gICAgICogQHBhcmFtIGNhY2hlIEFuIGFscmVhZHkgYWxsb2NhdGVkIGFycmF5XHJcbiAgICAgKi9cclxuICAgIGNhY2hlQ2xvbmUoY2FjaGU6IFBhcnRpY2xlRGVyaXZhdGl2ZSk6IFBhcnRpY2xlRGVyaXZhdGl2ZSB7XHJcbiAgICAgICAgdGhpcy5kZXJpdmF0aXZlLmZvckVhY2goKHAsIGkpID0+IHtcclxuICAgICAgICAgICAgY2FjaGUuYWRkKGksIHApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBjYWNoZTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogVGhlIFBhcnRpY2xlU3lzdGVtIGNsYXNzIHRha2VzIGFuIGFycmF5IG9mIHBhcnRpY2xlcyBhbmQgdXBkYXRlc1xyXG4gKiB0aGVtIGdpdmVuIHNvbWUgcnVsZXNcclxuICogVGhlc2UgcnVsZXMgd2lsbCBiZSBkZWZpbmVkIGJ5IHRoZSBmb3JjZXMgdGhhdCBhY3Qgb24gdGhlc2UgcGFydGljbGVzXHJcbiAqIHdoaWNoIHdpbGwgYmUgaGVsZCBpbiB0aGUgZm9yY2VzIGFycmF5XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUGFydGljbGVTeXN0ZW0ge1xyXG4gICAgcHJvdGVjdGVkIHBhcnRpY2xlczogQXJyYXk8SVBhcnRpY2xlPjtcclxuICAgIGZvcmNlczogQXJyYXk8SUZvcmNlPjtcclxuICAgIHByb3RlY3RlZCBkZXJpdmF0aXZlOiBQYXJ0aWNsZURlcml2YXRpdmU7XHJcbiAgICBwcml2YXRlIG1pbkJvdW5kczogVmVjdG9yMztcclxuICAgIHByaXZhdGUgbWF4Qm91bmRzOiBWZWN0b3IzO1xyXG4gICAgcHJpdmF0ZSBwcm9maWxlcjogVGltZVByb2ZpbGVyO1xyXG4gICAgcHJpdmF0ZSBkZXJpdmF0aXZlQ2FjaGVzOiBBcnJheTxQYXJ0aWNsZURlcml2YXRpdmU+O1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5wYXJ0aWNsZXMgPSBuZXcgQXJyYXk8SVBhcnRpY2xlPigpO1xyXG4gICAgICAgIHRoaXMuZGVyaXZhdGl2ZSA9IG5ldyBQYXJ0aWNsZURlcml2YXRpdmUoKTtcclxuICAgICAgICB0aGlzLmZvcmNlcyA9IG5ldyBBcnJheTxJRm9yY2U+KCk7XHJcbiAgICAgICAgdGhpcy5wcm9maWxlciA9IG5ldyBUaW1lUHJvZmlsZXIoKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUNhY2hlcygpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlQ2FjaGVzKCkge1xyXG4gICAgICAgIHRoaXMuZGVyaXZhdGl2ZUNhY2hlcyA9IG5ldyBBcnJheTxQYXJ0aWNsZURlcml2YXRpdmU+KDQpO1xyXG4gICAgICAgIGZvciAobGV0IHUgPSAwOyB1IDwgNDsgdSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVyaXZhdGl2ZUNhY2hlc1t1XSA9IG5ldyBQYXJ0aWNsZURlcml2YXRpdmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhZGRQYXJ0aWNsZShwYXJ0aWNsZTogSVBhcnRpY2xlKSB7XHJcbiAgICAgICAgdGhpcy5wYXJ0aWNsZXMucHVzaChwYXJ0aWNsZSk7XHJcbiAgICAgICAgdGhpcy5kZXJpdmF0aXZlLmFkZFBhcnRpY2xlKCk7XHJcbiAgICAgICAgdGhpcy5kZXJpdmF0aXZlQ2FjaGVzLmZvckVhY2goYyA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRlcml2YXRpdmUubGVuZ3RoKCkgPiBjLmxlbmd0aCgpKSBjLmFkZFBhcnRpY2xlKCk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIHJlbW92ZVBhcnRpY2xlKGk6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMucGFydGljbGVzLnNwbGljZShpLCAxKTtcclxuICAgICAgICB0aGlzLmRlcml2YXRpdmUucmVtb3ZlKGkpO1xyXG4gICAgICAgIC8vIE5vdCByZW1vdmluZyBmcm9tIHRoZSBjYWNoZXMgdW5sZXNzIG5lZWRlZFxyXG4gICAgfVxyXG4gICAgcHJpbnRDT3VudCgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlBhcnRpY2xlIENvdW50ICVzIERlcml2YXRpdmUgY291bnQgJXNcIiwgdGhpcy5wYXJ0aWNsZXMubGVuZ3RoLCB0aGlzLmRlcml2YXRpdmUubGVuZ3RoKCkpO1xyXG5cclxuICAgIH1cclxuICAgIGFkZEZvcmNlKGZvcmNlOiBJRm9yY2UpIHtcclxuICAgICAgICB0aGlzLmZvcmNlcy5wdXNoKGZvcmNlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogV2lsbCBjYWxjdWxhdGUgdGhlIGRlcml2YXRpdmUgb2YgdGhlIHBhcnRpY2xlcyBtb3Rpb24gYW5kIHVwZGF0ZXMgdGhlbVxyXG4gICAgICogYWNjb3JkaW5nIHRvIHRoZSBpbnRlZ3JhdGlvbiBtZXRob2QgKE1pZHBvaW50LCBSSywgRXVsZXIgZXRjKVxyXG4gICAgICogQHBhcmFtIHRpbWVfc3RlcCBUaGUgc3RlcCBieSB3aGljaCB0byBhZHZhbmNlIHRoZSBzeXN0ZW1cclxuICAgICAqL1xyXG4gICAgdXBkYXRlKHRpbWVfc3RlcDogbnVtYmVyKSB7XHJcbiAgICAgICAgLy8gdGhpcy5wcm9maWxlci5zdGFydChcIlJLNFwiLCAxMDAwKTtcclxuICAgICAgICAvLyB0aGlzLnVwZGF0ZVJLNCh0aW1lX3N0ZXApO1xyXG4gICAgICAgIHRoaXMudXBkYXRlTWlkUG9pbnQodGltZV9zdGVwKTtcclxuICAgICAgICAvLyB0aGlzLnByb2ZpbGVyLnN0b3AoXCJSSzRcIiwgMTAwMCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVIb29rKCk7XHJcbiAgICAgICAgdGhpcy5wb3N0VXBkYXRlKCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVQYXJ0aWNsZUxpdmVzKHRpbWVfc3RlcCk7XHJcbiAgICAgICAgdGhpcy5ib3VuZHNDaGVjaygpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlSG9vaygpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcG9zdFVwZGF0ZSgpIHtcclxuICAgICAgICBjb25zdCBsZW4gPSB0aGlzLnBhcnRpY2xlcy5sZW5ndGg7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgaW5kZXggPSBsZW4gLSBpIC0gMTtcclxuICAgICAgICAgICAgbGV0IHAgPSB0aGlzLnBhcnRpY2xlc1tpbmRleF07XHJcbiAgICAgICAgICAgIHAudXBkYXRlKCk7XHJcbiAgICAgICAgICAgIGlmICghcC5pc0FsaXZlKCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlUGFydGljbGUoaW5kZXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2V0Qm91bmRzKG1pbjogVmVjdG9yMywgbWF4OiBWZWN0b3IzKSB7XHJcbiAgICAgICAgdGhpcy5taW5Cb3VuZHMgPSBtaW47XHJcbiAgICAgICAgdGhpcy5tYXhCb3VuZHMgPSBtYXg7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQdXQgdGhpcyBpbiBhIGRpZmZlcmVudCBjbGFzcyB0aGF0IGlzIGFibGUgdG8gZG8gcG9zdCBwcm9jZXNzaW5nIG9uIHBhcnRpY2xlXHJcbiAgICAgKiBzeXN0ZW0gYWZ0ZXIgaXQgaXMgZG9uZSBpbnRlZ3JhdGluZ1xyXG4gICAgICogQHBhcmFtIHRpbWVfc3RlcCBcclxuICAgICAqL1xyXG4gICAgdXBkYXRlUGFydGljbGVMaXZlcyh0aW1lX3N0ZXA6IG51bWJlcikge1xyXG4gICAgICAgIGNvbnN0IGxlbiA9IHRoaXMucGFydGljbGVzLmxlbmd0aDtcclxuICAgICAgICBmb3IgKGxldCBpID0gbGVuIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgbGV0IHBhcnRpY2xlID0gdGhpcy5wYXJ0aWNsZXNbaV07XHJcbiAgICAgICAgICAgIHBhcnRpY2xlLnNldEFnZShwYXJ0aWNsZS5nZXRBZ2UoKSArIHRpbWVfc3RlcCk7XHJcbiAgICAgICAgICAgIGlmIChwYXJ0aWNsZS5nZXRMaWZlc3BhbigpID4gMCAmJiBwYXJ0aWNsZS5nZXRBZ2UoKSA+IHBhcnRpY2xlLmdldExpZmVzcGFuKCkpIHtcclxuICAgICAgICAgICAgICAgIHBhcnRpY2xlLm9uRGVhdGgoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlUGFydGljbGUoaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYm91bmRzQ2hlY2soKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubWluQm91bmRzICYmIHRoaXMubWF4Qm91bmRzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxlbiA9IHRoaXMucGFydGljbGVzLmxlbmd0aDtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGxlbiAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGFydGljbGUgPSB0aGlzLnBhcnRpY2xlc1tpXTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJ0aWNsZS5nZXRQb3NpdGlvbigpLnggPiB0aGlzLm1heEJvdW5kcy54IHx8IHBhcnRpY2xlLmdldFBvc2l0aW9uKCkueSA+IHRoaXMubWF4Qm91bmRzLnlcclxuICAgICAgICAgICAgICAgICAgICB8fCBwYXJ0aWNsZS5nZXRQb3NpdGlvbigpLnggPCB0aGlzLm1pbkJvdW5kcy54IHx8IHBhcnRpY2xlLmdldFBvc2l0aW9uKCkueSA8IHRoaXMubWluQm91bmRzLnlcclxuICAgICAgICAgICAgICAgICAgICB8fCBwYXJ0aWNsZS5nZXRQb3NpdGlvbigpLnogPCB0aGlzLm1pbkJvdW5kcy56IHx8IHBhcnRpY2xlLmdldFBvc2l0aW9uKCkueiA+IHRoaXMubWF4Qm91bmRzLnopIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJ0aWNsZS5vbkRlYXRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVQYXJ0aWNsZShpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgc3RvcmVTdGF0ZSgpOiBBcnJheTxBcnJheTxudW1iZXI+PiB7XHJcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBuZXcgQXJyYXk8QXJyYXk8bnVtYmVyPj4oKTtcclxuICAgICAgICB0aGlzLnBhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZSwgaSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwb3MgPSBwYXJ0aWNsZS5nZXRQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICBjb25zdCB2ID0gcGFydGljbGUuZ2V0VmVsb2NpdHkoKTtcclxuICAgICAgICAgICAgc3RhdGUucHVzaChuZXcgQXJyYXk8bnVtYmVyPihwb3MueCwgcG9zLnksIHBvcy56LCB2LngsIHYueSwgdi56KSk7XHJcbiAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gICAgfVxyXG4gICAgcmVzdG9yZVN0YXRlKHN0YXRlOiBBcnJheTxBcnJheTxudW1iZXI+Pikge1xyXG4gICAgICAgIHRoaXMucGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIHBhcnRpY2xlLnNldFBvc2l0aW9uKHN0YXRlW2ldWzBdLCBzdGF0ZVtpXVsxXSwgc3RhdGVbaV1bMl0pO1xyXG4gICAgICAgICAgICBwYXJ0aWNsZS5zZXRWZWxvY2l0eShzdGF0ZVtpXVszXSwgc3RhdGVbaV1bNF0sIHN0YXRlW2ldWzVdKTtcclxuICAgICAgICB9LCB0aGlzKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZU1pZFBvaW50KHRpbWVfc3RlcDogbnVtYmVyKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0b3JlU3RhdGUoKTtcclxuICAgICAgICB0aGlzLmRlcml2YXRpdmUgPSB0aGlzLmNhbGN1bGF0ZURlcml2YXRpdmUodGhpcy5kZXJpdmF0aXZlKTtcclxuICAgICAgICB0aGlzLmRlcml2YXRpdmUuc2NhbGUodGltZV9zdGVwIC8gMik7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJz09PT09PT09SW50ZXJtZWRpYXRlPT09PT09PScpO1xyXG4gICAgICAgIC8vIHRoaXMuZGVyaXZhdGl2ZS5wcmludCgpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlQWxsUGFydGljbGVzKCk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJy0tLS0tLS0tSW50ZXJtZWRpYXRlIHBhcnRpY2xlLS0tLS0tJyk7XHJcbiAgICAgICAgLy8gdGhpcy5wcmludCgpO1xyXG4gICAgICAgIHRoaXMuZGVyaXZhdGl2ZSA9IHRoaXMuY2FsY3VsYXRlRGVyaXZhdGl2ZSh0aGlzLmRlcml2YXRpdmUpO1xyXG4gICAgICAgIHRoaXMuZGVyaXZhdGl2ZS5zY2FsZSh0aW1lX3N0ZXApO1xyXG4gICAgICAgIHRoaXMucmVzdG9yZVN0YXRlKHN0YXRlKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUFsbFBhcnRpY2xlcygpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlUks0KHRpbWVfc3RlcDogbnVtYmVyKSB7XHJcbiAgICAgICAgY29uc3Qgb2xkRGVyaXZhdGl2ZSA9IHRoaXMuZGVyaXZhdGl2ZTtcclxuICAgICAgICAvLyB0aGlzLnByb2ZpbGVyLnN0YXJ0KFwiUFMgOiBTdG9yZVN0YXRlXCIsIDEwMDApO1xyXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdG9yZVN0YXRlKCk7XHJcbiAgICAgICAgdGhpcy5kZXJpdmF0aXZlQ2FjaGVzWzBdID0gdGhpcy5jYWxjdWxhdGVEZXJpdmF0aXZlKHRoaXMuZGVyaXZhdGl2ZUNhY2hlc1swXSk7XHJcbiAgICAgICAgdGhpcy5kZXJpdmF0aXZlQ2FjaGVzWzBdLnNjYWxlKHRpbWVfc3RlcCAvIDIpO1xyXG4gICAgICAgIGNvbnN0IGsxID0gdGhpcy5kZXJpdmF0aXZlQ2FjaGVzWzBdO1xyXG4gICAgICAgIHRoaXMuZGVyaXZhdGl2ZSA9IGsxO1xyXG4gICAgICAgIHRoaXMudXBkYXRlQWxsUGFydGljbGVzKCk7XHJcbiAgICAgICAgdGhpcy5kZXJpdmF0aXZlQ2FjaGVzWzFdID0gdGhpcy5jYWxjdWxhdGVEZXJpdmF0aXZlKHRoaXMuZGVyaXZhdGl2ZUNhY2hlc1sxXSk7XHJcbiAgICAgICAgdGhpcy5kZXJpdmF0aXZlQ2FjaGVzWzFdLnNjYWxlKHRpbWVfc3RlcCAvIDIpO1xyXG4gICAgICAgIGNvbnN0IGsyID0gdGhpcy5kZXJpdmF0aXZlQ2FjaGVzWzFdO1xyXG4gICAgICAgIHRoaXMuZGVyaXZhdGl2ZSA9IGsyO1xyXG4gICAgICAgIHRoaXMucmVzdG9yZVN0YXRlKHN0YXRlKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUFsbFBhcnRpY2xlcygpO1xyXG4gICAgICAgIHRoaXMuZGVyaXZhdGl2ZUNhY2hlc1syXSA9IHRoaXMuY2FsY3VsYXRlRGVyaXZhdGl2ZSh0aGlzLmRlcml2YXRpdmVDYWNoZXNbMl0pO1xyXG4gICAgICAgIHRoaXMuZGVyaXZhdGl2ZUNhY2hlc1syXS5zY2FsZSh0aW1lX3N0ZXApO1xyXG4gICAgICAgIGNvbnN0IGszID0gdGhpcy5kZXJpdmF0aXZlQ2FjaGVzWzJdO1xyXG4gICAgICAgIHRoaXMuZGVyaXZhdGl2ZSA9IGszO1xyXG4gICAgICAgIHRoaXMucmVzdG9yZVN0YXRlKHN0YXRlKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUFsbFBhcnRpY2xlcygpO1xyXG4gICAgICAgIHRoaXMuZGVyaXZhdGl2ZUNhY2hlc1szXSA9IHRoaXMuY2FsY3VsYXRlRGVyaXZhdGl2ZSh0aGlzLmRlcml2YXRpdmVDYWNoZXNbM10pO1xyXG4gICAgICAgIHRoaXMuZGVyaXZhdGl2ZUNhY2hlc1szXS5zY2FsZSh0aW1lX3N0ZXApO1xyXG4gICAgICAgIGNvbnN0IGs0ID0gdGhpcy5kZXJpdmF0aXZlQ2FjaGVzWzNdO1xyXG4gICAgICAgIC8vIHRoaXMucHJvZmlsZXIuc3RvcChcIlBTIDogU3RvcmVTdGF0ZVwiLCAxMDAwKTtcclxuICAgICAgICAvLyB0aGlzLnByb2ZpbGVyLnN0YXJ0KFwiUFMgOiBSZXN0b3JlU3RhdGVcIiwgMTAwMCk7XHJcbiAgICAgICAgdGhpcy5kZXJpdmF0aXZlID0gazQ7XHJcbiAgICAgICAgdGhpcy5yZXN0b3JlU3RhdGUoc3RhdGUpO1xyXG4gICAgICAgIGsxLnNjYWxlKDEgLyAzKTtcclxuICAgICAgICB0aGlzLmRlcml2YXRpdmUgPSBrMTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUFsbFBhcnRpY2xlcygpO1xyXG4gICAgICAgIGsyLnNjYWxlKDIgLyAzKTtcclxuICAgICAgICB0aGlzLmRlcml2YXRpdmUgPSBrMjtcclxuICAgICAgICB0aGlzLnVwZGF0ZUFsbFBhcnRpY2xlcygpO1xyXG4gICAgICAgIGszLnNjYWxlKDEgLyAzKTtcclxuICAgICAgICB0aGlzLmRlcml2YXRpdmUgPSBrMztcclxuICAgICAgICB0aGlzLnVwZGF0ZUFsbFBhcnRpY2xlcygpO1xyXG4gICAgICAgIGs0LnNjYWxlKDEgLyA2KTtcclxuICAgICAgICB0aGlzLmRlcml2YXRpdmUgPSBrNDtcclxuICAgICAgICB0aGlzLnVwZGF0ZUFsbFBhcnRpY2xlcygpO1xyXG4gICAgICAgIHRoaXMuZGVyaXZhdGl2ZSA9IG9sZERlcml2YXRpdmU7XHJcbiAgICAgICAgLy8gdGhpcy5wcm9maWxlci5zdG9wKFwiUFMgOiBSZXN0b3JlU3RhdGVcIiwgMTAwMCk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgY2FsY3VsYXRlRGVyaXZhdGl2ZShkZXJpdmF0aXZlOiBQYXJ0aWNsZURlcml2YXRpdmUpOiBQYXJ0aWNsZURlcml2YXRpdmUge1xyXG4gICAgICAgIC8vIGNsZWFyIHRoZSBkZXJpdmF0aXZlIGZpcnN0XHJcbiAgICAgICAgZGVyaXZhdGl2ZS5jbGVhcigpO1xyXG4gICAgICAgIHRoaXMucGFydGljbGVzLmZvckVhY2goKHAsIGkpID0+IHtcclxuICAgICAgICAgICAgZGVyaXZhdGl2ZS5hZGQoaSwgW3AuZ2V0VmVsb2NpdHkoKS54LCBwLmdldFZlbG9jaXR5KCkueSwgcC5nZXRWZWxvY2l0eSgpLnosIDAsIDAsIDBdKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMuZm9yY2VzLmZvckVhY2goZm9yY2UgPT4ge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMucGFydGljbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGk7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBmb3JjZXMgPSBmb3JjZS5hcHBseSh0aGlzLnBhcnRpY2xlc1tpXSwgdGhpcy5wYXJ0aWNsZXNbal0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlcml2YXRpdmUuYWRkKGksIFswLCAwLCAwLCBmb3JjZXNbMF0ueCwgZm9yY2VzWzBdLnksIGZvcmNlc1swXS56XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVyaXZhdGl2ZS5hZGQoaiwgWzAsIDAsIDAsIGZvcmNlc1sxXS54LCBmb3JjZXNbMV0ueSwgZm9yY2VzWzFdLnpdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgIHJldHVybiBkZXJpdmF0aXZlO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUFsbFBhcnRpY2xlcygpIHtcclxuICAgICAgICB0aGlzLnBhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZSwgaSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBkID0gdGhpcy5kZXJpdmF0aXZlLmdldChpKTtcclxuICAgICAgICAgICAgY29uc3QgcG9zID0gcGFydGljbGUuZ2V0UG9zaXRpb24oKTtcclxuICAgICAgICAgICAgY29uc3QgdiA9IHBhcnRpY2xlLmdldFZlbG9jaXR5KCk7XHJcbiAgICAgICAgICAgIHBhcnRpY2xlLnNldFBvc2l0aW9uKHBvcy54ICsgZFswXSwgcG9zLnkgKyBkWzFdLCBwb3MueiArIGRbMl0pO1xyXG4gICAgICAgICAgICBwYXJ0aWNsZS5zZXRWZWxvY2l0eSh2LnggKyBkWzNdLCB2LnkgKyBkWzRdLCB2LnogKyBkWzVdKTtcclxuICAgICAgICB9LCB0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmludCgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIi0tLS1QYXJ0aWNsZSBTeXN0ZW0tLS0tLVwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5wYXJ0aWNsZXMuZm9yRWFjaCgocGFydGljbGUsIGkpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVwiKTtcclxuICAgICAgICAgICAgY29uc3QgcG9zID0gcGFydGljbGUuZ2V0UG9zaXRpb24oKTtcclxuICAgICAgICAgICAgY29uc3QgdiA9IHBhcnRpY2xlLmdldFZlbG9jaXR5KCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUGFydGljbGUgXCIgKyBpKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJNYXNzIFwiLCBwYXJ0aWNsZS5nZXRNYXNzKCkpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBvc2l0aW9uIFwiLCBwb3MueCwgcG9zLnksIHBvcy56KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJWZWxvY2l0eSBcIiwgdi54LCB2LnksIHYueik7XHJcbiAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCItLS0tLS0tLS0tLS1YLS0tLS0tLS0tLS1cIik7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaW50RGVyaXZhdGl2ZSgpIHtcclxuICAgICAgICB0aGlzLmRlcml2YXRpdmUucHJpbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMucGFydGljbGVzID0gW107XHJcbiAgICAgICAgdGhpcy5mb3JjZXMgPSBbXTtcclxuICAgICAgICB0aGlzLmRlcml2YXRpdmUuZGVzdHJveSgpO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7IElWZWN0b3JHZW5lcmF0b3IgfSBmcm9tIFwiLi4vaS1wYXJ0aWNsZS1nZW5lcmF0b3JcIjtcclxuaW1wb3J0IHsgTWF0cml4NCwgVmVjdG9yMyB9IGZyb20gXCJ0aHJlZVwiO1xyXG5cclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBwb3NpdGlvbnMgYXMgZGVmaW5lZCBieSBhbiBlbGxpcHNlIG9mIGNlcnRhaW4gd2lkdGhcclxuICovXHJcbmV4cG9ydCBjbGFzcyBFbGxpcHRpY2FsUG9zaXRpb25HZW5lcmF0b3IgaW1wbGVtZW50cyBJVmVjdG9yR2VuZXJhdG9yIHtcclxuICAgIHRyYW5zZm9ybU1hdHJpeCA9IG5ldyBNYXRyaXg0KCk7XHJcbiAgICB0cmFuc2Zvcm1NYXRyaXhJbnYgPSBuZXcgTWF0cml4NCgpO1xyXG4gICAgQTogbnVtYmVyO1xyXG4gICAgQjogbnVtYmVyO1xyXG4gICAgd2lkdGggPSAwO1xyXG4gICAgY29uc3RydWN0b3IoQTogbnVtYmVyLCBCOiBudW1iZXIsIEM/OiBWZWN0b3IzLCB4PzogVmVjdG9yMywgeT86IFZlY3RvcjMsIHo/OiBWZWN0b3IzKSB7XHJcbiAgICAgICAgdGhpcy5BID0gQTtcclxuICAgICAgICB0aGlzLkIgPSBCO1xyXG4gICAgICAgIGlmICh4ICE9PSB1bmRlZmluZWQgJiYgeSAhPT0gdW5kZWZpbmVkICYmIHogIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybU1hdHJpeC5tYWtlQmFzaXMoeCwgeSwgeik7XHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtTWF0cml4LnRyYW5zcG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQykge1xyXG4gICAgICAgICAgICBDLmFwcGx5TWF0cml4NCh0aGlzLnRyYW5zZm9ybU1hdHJpeEludi5nZXRJbnZlcnNlKHRoaXMudHJhbnNmb3JtTWF0cml4KSk7XHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtTWF0cml4LnNldFBvc2l0aW9uKEMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRyYW5zZm9ybU1hdHJpeEludi5nZXRJbnZlcnNlKHRoaXMudHJhbnNmb3JtTWF0cml4KTtcclxuICAgIH1cclxuICAgIHNldFdpZHRoKHdpZHRoOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICB9XHJcbiAgICBnZW5lcmF0ZSgpOiBWZWN0b3IzIHtcclxuICAgICAgICBjb25zdCBwb3MgPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgICAgIHZhciB0aGV0YSA9IE1hdGguUEkgKiAyICogTWF0aC5yYW5kb20oKTtcclxuICAgICAgICAvLyBXb3VsZCBzdGlsbCBiZSB0aHJlZSBjb29yZGluYXRlIGF4ZXNcclxuICAgICAgICB2YXIgcG9zaXRpb24gPSBuZXcgVmVjdG9yMygodGhpcy5BICsgdGhpcy53aWR0aCAqIE1hdGgucmFuZG9tKCkpICogTWF0aC5jb3ModGhldGEpLFxyXG4gICAgICAgICAgICAodGhpcy53aWR0aCAqIE1hdGgucmFuZG9tKCkgKyB0aGlzLkIpICogTWF0aC5zaW4odGhldGEpKTtcclxuICAgICAgICBwb3NpdGlvbi5hcHBseU1hdHJpeDQodGhpcy50cmFuc2Zvcm1NYXRyaXhJbnYpO1xyXG4gICAgICAgIHJldHVybiBwb3NpdGlvbjtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBQaXhlbFJheSB9IGZyb20gXCIuL3BpeGVsLXJheVwiO1xyXG5pbXBvcnQgeyBQYXJ0aWNsZVN5c3RlbSB9IGZyb20gXCIuLi9wYXJ0aWNsZS1zeXN0ZW0vcGFydGljbGUtc3lzdGVtXCI7XHJcbmltcG9ydCB7IFJheVRyYWNpbmdDb2xsaXNpb25NYW5hZ2VyIH0gZnJvbSBcIi4vY29sbGlzaW9uLW1hbmFnZXJcIjtcclxuaW1wb3J0IHsgSVJheVRyYWNlciB9IGZyb20gXCIuL2ktcmF5dHJhY2VyXCI7XHJcbmltcG9ydCB7IElSYXlUcmFjZWFibGUgfSBmcm9tIFwiLi9pLXJheXRyYWNlYWJsZVwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJUmF5VHJhY2luZ0N1c3RvbWl6ZXIge1xyXG4gICAgcG9zdEVtaXQocmF5OiBQaXhlbFJheSk6IGFueTtcclxuICAgIHVwZGF0ZSgpOiBhbnk7XHJcbn1cclxuLyoqXHJcbiAqIExldCdzIHRyeSBhIHBsdWcgYW5kIHBsYXkgYXBwcm9hY2ggaW5zdGVhZCBvZiBleHRlbmRpbmcgdGhlIG1haW4gcmF5LXRyYWNlclxyXG4gKiBUaGF0IHdheSB3ZSBkb24ndCBoYXZlIHRvIG92ZXJyaWRlIGFueSBvZiBpdHMgZXhpc3RpbmcgbWV0aG9kcywga2VlcGluZyB0aGluZ3NcclxuICogc2ltcGxlLlxyXG4gKiBIb3dldmVyLCB3ZSBkb24ndCBnZXQgdG90YWwgYWNjZXNzIHRvIHRoZSBzdXBlciBjbGFzcywgYnV0IG9ubHkgYXQgY2VydGFpbiBwb2ludHNcclxuICogYW5kIHdpdGggY2VydGFpbiB2YXJpYWJsZXNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBQYXJ0aWNsZVN5c3RlbUN1c3RvbWl6ZXIgaW1wbGVtZW50cyBJUmF5VHJhY2luZ0N1c3RvbWl6ZXIge1xyXG4gICAgcHJpdmF0ZSBwYXJ0aWNsZVN5c3RlbTogUGFydGljbGVTeXN0ZW07XHJcbiAgICBwcml2YXRlIHJheXM6IEFycmF5PFBpeGVsUmF5PjtcclxuICAgIHByaXZhdGUgY29sbGlzaW9uTWFuYWdlcjogUmF5VHJhY2luZ0NvbGxpc2lvbk1hbmFnZXI7XHJcbiAgICByYXl0cmFjZXI6IElSYXlUcmFjZXI7XHJcbiAgICBwcml2YXRlIHRpbWVfc3RlcDogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBzOiBQYXJ0aWNsZVN5c3RlbSwgcmF5dHJhY2VyOiBJUmF5VHJhY2VyLCBvYnN0YWNsZXM6IEFycmF5PElSYXlUcmFjZWFibGU+LCB0aW1lX3N0ZXA6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMucmF5cyA9IG5ldyBBcnJheTxQaXhlbFJheT4oKTtcclxuICAgICAgICB0aGlzLnBhcnRpY2xlU3lzdGVtID0gcHM7XHJcbiAgICAgICAgdGhpcy5jb2xsaXNpb25NYW5hZ2VyID0gbmV3IFJheVRyYWNpbmdDb2xsaXNpb25NYW5hZ2VyKHJheXRyYWNlcik7XHJcbiAgICAgICAgdGhpcy5jb2xsaXNpb25NYW5hZ2VyLnNldFJheXModGhpcy5yYXlzKTtcclxuICAgICAgICB0aGlzLnRpbWVfc3RlcCA9IHRpbWVfc3RlcDtcclxuICAgICAgICB0aGlzLmNvbGxpc2lvbk1hbmFnZXIuc2V0T2JzdGFjbGVzKG9ic3RhY2xlcylcclxuICAgICAgICB0aGlzLnJheXRyYWNlciA9IHJheXRyYWNlcjtcclxuICAgIH1cclxuICAgIHBvc3RFbWl0KHJheTogUGl4ZWxSYXkpOiBhbnkge1xyXG4gICAgICAgIGlmIChyYXkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLnBhcnRpY2xlU3lzdGVtLmFkZFBhcnRpY2xlKHJheSk7XHJcbiAgICAgICAgICAgIHRoaXMucmF5cy5wdXNoKHJheSk7ICAgIFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNldFRpbWVTdGVwKHRpbWVfc3RlcDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy50aW1lX3N0ZXAgPSB0aW1lX3N0ZXA7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgLy8gdGhpcyBpcyBub3QgZ29vZC4gVGhpcyBuZWVkcyB0byBiZSBtYW5hZ2VkIHNvbWV3aGVyZSBlbHNlXHJcbiAgICAgICAgY29uc3QgbGVuID0gdGhpcy5yYXlzLmxlbmd0aDtcclxuICAgICAgICBmb3IgKGxldCBpID0gbGVuIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgY29uc3QgcmF5ID0gdGhpcy5yYXlzW2ldO1xyXG4gICAgICAgICAgICBpZiAoIXJheS5pc0FsaXZlKCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmF5cy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJheXRyYWNlci5lbWl0RnJvbShyYXkuZ2V0T3JpZ2luUGl4ZWwoKS54LCByYXkuZ2V0T3JpZ2luUGl4ZWwoKS55KTsgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5yYXl0cmFjZXIuZW1pdEZyb21SYW5kb21QaXhlbCgpOyAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLnBhcnRpY2xlU3lzdGVtLnByaW50Q091bnQoKTsgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiTm8uIG9mIHJheXMgXCIsIHRoaXMucmF5cy5sZW5ndGgpO1xyXG4gICAgICAgIHRoaXMuY29sbGlzaW9uTWFuYWdlci51cGRhdGUodGhpcy50aW1lX3N0ZXApO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7IElWZWN0b3JHZW5lcmF0b3IgfSBmcm9tIFwiLi4vaS1wYXJ0aWNsZS1nZW5lcmF0b3JcIjtcclxuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCJ0aHJlZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZpeGVkUG9zaXRpb25HZW5lcmF0b3IgaW1wbGVtZW50cyBJVmVjdG9yR2VuZXJhdG9yIHtcclxuICAgIHBvczogVmVjdG9yMztcclxuICAgIGNvbnN0cnVjdG9yKGZpeDogVmVjdG9yMykge1xyXG4gICAgICAgIHRoaXMucG9zID0gZml4O1xyXG4gICAgfVxyXG4gICAgZ2VuZXJhdGUoKTogVmVjdG9yMyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7IFdlYkdMUmVuZGVyZXIsIFNjZW5lLCBQZXJzcGVjdGl2ZUNhbWVyYSwgUmF5Y2FzdGVyLCBDb2xvciwgT2JqZWN0M0QgfSBmcm9tIFwidGhyZWVcIjtcclxuaW1wb3J0IHsgUG9pbnRTZXQgfSBmcm9tIFwiLi9wb2ludC1zZXRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBCb2lsZXJwbGF0ZSB7XHJcblxyXG4gICAgcmVuZGVyZXI6IFdlYkdMUmVuZGVyZXI7XHJcbiAgICBzY2VuZTogU2NlbmU7XHJcbiAgICBjYW1lcmE6IFBlcnNwZWN0aXZlQ2FtZXJhO1xyXG4gICAgcmF5Y2FzdGVyOiBSYXljYXN0ZXI7XHJcbiAgICBtb3VzZSA9IHsgeDogMCwgeTogMCB9O1xyXG4gICAgcG9pbnRTZXQ6IFBvaW50U2V0O1xyXG4gICAgaW50ZXJwb2xhdGVkUG9pbnRzOiBQb2ludFNldDtcclxuICAgIHBvaW50U2VsZWN0ZWQgITogT2JqZWN0M0QgfCBudWxsO1xyXG4gICAgdDogbnVtYmVyO1xyXG4gICAgYXNwZWN0UmF0aW86IG51bWJlcjtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgdGhpcy5yYXljYXN0ZXIgPSBuZXcgUmF5Y2FzdGVyKCk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgV2ViR0xSZW5kZXJlcigpO1xyXG4gICAgICAgIC8vIHRoaXMucmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XHJcbiAgICAgICAgdmFyIHdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICAgICAgdmFyIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgICAgICAvLyB2YXIgd2lkdGggPSB3aW5kb3cub3V0ZXJXaWR0aDtcclxuICAgICAgICAvLyB2YXIgaGVpZ2h0ID0gd2luZG93Lm91dGVySGVpZ2h0O1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcclxuICAgICAgICBjb25zb2xlLmxvZyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XHJcbiAgICAgICAgdGhpcy5hc3BlY3RSYXRpbyA9IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gbmV3IFBlcnNwZWN0aXZlQ2FtZXJhKDQ1LCB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodCwgMSwgMjAwMDApO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnNldCgwLCAwLCAyMDApO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLmxvb2tBdCgwLCAwLCAwKTtcclxuICAgICAgICAvLyBzZXRUaW1lb3V0KHRoaXMub25XaW5kb3dSZXNpemUuYmluZCh0aGlzKSwgMzAwMCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IG5ldyBTY2VuZSgpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuYmFja2dyb3VuZCA9IG5ldyBDb2xvcignIzAwMDAwMCcpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uV2luZG93UmVzaXplLmJpbmQodGhpcyksIGZhbHNlKTtcclxuXHJcbiAgICAgICAgdGhpcy5wb3N0SW5pdEhvb2soKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gUG9zdCBjcmVhdGlvbiBob29rIFxyXG4gICAgcG9zdEluaXRIb29rKCkge1xyXG4gICAgfVxyXG5cclxuICAgIG9uV2luZG93UmVzaXplKCkge1xyXG4gICAgICAgIHZhciB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgICAgIHZhciBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEuYXNwZWN0ID0gd2lkdGggL2hlaWdodDtcclxuICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XHJcbiAgICAgICAgdGhpcy5hc3BlY3RSYXRpbyA9IHdpZHRoIC8gaGVpZ2h0O1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubWF4V2lkdGggPSB3aWR0aCtcInB4XCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5tYXhIZWlnaHQgPSBoZWlnaHQrXCJweFwiO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy9cclxuXHJcbiAgICBhbmltYXRlKCkge1xyXG4gICAgICAgIC8vIHRoaXMub25XaW5kb3dSZXNpemUoKTtcclxuICAgICAgICB0aGlzLmFuaW1hdGVIb29rKCk7XHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0ZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLnJlbmRlcigpO1xyXG4gICAgICAgIHRoaXMudCArPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVzZSB0aGlzIGZ1bmN0aW9uIHRvIHBsYWNlIGFsbCBhbmltYXRpb24gY29kZVxyXG4gICAgYW5pbWF0ZUhvb2soKSB7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG5cclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==